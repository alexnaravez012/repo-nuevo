(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0+LS":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var o=i("LcAk"),r=i("fXoL"),a=i("Dcmo"),n=i("Xlwt"),s=i("ofXK");function c(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",5),r.Wb(1,"div",6),r.Wb(2,"button",7),r.fc("click",(function(){return r.Bc(t),r.jc().close(!0)})),r.Mc(3,"Continuar con caja abierta"),r.Vb(),r.Vb(),r.Wb(4,"div",6),r.Wb(5,"button",7),r.fc("click",(function(){return r.Bc(t),r.jc().close(!1)})),r.Mc(6,"Cerrar la caja"),r.Vb(),r.Vb(),r.Vb()}}function l(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div"),r.Wb(1,"div",8),r.Wb(2,"button",9),r.fc("click",(function(){return r.Bc(t),r.jc().close(!0)})),r.Mc(3,"Continuar con caja abierta"),r.Vb(),r.Vb(),r.Wb(4,"div",8),r.Wb(5,"button",9),r.fc("click",(function(){return r.Bc(t),r.jc().close(!1)})),r.Mc(6,"Cerrar la caja"),r.Vb(),r.Vb(),r.Vb()}}let d=(()=>{class t{constructor(t,e,i,o){this.locStorage=t,this.dialogRef=e,this.dialog=i,this.data=o}ngOnInit(){}close(t){this.dialogRef.close(t)}isMobile(){return!(window.innerWidth>991)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a.a),r.Qb(o.h),r.Qb(o.b),r.Qb(o.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-openorclosebox"]],decls:8,vars:4,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],["class","row","style","text-align: center; margin-top: 20px;margin-bottom: 20px;margin-left: unset;margin-right: unset",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center","margin-top","20px","margin-bottom","20px","margin-left","unset","margin-right","unset"],[1,"col-6"],["mat-stroked-button","","color","primary","type","button",3,"click"],[1,"DivMobile"],["mat-stroked-button","","color","primary","type","button",1,"Boton",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"h4",2),r.Mc(3,"Abrir caja"),r.Vb(),r.Wb(4,"p",2),r.Mc(5),r.Vb(),r.Vb(),r.Kc(6,c,7,0,"div",3),r.Kc(7,l,7,0,"div",4),r.Vb()),2&t&&(r.Db(5),r.Pc("Usted tiene la caja ",e.data.answering[0].caja," de la tienda ",e.data.answering[0].tienda," abierta, desea continuar en esta o cerrarla y abrir otra?."),r.Db(1),r.qc("ngIf",!e.isMobile()),r.Db(1),r.qc("ngIf",e.isMobile()))},directives:[s.t,n.b],styles:[".DivMobile[_ngcontent-%COMP%]{height:10vw;display:flex}.Boton[_ngcontent-%COMP%]{margin:auto}"]}),t})()},"5kjY":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i,o,r,a,n){}}},EHX2:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var o=i("hwtd"),r=i("LcAk"),a=i("MkNp"),n=i("EVdn"),s=(i("uejM"),i("fXoL")),c=i("Dcmo"),l=i("MSSf"),d=i("A2Vd"),h=i("Xlwt"),b=i("tk/3"),u=i("ofXK"),p=i("IRfi"),m=i("3Pt+"),g=i("TT0I");const f=["nameref"];function _(t,e){1&t&&(s.Wb(0,"div",5),s.Wb(1,"h5"),s.Mc(2,"Estado: "),s.Vb(),s.Mc(3,"Abierta "),s.Vb())}function v(t,e){1&t&&(s.Wb(0,"div",5),s.Wb(1,"h5"),s.Mc(2,"Estado: "),s.Vb(),s.Mc(3,"En Camino "),s.Vb())}function S(t,e){1&t&&(s.Wb(0,"div",5),s.Wb(1,"h5"),s.Mc(2,"Estado: "),s.Vb(),s.Mc(3,"Cerrada "),s.Vb())}function y(t,e){if(1&t){const t=s.Xb();s.Wb(0,"tr"),s.Wb(1,"td",20),s.fc("click",(function(){s.Bc(t);const i=e.$implicit;return s.jc().PDF(i)})),s.Mc(2),s.Vb(),s.Wb(3,"td"),s.Mc(4),s.Vb(),s.Wb(5,"td"),s.Mc(6),s.kc(7,"currency"),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit;s.Db(2),s.Nc(t.numfactura),s.Db(2),s.Nc(t.numpedido),s.Db(2),s.Nc(s.nc(7,3,t.totalprice,"USD","symbol","1.0"))}}function C(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",21),s.fc("click",(function(){return s.Bc(t),s.jc().cerrarPlanilla()})),s.Mc(1,"Cerrar Planilla"),s.Vb()}if(2&t){const t=s.jc();s.qc("disabled",t.obs.length<=0)}}function x(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",19),s.fc("click",(function(){return s.Bc(t),s.jc().cerrarPlanilla()})),s.Mc(1,"Cerrar Planilla"),s.Vb()}}const D=function(){return{precision:0,allowNegative:!1}};let V=n,j=(()=>{class t{constructor(t,e,i,o,r){this.locStorage=t,this.dialogRef=e,this.dialog=i,this.httpClient=o,this.data=r,this.obs="",this.billetes=0,this.monedas=0,this.totalOtros=0,this.total=0}ngOnInit(){setTimeout(()=>{this.elementRef.nativeElement.focus(),this.elementRef.nativeElement.select()},100),this.SelectedBillState=this.data.myStateId,this.httpClient.get(a.a.facturacion+"/pedidos/getDatosPlanilla?id_planilla="+this.data.idPlanilla).subscribe(t=>{Object(o.a)(t),this.planillaDetails=t,t.forEach(t=>{this.total+=t.totalprice})})}PDF(t){this.httpClient.get(a.a.facturacion+"/billing/UniversalPDF?id_bill="+t.id_BILL+"&pdf=-1&cash=0&size="+!1,{responseType:"text"}).subscribe(t=>{window.open(a.a.facturas+"/"+t,"_blank")})}cerrarPlanilla(){this.httpClient.post(a.a.facturacion+"/pedidos/cerrarPlanilla?IDPLANILLA="+this.data.idPlanilla+"&NOTAS="+this.obs+"&valorbilletes="+this.billetes+"&valormonedas="+this.monedas+"&ESTADOORIGENPROV="+this.SelectedBillState+"&IDTHIRDUSER="+this.locStorage.getToken().id_third+"&ACTOR=P&valorotros="+this.totalOtros,{}).subscribe(t=>{Object(o.a)(t),1==t?(this.showNotification("top","center",3,"<h3>Planilla cerrada.</h3> ","info"),this.dialogRef.close({type:1})):this.showNotification("top","center",3,"<h3>Se presento un problema al cerrar la planilla</h3> ","danger")})}cerrarPlanillaNovedad(){this.httpClient.post(a.a.facturacion+"/pedidos/cerrarPlanillaNovedad?IDPLANILLA="+this.data.idPlanilla+"&NOTAS="+this.obs+"&ESTADOORIGENPROV="+this.SelectedBillState+"&IDTHIRDUSER="+this.locStorage.getToken().id_third+"&ACTOR=P",{}).subscribe(t=>{Object(o.a)(t),1==t?(this.showNotification("top","center",3,"<h3>Planilla cerrada con novedad.</h3> ","info"),this.dialogRef.close({type:2})):this.showNotification("top","center",3,"<h3>Se presento un problema al cerrar la planilla</h3> ","danger")})}showNotification(t,e,i,o,r){Math.floor(4*Math.random()+1),V.notify({icon:"notifications",message:o||"<b>Noficaci\xf3n automatica </b>"},{type:r||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(c.a),s.Qb(r.h),s.Qb(r.b),s.Qb(b.b),s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-pedidos-domicilios-cerrar-planillas"]],viewQuery:function(t,e){var i;1&t&&s.Tc(f,!0),2&t&&s.xc(i=s.gc())&&(e.elementRef=i.first)},decls:68,vars:25,consts:[[2,"height","100%","width","100%","padding","0"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"display","flex"],[2,"box-shadow","0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 3px 14px 2px rgba(0, 0, 0, 0.12)","padding-top","5px","width","100%","display","flex"],[2,"margin","0 auto","padding","0 5px"],["style","margin: 0 auto;padding: 0 5px",4,"ngIf"],[1,"card-content","table-responsive"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"margin","0 auto","padding","0 5px","text-align","center"],[1,"text-center",2,"text-align","center"],[2,"width","100%","font-size","medium","padding-right","20px"],["matInput","","type","text",3,"ngModel","ngModelChange"],[2,"width","30%","font-size","medium","padding-right","20px"],["currencyMask","","matInput","","type","text","step","1","id","readerQuantity","min","1",3,"options","ngModel","click","ngModelChange"],["nameref",""],["style","margin-right: 10px; width: 45%","mat-stroked-button","","type","button","color","blue",3,"disabled","click",4,"ngIf"],["style","margin-right: 10px; width: 45%","mat-stroked-button","","type","button","color","blue",3,"click",4,"ngIf"],["mat-stroked-button","","type","button","color","blue",2,"margin-right","10px","width","45%",3,"click"],[2,"color","blueviolet",3,"click"],["mat-stroked-button","","type","button","color","blue",2,"margin-right","10px","width","45%",3,"disabled","click"]],template:function(t,e){1&t&&(s.Wb(0,"div"),s.Wb(1,"mat-card",0),s.Wb(2,"mat-card-header",1),s.Wb(3,"mat-card-title",2),s.Mc(4,"Planilla"),s.Vb(),s.Vb(),s.Vb(),s.Wb(5,"mat-card"),s.Wb(6,"div"),s.Wb(7,"div",3),s.Wb(8,"div",4),s.Wb(9,"div",5),s.Wb(10,"h5"),s.Mc(11,"Fecha Inicio Planilla: "),s.Vb(),s.Mc(12),s.Vb(),s.Wb(13,"div",5),s.Wb(14,"h5"),s.Mc(15,"Domiciliario: "),s.Vb(),s.Mc(16),s.Vb(),s.Wb(17,"div",5),s.Wb(18,"h5"),s.Mc(19,"Numero Planilla: "),s.Vb(),s.Mc(20),s.Vb(),s.Kc(21,_,4,0,"div",6),s.Kc(22,v,4,0,"div",6),s.Kc(23,S,4,0,"div",6),s.Vb(),s.Vb(),s.Rb(24,"br"),s.Wb(25,"div",3),s.Wb(26,"div",7),s.Wb(27,"table",8),s.Wb(28,"tr"),s.Wb(29,"th"),s.Mc(30,"Numero de Factura"),s.Vb(),s.Wb(31,"th"),s.Mc(32,"Numero de Pedido"),s.Vb(),s.Wb(33,"th"),s.Mc(34,"Total Precio"),s.Vb(),s.Vb(),s.Kc(35,y,8,8,"tr",9),s.Vb(),s.Vb(),s.Vb(),s.Rb(36,"br"),s.Wb(37,"div",3),s.Wb(38,"div",4),s.Wb(39,"div",10),s.Wb(40,"h5"),s.Mc(41,"Total: "),s.Vb(),s.Mc(42),s.kc(43,"currency"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Rb(44,"hr"),s.Wb(45,"div",11),s.Wb(46,"mat-form-field",12),s.Wb(47,"mat-label"),s.Mc(48,"Observaciones"),s.Vb(),s.Wb(49,"input",13),s.fc("ngModelChange",(function(t){return e.obs=t})),s.Vb(),s.Vb(),s.Wb(50,"mat-form-field",14),s.Wb(51,"mat-label"),s.Mc(52,"Monedas"),s.Vb(),s.Wb(53,"input",15,16),s.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.monedas=t})),s.Vb(),s.Vb(),s.Wb(55,"mat-form-field",14),s.Wb(56,"mat-label"),s.Mc(57,"Billetes"),s.Vb(),s.Wb(58,"input",15),s.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.billetes=t})),s.Vb(),s.Vb(),s.Wb(59,"mat-form-field",14),s.Wb(60,"mat-label"),s.Mc(61,"Otros"),s.Vb(),s.Wb(62,"input",15),s.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.totalOtros=t})),s.Vb(),s.Vb(),s.Vb(),s.Wb(63,"div",11),s.Kc(64,C,2,1,"button",17),s.Kc(65,x,2,0,"button",18),s.Wb(66,"button",19),s.fc("click",(function(){return e.cerrarPlanillaNovedad()})),s.Mc(67,"Cerrar Planilla Con Novedad"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Db(12),s.Oc("",e.planillaDetails[0].fecha_INICIO," "),s.Db(4),s.Oc("",e.planillaDetails[0].domiciliario," "),s.Db(4),s.Oc("",e.planillaDetails[0].numplanilla," "),s.Db(1),s.qc("ngIf","O"==e.planillaDetails[0].status),s.Db(1),s.qc("ngIf","R"==e.planillaDetails[0].status),s.Db(1),s.qc("ngIf","O"!=e.planillaDetails[0].status&&"R"!=e.planillaDetails[0].status),s.Db(12),s.qc("ngForOf",e.planillaDetails),s.Db(7),s.Oc("",s.nc(43,17,e.total,"USD","symbol","1.0")," "),s.Db(7),s.qc("ngModel",e.obs),s.Db(4),s.qc("options",s.tc(22,D))("ngModel",e.monedas),s.Db(5),s.qc("options",s.tc(23,D))("ngModel",e.billetes),s.Db(4),s.qc("options",s.tc(24,D))("ngModel",e.totalOtros),s.Db(2),s.qc("ngIf",e.data.blockedObs),s.Db(1),s.qc("ngIf",!e.data.blockedObs))},directives:[l.a,l.f,l.m,u.t,u.s,p.b,p.f,d.b,m.c,m.r,m.u,g.a,h.b],pipes:[u.d],styles:[""]}),t})()},EY4h:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var o=i("hwtd"),r=i("tk/3"),a=i("MkNp"),n=i("Cfvw"),s=i("fXoL"),c=i("Dcmo");let l=(()=>{class t{constructor(t,e){this.http=t,this.locStorage=e,this.api_uri_inv=a.a.tienda+"/inventories",this.api_uri_inv_det=a.a.tienda+"/inventories-details",this.api_uri_inv_det_spl=a.a.tienda+"inventories-details/simple",this.headers=new r.d({"Content-Type":"application/json"}),this.getInventoriesList=(t,e,i,o,a,s,c)=>{let l=new r.e,d=[];d.push(["id_inventory",e?""+e:null]),d.push(["id_third",i?""+i:null]),d.push(["id_common_inventory",o?""+o:null]),d.push(["name_inventory",a?""+a:null]),d.push(["description_inventory",s?""+s:null]),d.push(["id_state_inventory",c?""+c:null]),d.push(["state_inventory",t?""+t:null]);for(let r=0;r<d.length;r++)null!=d[r][1]&&(l=l.append(d[r][0],d[r][1]));this.options.params=l;let h=new Promise((t,e)=>{this.http.get(this.api_uri_inv,this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(n.a)(h)},this.getInventoriesParamters=(t,e)=>{let i=new r.e,o=[];o.push(["id_inventory",t?""+t:null]),o.push(["id_third",e?""+e:null]);for(let r=0;r<o.length;r++)null!=o[r][1]&&(i=i.append(o[r][0],o[r][1]));this.options.params=i;let a=new Promise((t,e)=>{this.http.get(this.api_uri_inv+"/parameters",this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(n.a)(a)},this.postInventory=t=>{let e=new r.e,i=[];for(let r=0;r<i.length;r++)null!=i[r][1]&&(e=e.append(i[r][0],i[r][1]));this.options.params=e;let o=new Promise((e,i)=>{this.http.post(this.api_uri_inv,t,this.options).subscribe(t=>{e(t)},t=>{this.handleError(t),i(null)})});return Object(n.a)(o)},this.putInventory=(t,e)=>{let i=new Promise((i,o)=>{this.http.put(this.api_uri_inv+"/"+t,e,{headers:this.headers}).subscribe(t=>{i(!0)},t=>{this.handleError(t),o(!1)})});return Object(n.a)(i)},this.getInventory=t=>{let e=new Promise((e,i)=>{console.log(a.a.tienda+"/products2/inventoryListActivos?id_store="+t),this.http.get(a.a.tienda+"/products2/inventoryListActivos?id_store="+t,{headers:this.headers}).subscribe(t=>{e(t)},t=>{this.handleError(t),i(t)})});return Object(n.a)(e)},this.deleteInventory=t=>{let e=new Promise((e,i)=>{this.http.delete(this.api_uri_inv+"/"+t,this.options).subscribe(t=>{e(!0)},t=>{this.handleError(t),i(!1)})});return Object(n.a)(e)},this.getInventoriesDetailSimpleList=(t,e,i,o,a,s,c,l)=>{let d=new r.e,h=[];h.push(["id_inventory_detail",e?""+e:null]),h.push(["id_inventory",i?""+i:null]),h.push(["id_product_third",o?""+o:null]),h.push(["quantity",a?""+a:null]),h.push(["code",s?""+s:null]),h.push(["id_state_inv_detail",l?""+l:null]),h.push(["state_inv_detail",t?""+t:null]);for(let r=0;r<h.length;r++)null!=h[r][1]&&(d=d.append(h[r][0],h[r][1]));this.options.params=d;let b=new Promise((t,e)=>{this.http.get(this.api_uri_inv_det_spl,this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(n.a)(b)},this.getInventoriesDetailList=(t,e,i,o,a,s,c,l,d,h,b,u,p,m,g,f,_,v,S,y,C,x,D,V,j,O,W,w,M,T,I,E,k,P,R)=>{let N=new r.e,B=[];B.push(["state_inv_detail",t?""+t:null]),B.push(["id_inventory_detail",i?""+i:null]),B.push(["id_inventory",o?""+o:null]),B.push(["quantity",a?""+a:null]),B.push(["id_state_inv_detail",s?""+s:null]),B.push(["id_product",c?""+c:null]),B.push(["id_category",l?""+l:null]),B.push(["stock",d?""+d:null]),B.push(["stock_min",h?""+h:null]),B.push(["img_url",b?""+b:null]),B.push(["id_tax",u?""+u:null]),B.push(["id_common_product",p?""+p:null]),B.push(["name_product",m?""+m:null]),B.push(["description_product",g?""+g:null]),B.push(["id_state_product",f?""+f:null]),B.push(["state_product",e?""+e:null]),B.push(["id_product_third",_?""+_:null]),B.push(["id_third",S?""+S:null]),B.push(["id_category_third",y?""+y:null]),B.push(["location",v?""+v:null]),B.push(["id_state_prod_third",C?""+C:null]),B.push(["state_prod_third",x?""+x:null]),B.push(["id_measure_unit",D?""+D:null]),B.push(["id_measure_unit_father",V?""+V:null]),B.push(["id_common_measure_unit",j?""+j:null]),B.push(["name_measure_unit",O?""+O:null]),B.push(["description_measure_unit",W?""+W:null]),B.push(["id_state_measure_unit",w?""+w:null]),B.push(["state_measure_unit",M?""+M:null]),B.push(["id_code",T?""+T:null]),B.push(["code",I?""+I:null]),B.push(["id_attribute_list",k?""+k:null]),B.push(["id_state_cod",P?""+P:null]),B.push(["state_cod",R?""+R:null]);for(let r=0;r<B.length;r++)null!=B[r][1]&&(N=N.append(B[r][0],B[r][1]));this.options.params=N;let A=new Promise((t,e)=>{this.http.get(this.api_uri_inv_det,this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(n.a)(A)},this.postInventoryDetail=(t,e)=>{let i=new r.e;null!=(t?""+t:null)&&(i=i.append("id_inventory",t?""+t:null)),this.options.params=i;let o=new Promise((t,i)=>{this.http.post(this.api_uri_inv_det,e,this.options).subscribe(e=>{t(!0)},t=>{this.handleError(t),i(!1)})});return Object(n.a)(o)},this.postInventoriesDetailListFilters=(t,e,i)=>{let o=new r.e;null!=(e?""+e:null)&&(o=o.append("id_inventory",e?""+e:null)),null!=(t?""+t:null)&&(o=o.append("id_third",t?""+t:null)),this.options.params=o;let a=new Promise((t,e)=>{this.http.post(this.api_uri_inv+"/filters",i,this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(n.a)(a)},this.putInventoryDetail=(t,e)=>{let i=new Promise((i,o)=>{this.http.put(this.api_uri_inv_det+"/"+t,e,{headers:this.headers}).subscribe(t=>{i(!0)},t=>{this.handleError(t),o(!1)})});return Object(n.a)(i)},this.deleteInventoryDetail=(t,e)=>{let i=new r.e;null!=(e?""+e:null)&&(i=i.append("id_inventory",e?""+e:null)),this.options.params=i;let o=new Promise((e,i)=>{this.http.delete(this.api_uri_inv_det+"/"+t,this.options).subscribe(t=>{e(!0)},t=>{this.handleError(t),i(!1)})});return Object(n.a)(o)},this.putPlusInventory=(t,e)=>{let i=new Promise((i,o)=>{this.http.put(this.api_uri_inv+"/plus/"+t,e,{headers:this.headers}).subscribe(t=>{i(!0)},t=>{this.handleError(t),o(!1)})});return Object(n.a)(i)},this.putQuantity=(t,e,i,s,c,l)=>{if(1==c){let c=new Promise((n,c)=>{let l=new r.e;l=l.append("quantity",e+""),l=l.append("id_store",t+""),l=l.append("code",i+""),Object(o.a)("putQuantity body es "+s),this.http.put(a.a.facturacion+"/billing-state/quantity",s,{params:l,responseType:"text"}).subscribe(t=>{n(!0)},t=>{this.handleError(t),c(!1)})});return Object(n.a)(c)}{let o=new Promise((o,n)=>{let c=new r.e;c=c.append("quantity",e+""),c=c.append("id_store",t+""),c=c.append("code",i+""),c=c.append("id_storage",l+""),this.http.put(a.a.facturacion+"/billing-state/quantity",s,{params:c,responseType:"text"}).subscribe(t=>{o(!0)},t=>{this.handleError(t),n(!1)})});return Object(n.a)(o)}},this.putDiscountInventory=(t,e)=>{let i=new Promise((i,o)=>{this.http.put(this.api_uri_inv+"/discount/"+t,e,{headers:this.headers}).subscribe(t=>{i(!0)},t=>{this.handleError(t),o(!1)})});return Object(n.a)(i)},this.headers=new r.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),localStorage.getItem("currentUser"),this.options={headers:this.headers}}handleError(t){let e;if(t instanceof Response){const i=t.json()||"",o=i.error||JSON.stringify(i);e=`${t.status} - ${t.statusText||""} ${o}`}else e=t.message?t.message:t.toString();return"true"!=localStorage.getItem("SesionExpirada")&&alert(e),null}}return t.\u0275fac=function(e){return new(e||t)(s.bc(r.b),s.bc(c.a))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},HErj:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var o=i("fXoL"),r=i("LcAk"),a=i("MSSf"),n=i("A2Vd"),s=i("Xlwt"),c=i("IRfi"),l=i("3Pt+");let d=(()=>{class t{constructor(t){this.dialogRef=t,this.movementNotas=""}ngOnInit(){this.movementNotas=""}addNotes(){this.dialogRef.close(this.movementNotas)}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-add-notes-close-box"]],decls:14,vars:1,consts:[[2,"max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"font-size","0.8em","font-weight","300","text-emphasis","left","color","white","margin-bottom","0px"],[1,"row",2,"padding","20px"],[1,"col"],[2,"width","100%"],["matInput","","type","text","placeholder","Notas","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"mat-card-header",1),o.Wb(2,"mat-card-title",2),o.Mc(3," Agregue las notas correspondientes a su Cierre de caja"),o.Vb(),o.Wb(4,"mat-card-subtitle",3),o.Mc(5," Por favor agregue notas en su cierre de caja si las tuviera."),o.Vb(),o.Vb(),o.Wb(6,"mat-card-content"),o.Wb(7,"div",4),o.Wb(8,"div",5),o.Wb(9,"mat-form-field",6),o.Wb(10,"input",7),o.fc("ngModelChange",(function(t){return e.movementNotas=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",5),o.Wb(12,"button",8),o.fc("click",(function(){return e.addNotes()})),o.Mc(13,"Cerrar Caja"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(10),o.qc("ngModel",e.movementNotas))},directives:[a.f,a.m,a.l,a.d,c.b,n.b,l.c,l.r,l.u,s.b],styles:[""]}),t})()},OAIB:function(t,e,i){"use strict";i.r(e),i.d(e,"Tienda724Module",(function(){return Mt}));var o=i("ofXK"),r=i("tyNb"),a=i("3Pt+"),n=(i("yLV6"),i("dm21")),s=i("j1ZV"),c=i("hwtd");class l{constructor(t,e,i,o){}}var d=i("j9Ql");class h{constructor(t,e,i){}}var b=i("EOfQ"),u=i("fXoL"),p=i("Dcmo"),m=i("ej43"),g=i("C8/p"),f=i("OL1i"),_=i("mrSG"),v=i("QzhR"),S=i("0+LS"),y=i("cUZ2"),C=i("pQyV"),x=i("tk/3"),D=i("EVdn"),V=(i("uejM"),i("MkNp")),j=i("EY4h"),O=i("ktqI"),W=i("uuDO"),w=i("LcAk"),M=i("MSSf"),T=i("2+6u"),I=i("dCan"),E=i("kEI4"),k=i("TY1r"),P=i("Xlwt"),R=i("fDUG"),N=i("clUF"),B=i("Xsy6"),A=i("IRfi"),F=i("j14s");const q=["ContenedorMatCard"],L=["ContenedorHeader"];function U(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div",17),u.fc("click",(function(){return u.Bc(t),u.jc(2).openFile()})),u.Rb(1,"img",18),u.Wb(2,"input",19),u.fc("change",(function(e){return u.Bc(t),u.jc(2).setFileImage(e)})),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function z(t,e){if(1&t&&(u.Wb(0,"div"),u.Rb(1,"img",18),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function Q(t,e){if(1&t&&(u.Wb(0,"mat-card-title",20),u.Mc(1),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.Oc(" ",null!=t.thirdFather&&t.thirdFather.info.fullname?null==t.thirdFather?null:t.thirdFather.info.fullname:"Tienda 724","")}}function K(t,e){if(1&t&&(u.Wb(0,"mat-card-title",21),u.Mc(1),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.Oc(" ",t.storeName,"")}}function X(t,e){if(1&t&&(u.Wb(0,"mat-option",25),u.Mc(1),u.Vb()),2&t){const t=e.$implicit;u.qc("value",t.id_STORE),u.Db(1),u.Oc(" ",t.store_NAME," ")}}function H(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-form-field",22),u.Wb(1,"mat-label"),u.Mc(2,"Seleccione tienda"),u.Vb(),u.Wb(3,"mat-select",23),u.fc("ngModelChange",(function(e){return u.Bc(t),u.jc(2).SelectedStore=e}))("selectionChange",(function(){return u.Bc(t),u.jc(2).setIdStore()})),u.Kc(4,X,2,2,"mat-option",24),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(3),u.qc("ngModel",t.SelectedStore),u.Db(1),u.qc("ngForOf",t.Stores)}}function J(t,e){if(1&t&&(u.Wb(0,"p",30),u.Mc(1),u.Vb()),2&t){const t=e.$implicit,i=u.jc(3);u.Db(1),u.Nc(i.token.roles.length>1?t.rol+"/":t.rol)}}function G(t,e){if(1&t&&(u.Wb(0,"p",30),u.Mc(1),u.Vb()),2&t){const t=u.jc(3);u.Db(1),u.Pc("",null==t.person?null:t.person.info.type_document,": ",null==t.person?null:t.person.info.document_number,"")}}function $(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-expansion-panel",26),u.Wb(1,"mat-expansion-panel-header",27),u.Wb(2,"mat-panel-title",28),u.Mc(3),u.Vb(),u.Vb(),u.Wb(4,"mat-list"),u.Wb(5,"mat-list-item"),u.Wb(6,"mat-icon",29),u.Mc(7,"supervised_user_circle"),u.Vb(),u.Wb(8,"h4",30),u.Mc(9,"Sus roles son:"),u.Vb(),u.Kc(10,J,2,1,"p",31),u.Vb(),u.Wb(11,"mat-list-item"),u.Wb(12,"mat-icon",29),u.Mc(13,"assignment_ind"),u.Vb(),u.Wb(14,"h4",30),u.Mc(15,"Sus documento es:"),u.Vb(),u.Kc(16,G,2,2,"p",32),u.Wb(17,"p",30),u.Mc(18),u.Vb(),u.Vb(),u.Vb(),u.Wb(19,"mat-list",33),u.Wb(20,"mat-list-item",34),u.fc("click",(function(){return u.Bc(t),u.jc(2).logout()})),u.Wb(21,"mat-icon",29),u.Mc(22,"exit_to_app"),u.Vb(),u.Wb(23,"h4",35),u.Mc(24,"Cerrar Sesi\xf3n"),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(3),u.Pc(" ",null==t.person?null:t.person.first_name," ",null==t.person?null:t.person.first_lastname," "),u.Db(7),u.qc("ngForOf",t.token.roles),u.Db(6),u.qc("ngIf",t.person.info.type_document&&t.person.info.document_number),u.Db(2),u.Oc("Id de usuario: ",null==t.person?null:t.person.uuid.UUID,""),u.Db(2),u.qc("hidden",!t.locStorage.getOnline())}}function Y(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-list",33),u.Wb(1,"mat-list-item",36),u.fc("click",(function(){return u.Bc(t),u.jc(2).logout()})),u.Wb(2,"mat-icon",29),u.Mc(3,"exit_to_app"),u.Vb(),u.Vb(),u.Vb()}}function Z(t,e){if(1&t&&(u.Wb(0,"h4",42),u.Mc(1),u.Vb()),2&t){const t=u.jc().$implicit;u.Db(1),u.Nc(t.nombre)}}function tt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-card",37),u.Wb(1,"mat-list",38),u.Wb(2,"mat-list-item",39),u.fc("click",(function(){u.Bc(t);const i=e.$implicit;return u.jc(2).gotoMenu(i)})),u.Wb(3,"mat-icon",40),u.Mc(4),u.Vb(),u.Kc(5,Z,2,1,"h4",41),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=e.$implicit,i=u.jc(2);u.Db(2),u.qc("hidden",!i.locStorage.getOnline())("ngClass",i.menuSeleccionado==t?"item_active":"item"),u.Db(2),u.Nc(t.icono),u.Db(1),u.qc("ngIf",!i.compressed)}}function et(t,e){if(1&t){const t=u.Xb();u.Wb(0,"button",47),u.fc("click",(function(){return u.Bc(t),u.jc(3).CambiarVista()})),u.Mc(1,"Panel de Control"),u.Vb()}}function it(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-card",43),u.Kc(1,et,2,0,"button",44),u.Wb(2,"div",45),u.fc("click",(function(){return u.Bc(t),u.jc(2).ComprimirSidebar()})),u.Wb(3,"mat-icon",46),u.Mc(4,"play_arrow"),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Jc("width",t.compressed?"75px":"17vw"),u.Db(1),u.qc("ngIf",!t.compressed),u.Db(1),u.Jc("margin",t.compressed?"auto":"unset"),u.Db(1),u.Jc("transform",t.compressed?"scale(1, 1)":"scale(-1, 1)")("margin-left",t.compressed?"-4px":"unset")}}function ot(t,e){if(1&t&&(u.Wb(0,"div",4),u.Wb(1,"div",5),u.Wb(2,"mat-card",6),u.Wb(3,"mat-card-content"),u.Kc(4,U,3,1,"div",7),u.Kc(5,z,2,1,"div",1),u.Kc(6,Q,2,1,"mat-card-title",8),u.Kc(7,K,2,1,"mat-card-title",9),u.Kc(8,H,5,2,"mat-form-field",10),u.Kc(9,$,25,6,"mat-expansion-panel",11),u.Kc(10,Y,4,0,"mat-list",12),u.Vb(),u.Vb(),u.Vb(),u.Wb(11,"div",13),u.Wb(12,"mat-card",14),u.Kc(13,tt,6,4,"mat-card",15),u.Vb(),u.Kc(14,it,5,9,"mat-card",16),u.Vb(),u.Vb()),2&t){const t=u.jc();u.Db(2),u.Jc("width",t.compressed?"75px":t.isMobileMenuNav()?"unset":"17vw"),u.Db(2),u.qc("ngIf",21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol),u.Db(1),u.qc("ngIf",!(21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol)),u.Db(1),u.qc("ngIf",!t.compressed),u.Db(1),u.qc("ngIf",!t.compressed&&8888==t.locStorage.getRol()[0].id_rol),u.Db(1),u.qc("ngIf",!t.compressed&&8888!=t.locStorage.getRol()[0].id_rol&&t.locStorage.getOnline()),u.Db(1),u.qc("ngIf",!t.compressed),u.Db(1),u.qc("ngIf",t.compressed),u.Db(1),u.Jc("width",t.isMobileMenuNav()?"100%":"17vw"),u.qc("ngClass",t.compressed?"UsarRestoEspacioColapsado":"UsarRestoEspacio"),u.Db(1),u.Jc("width",t.compressed?"75px":t.isMobileMenuNav()?"unset":"17vw")("height",t.isMobileMenuNav()?"100%":"calc(100% - 55px)"),u.Db(1),u.qc("ngForOf",t.menusLista),u.Db(1),u.qc("ngIf",!t.isMobileMenu())}}function rt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"button",74),u.fc("click",(function(){return u.Bc(t),u.jc(2).ClickShowOptions()})),u.Wb(1,"mat-icon"),u.Mc(2,"keyboard_backspace"),u.Vb(),u.Mc(3," Mostrar Opciones"),u.Vb()}}function at(t,e){if(1&t&&(u.Wb(0,"mat-card-title",75),u.Mc(1),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.Oc(" ",t.storeName,"")}}function nt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div",17),u.fc("click",(function(){return u.Bc(t),u.jc(2).openFile()})),u.Rb(1,"img",18),u.Wb(2,"input",19),u.fc("change",(function(e){return u.Bc(t),u.jc(2).setFileImage(e)})),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function st(t,e){if(1&t&&(u.Wb(0,"div"),u.Rb(1,"img",18),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function ct(t,e){if(1&t&&(u.Wb(0,"mat-option",25),u.Mc(1),u.Vb()),2&t){const t=e.$implicit;u.qc("value",t.id_STORE),u.Db(1),u.Oc(" ",t.store_NAME," ")}}function lt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"mat-form-field",22),u.Wb(1,"mat-label"),u.Mc(2,"Seleccione tienda"),u.Vb(),u.Wb(3,"mat-select",23),u.fc("ngModelChange",(function(e){return u.Bc(t),u.jc(2).SelectedStore=e}))("selectionChange",(function(){return u.Bc(t),u.jc(2).setIdStore()})),u.Kc(4,ct,2,2,"mat-option",24),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(3),u.qc("ngModel",t.SelectedStore),u.Db(1),u.qc("ngForOf",t.Stores)}}function dt(t,e){if(1&t&&(u.Wb(0,"p",30),u.Mc(1),u.Vb()),2&t){const t=e.$implicit,i=u.jc(2);u.Db(1),u.Nc(i.token.roles.length>1?t.rol+"/":t.rol)}}function ht(t,e){if(1&t&&(u.Wb(0,"p",30),u.Mc(1),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.Pc("",null==t.person?null:t.person.info.type_document,": ",null==t.person?null:t.person.info.document_number,"")}}const bt=function(t,e){return{item_active2:t,item2:e}};function ut(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div",76),u.fc("click",(function(){u.Bc(t);const i=e.$implicit;return u.jc(2).gotoMenu(i)})),u.Wb(1,"mat-card",77),u.Wb(2,"div",78),u.Wb(3,"mat-icon",79),u.Mc(4),u.Vb(),u.Vb(),u.Wb(5,"div",80),u.Wb(6,"mat-label",81),u.Mc(7),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=e.$implicit,i=u.jc(2);u.Jc("width",i.AnchoOpcionPanel,"px")("height",i.AltoOpcionPanel,"px"),u.Db(1),u.qc("ngClass",u.vc(7,bt,i.menuSeleccionado==t,i.menuSeleccionado!=t)),u.Db(3),u.Nc(t.icono),u.Db(3),u.Nc(t.nombre)}}function pt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div"),u.Kc(1,rt,4,0,"button",48),u.Wb(2,"div",49),u.Wb(3,"mat-card",50),u.Wb(4,"mat-card-content",51),u.Wb(5,"div",52,53),u.Wb(7,"div",54),u.Wb(8,"div",55),u.Wb(9,"mat-card-title",56),u.Mc(10),u.Vb(),u.Kc(11,at,2,1,"mat-card-title",57),u.Vb(),u.Wb(12,"mat-card",58),u.Kc(13,nt,3,1,"div",7),u.Kc(14,st,2,1,"div",1),u.Vb(),u.Wb(15,"mat-card",59),u.Kc(16,lt,5,2,"mat-form-field",10),u.Vb(),u.Vb(),u.Wb(17,"div",60),u.Wb(18,"mat-card",61),u.Wb(19,"div",62),u.Wb(20,"mat-card-title",63),u.Mc(21),u.Vb(),u.Vb(),u.Wb(22,"mat-list",64),u.Wb(23,"mat-list-item"),u.Wb(24,"mat-icon",29),u.Mc(25,"supervised_user_circle"),u.Vb(),u.Wb(26,"h4",30),u.Mc(27,"Sus roles son:"),u.Vb(),u.Kc(28,dt,2,1,"p",31),u.Vb(),u.Wb(29,"mat-list-item"),u.Wb(30,"mat-icon",29),u.Mc(31,"assignment_ind"),u.Vb(),u.Wb(32,"h4",30),u.Mc(33,"Sus documento es:"),u.Vb(),u.Kc(34,ht,2,2,"p",32),u.Wb(35,"p",30),u.Mc(36),u.Vb(),u.Vb(),u.Vb(),u.Wb(37,"mat-list",65),u.Wb(38,"mat-list-item",36),u.fc("click",(function(){return u.Bc(t),u.jc().logout()})),u.Wb(39,"mat-icon",29),u.Mc(40,"exit_to_app"),u.Vb(),u.Wb(41,"h4",35),u.Mc(42,"Cerrar Sesi\xf3n"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(43,"div",66),u.Wb(44,"mat-card-title",67),u.Mc(45,"Panel De Opciones"),u.Vb(),u.Wb(46,"mat-card-subtitle",68),u.Mc(47,"Seleccione el men\xfa que desea ver"),u.Vb(),u.Wb(48,"button",69),u.fc("click",(function(){return u.Bc(t),u.jc().CambiarVista()})),u.Mc(49,"Men\xfa"),u.Vb(),u.Wb(50,"button",70),u.fc("click",(function(){return u.Bc(t),u.jc().CerrarPanel()})),u.Mc(51,"Cerrar Panel"),u.Vb(),u.Vb(),u.Vb(),u.Wb(52,"div",71,72),u.Kc(54,ut,8,10,"div",73),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=u.jc();u.Db(1),u.qc("ngIf",t.locStorage.getOnline()),u.Db(1),u.qc("hidden",!t.MostrarPanel),u.Db(8),u.Oc(" ",null!=t.thirdFather&&t.thirdFather.info.fullname?null==t.thirdFather?null:t.thirdFather.info.fullname:"Tienda 724",""),u.Db(1),u.qc("ngIf",8888==t.locStorage.getRol()[0].id_rol),u.Db(2),u.qc("ngIf",21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol),u.Db(1),u.qc("ngIf",!(21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol)),u.Db(2),u.qc("ngIf",8888!=t.locStorage.getRol()[0].id_rol),u.Db(5),u.Pc("",null==t.person?null:t.person.first_name," ",null==t.person?null:t.person.first_lastname,""),u.Db(7),u.qc("ngForOf",t.token.roles),u.Db(6),u.qc("ngIf",t.person.info.type_document&&t.person.info.document_number),u.Db(2),u.Oc("Id de usuario: ",null==t.person?null:t.person.uuid.UUID,""),u.Db(18),u.qc("ngForOf",t.menusLista)}}function mt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div",17),u.fc("click",(function(){return u.Bc(t),u.jc(2).openFile()})),u.Rb(1,"img",18),u.Wb(2,"input",19),u.fc("change",(function(e){return u.Bc(t),u.jc(2).setFileImage(e)})),u.Vb(),u.Vb()}if(2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function gt(t,e){if(1&t&&(u.Wb(0,"div"),u.Rb(1,"img",18),u.Vb()),2&t){const t=u.jc(2);u.Db(1),u.qc("src",t.imgurl,u.Dc)}}function ft(t,e){if(1&t&&(u.Wb(0,"div",82),u.Wb(1,"div",83),u.Wb(2,"mat-card",84),u.Wb(3,"mat-card-content"),u.Kc(4,mt,3,1,"div",7),u.Kc(5,gt,2,1,"div",1),u.Vb(),u.Vb(),u.Wb(6,"div",85),u.Rb(7,"div",86),u.Rb(8,"div",86),u.Rb(9,"div",86),u.Rb(10,"div",86),u.Rb(11,"div",86),u.Rb(12,"div",86),u.Rb(13,"div",87),u.Vb(),u.Vb(),u.Vb()),2&t){const t=u.jc();u.Db(4),u.qc("ngIf",21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol),u.Db(1),u.qc("ngIf",!(21==t.locStorage.getRol()[0].id_rol||23==t.locStorage.getRol()[0].id_rol))}}function _t(t,e){if(1&t&&(u.Wb(0,"mat-option",25),u.Mc(1),u.Vb()),2&t){const t=e.$implicit;u.qc("value",t.id_STORE),u.Db(1),u.Oc(" ",t.store_NAME," ")}}function vt(t,e){if(1&t){const t=u.Xb();u.Wb(0,"div",88),u.Wb(1,"mat-card-title",89),u.Mc(2," Tienda Actual\n"),u.Vb(),u.Wb(3,"mat-form-field",90),u.Wb(4,"mat-select",23),u.fc("ngModelChange",(function(e){return u.Bc(t),u.jc().SelectedStore=e}))("selectionChange",(function(){return u.Bc(t),u.jc().setLocStorageStore()})),u.Kc(5,_t,2,2,"mat-option",24),u.Vb(),u.Vb(),u.Vb()}if(2&t){const t=u.jc();u.Jc("left",t.AjusteLeftTiendaFlotante),u.Db(4),u.qc("ngModel",t.SelectedStore),u.Db(1),u.qc("ngForOf",t.Stores)}}let St=D;const yt=[],Ct=[];let xt=(()=>{class t{constructor(t,e,i,o,r,a,n,s,c,l,d,h,b){this.inventoriesService=t,this.service=e,this.userIdle=i,this.http=o,this.authService=r,this.locStorage=a,this.dialog=n,this.router=s,this.thirdService=c,this.billingService=l,this.activatedRoute=d,this.fcmService=h,this.coolDialogs=b,this.currentBox="21",this.urlBase="/dashboard/business/movement/",this.compressed=!1,this.storeName=" ",this.mostrandoCargando=!1,this.mostrandoNombreTiendaFlotante=!1,this.AjusteLeftTiendaFlotante="50vw",this.headers=new x.d({"Content-Type":"application/json"}),this.EstiloPanel=1,this.MostrarPanel=!0,this.AnchoOpcionPanel=100,this.AltoOpcionPanel=100,this.ColumnasEnElPanel=3,this.fileBase64String=null,this.fileExtension=null,this.urlUploaded="Sin Archivo",this.imgName=null,this.imgURL=null,this.size=null,this.doubleclick=!1,this.menuSeleccionado=null,this.EstiloPanel="1"==localStorage.getItem("SidebarStyle")?1:2,this.service.onMainEvent.subscribe(t=>{this.SelectedStore=t}),this.service.onLogOutEvent.subscribe(t=>{this.logout()}),this.headers=new x.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()})}ClickShowOptions(){this.MostrarPanel=!0,window.setTimeout(()=>{this.GenerarOpciones()},150)}CerrarPanel(){this.MostrarPanel=!1}ngAfterViewInit(){window.setTimeout(()=>{this.GenerarOpciones()},150)}onResize(){this.GenerarOpciones()}GenerarOpciones(){Object(c.a)("[INICIO]GenerarOpciones");try{if(null==this.HeaderRef)return void Object(c.a)("this.HeaderRef NULL");this.HeaderRef.nativeElement.parentElement.children[0].setAttribute("style","margin: 0 0"),this.AnchoOpcionPanel=(this.ContenedorOpciones.nativeElement.offsetWidth-10)/this.ColumnasEnElPanel-10,this.AltoOpcionPanel=(this.ContenedorOpciones.nativeElement.offsetHeight-10)/Math.ceil(this.menusLista.length/this.ColumnasEnElPanel)-10}catch(t){Object(c.a)("[ERROR]GenerarOpciones"),Object(c.a)(t)}return!0}CambiarVista(){1==this.EstiloPanel?(this.EstiloPanel=2,this.MostrarPanel=!0,window.setTimeout(()=>{this.GenerarOpciones()},50)):this.EstiloPanel=1,this.AjustarTituloTiendaFlotante(this.menuSeleccionado.ruta),localStorage.setItem("SidebarStyle",this.EstiloPanel+"")}firstComponentFunction(){this.billingService.onClick()}ComprimirSidebar(){this.compressed=!this.compressed,this.AjustarTituloTiendaFlotante(this.menuSeleccionado.ruta),localStorage.setItem("EstadoSideBar",this.compressed?"Comprimido":"NoComprimido")}ngOnInit(){Object(c.a)("THIS THIR IS MINE: ",this.locStorage.getThird()),this.imgurl=V.a.logos+"/"+this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number+".jpg",this.imgNameSend=this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number,this.imgNameSend2=this.locStorage.getToken().id_third_father,Object(c.a)("this.imgurl",this.imgurl);let t=localStorage.getItem("EstadoSideBar");this.compressed=null!=t&&"Comprimido"==t,this.locStorage.getPerson(),this.http.get(V.a.tercero+"/thirds/getCity?id_third="+this.locStorage.getToken().id_third_father,{headers:this.headers}).subscribe(t=>{this.locStorage.setIdCity(t)});let e=this.locStorage.getRol().filter(t=>this.locStorage.getListRolesCajeros().includes(t.id_rol));localStorage.setItem("id_employee",String(this.locStorage.getToken().id_third)),this.locStorage.getMenu().sort(this.dynamicSort("id_menu")).filter(t=>143==t.id_menu||e.length>0).length>0?(this.mostrandoCargando=!0,this.http.get(V.a.cierreCaja+"/close/openBoxes/v2?id_third="+this.locStorage.getToken().id_third).subscribe(t=>{if("true"!=localStorage.getItem("SesionExpirada"))if(localStorage.setItem("myBox",t.toString()),this.currentBox=localStorage.getItem("currentBox"),Object(c.a)("this is responshe",t),this.mostrandoCargando=!1,8888==this.locStorage.getRol()[0].id_rol&&(this.MostrarPanel=!1),t.length>0)this.locStorage.setDoINav(!0),this.dialog.open(S.a,{width:"60vw",data:{answering:t},disableClose:!0}).afterClosed().subscribe(e=>{if(Object(c.a)(e),e)this.locStorage.setBoxStatus(!0),this.locStorage.setCajaOld(Number(t[0].id_CAJA)),this.locStorage.setIdCaja(Number(t[0].id_CAJA)),this.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe(e=>{Object(c.a)(e),e.forEach(e=>{e.id_CAJA==Number(t[0].id_CAJA)&&(Object(c.a)("ENTRE"),this.locStorage.setIdStore(e.id_STORE),this.http.get(V.a.cierreCaja+"/close/openBox?id_store="+this.locStorage.getIdStore()).subscribe(t=>{t.forEach(t=>{t.id_CAJA==e.id_CAJA&&this.locStorage.setCajaNumber(t.caja)})}),this.getLists(),this.getStoreType(e.id_STORE))}),this.SelectedStore=this.locStorage.getIdStore(),this.getStores2()}),Object(c.a)("IM ON THE TRUE SIDE OF THINGS");else{let e;this.locStorage.setIdCaja(Number(t[0].id_CAJA)),this.locStorage.setCajaOld(Number(t[0].id_CAJA)),Object(c.a)("IM ON THE FALSE SIDE OF THINGS"),e=this.dialog.open(C.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe(i=>{this.locStorage.setIdCaja(Number(t[0].id_CAJA)),this.locStorage.setCajaOld(Number(t[0].id_CAJA)),e=this.dialog.open(y.a,{width:"60vw",data:{},disableClose:!0}).afterClosed().subscribe(t=>{t.logout?this.logout():t.open?(this.locStorage.setIdCaja(t.idcaja),this.locStorage.setCajaOld(t.idcaja),this.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe(t=>{t.forEach(t=>{t.id_CAJA==this.locStorage.getIdCaja()&&(this.locStorage.setIdStore(t.id_STORE),this.http.get(V.a.cierreCaja+"/close/openBox?id_store="+this.locStorage.getIdStore()).subscribe(e=>{e.forEach(e=>{e.id_CAJA==t.id_CAJA&&this.locStorage.setCajaNumber(e.caja)})}),this.getLists(),this.getStoreType(t.id_STORE))})}),e=this.dialog.open(v.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe(t=>{this.http.post(V.a.facturacion+"/pedidos/abrirCajaPlanilla?IDCIERRECAJA="+this.locStorage.getIdCaja(),{}).subscribe(t=>{this.locStorage.setBoxStatus(!0),this.SelectedStore=this.locStorage.getIdStore(),this.getStores2(),this.locStorage.setCajaOld(this.locStorage.getIdCaja()),Object(c.a)("ID CAJA: ",this.locStorage.getIdCaja()),Object(c.a)("ID STORE: ",this.locStorage.getIdStore()),Object(c.a)("STORE TYPE: ",this.locStorage.getTipo()),Object(c.a)("BOX TYPE: ",this.locStorage.getBoxStatus())})})):(this.locStorage.setBoxStatus(!1),this.getStores2())})})}});else{this.locStorage.setDoINav(!0),Object(c.a)("IM ON THE NO OPEN BOX SIDE OF THINGS");let t=this.dialog.open(y.a,{width:"60vw",data:{},disableClose:!0}).afterClosed().subscribe(e=>{Object(c.a)("this is my boolean, ",e.open),this.locStorage.setDoINav(!1),e.logout?this.logout():e.open?(this.locStorage.setIdCaja(e.idcaja),this.locStorage.setCajaOld(e.idcaja),this.locStorage.setBoxStatus(!0),this.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe(t=>{t.forEach(t=>{t.id_CAJA==this.locStorage.getIdCaja()&&(this.locStorage.setIdStore(t.id_STORE),this.http.get(V.a.cierreCaja+"/close/openBox?id_store="+this.locStorage.getIdStore()).subscribe(e=>{e.forEach(e=>{e.id_CAJA==t.id_CAJA&&this.locStorage.setCajaNumber(e.caja)})}),this.getLists(),this.getStoreType(t.id_STORE))})}),t=this.dialog.open(v.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe(t=>{this.http.post(V.a.facturacion+"/pedidos/abrirCajaPlanilla?IDCIERRECAJA="+this.locStorage.getIdCaja(),{}).subscribe(t=>{this.locStorage.setBoxStatus(!0),Object(c.a)("ID CAJA: ",this.locStorage.getIdCaja()),Object(c.a)("ID STORE: ",this.locStorage.getIdStore()),Object(c.a)("STORE TYPE: ",this.locStorage.getTipo()),Object(c.a)("BOX TYPE: ",this.locStorage.getBoxStatus()),this.SelectedStore=this.locStorage.getIdStore(),this.locStorage.setCajaOld(this.locStorage.getIdCaja()),this.getStores2(),this.firstComponentFunction()})})):(this.locStorage.setIdCaja(e.idcaja),this.locStorage.setCajaOld(e.idcaja),this.getStores3(e.idcaja),this.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe(t=>{t.forEach(t=>{t.id_CAJA==this.locStorage.getIdCaja()&&(this.locStorage.setIdStore(t.id_STORE),this.http.get(V.a.cierreCaja+"/close/openBox?id_store="+this.locStorage.getIdStore()).subscribe(e=>{e.forEach(e=>{e.id_CAJA==t.id_CAJA&&this.locStorage.setCajaNumber(e.caja)})}),this.getLists(),this.getStoreType(t.id_STORE),this.getStores2())})}))})}})):this.getStores4(),this.menuItems=Ct.filter(t=>t),this.menuItemsStart=yt.filter(t=>t),this.locStorage.getSession()?(this.menusLista=this.locStorage.getMenu().filter((t,e,i)=>e===i.findIndex(e=>e.id_menu===t.id_menu)).sort(this.dynamicSort("id_menu")),this.token=this.locStorage.getToken(),this.person=this.locStorage.getPerson(),this.thirdFather=this.locStorage.getThird(),this.router.events.subscribe(t=>{let e=this.router.url.substring(29);for(let i=0;i<this.menusLista.length;i++)if(e.includes(this.menusLista[i].ruta)){this.menuSeleccionado=this.menusLista[i],this.AjustarTituloTiendaFlotante(this.menusLista[i].ruta);break}})):this.Login(),window.setTimeout(()=>{this.GenerarOpciones()},300)}AjustarTituloTiendaFlotante(t){"billing/main"!=t&&"pedidos"!=t&&"devbill"!=t&&"inventory"!=t&&"compbill"!=t?(this.mostrandoNombreTiendaFlotante=!0,"inbill"==t&&(this.AjusteLeftTiendaFlotante="calc(58vw - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"outbill"==t&&(this.AjusteLeftTiendaFlotante="calc(58vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"devbill"==t&&(this.AjusteLeftTiendaFlotante="calc(64vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"categories"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"inventory"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"reportes"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"thirds"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"conta"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"newproduct"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),Object(c.a)("this.AjusteLeftTiendaFlotante es "+this.AjusteLeftTiendaFlotante)):this.mostrandoNombreTiendaFlotante=!1}getStoreType(t){this.http.get(V.a.tienda+"/store/tipoStore?id_store="+t).subscribe(t=>{this.locStorage.setTipo(t),Object(c.a)("ID CAJA: ",this.locStorage.getIdCaja()),Object(c.a)("ID STORE: ",this.locStorage.getIdStore()),Object(c.a)("STORE TYPE: ",this.locStorage.getTipo()),Object(c.a)("BOX TYPE: ",this.locStorage.getBoxStatus()),this.getStores()})}getStores(){this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe(t=>{t.forEach(t=>{t.id_STORE==this.locStorage.getIdStore()&&(this.storeName=t.store_NAME)});let e="";for(let i=0;i<t.length;i++)e+=t[i].id_STORE+",",this.locStorage.setStoreList(e.substring(0,e.length-1))})}GetNameFromIDStore(){let t="";for(let e=0;e<this.Stores.length;e++)if(this.Stores[e].id_STORE==this.SelectedStore){t=this.Stores[e].store_NAME;break}return t}setIdStore(){this.locStorage.setIdStore(this.SelectedStore),this.locStorage.setCajaNumber(""),this.getLists(),this.locStorage.setIdCaja(1),this.locStorage.setBoxStatus(!1),Object(c.a)("NEW ID STORE:",this.locStorage.getIdStore()),Object(c.a)("NEW ID CAJA:",this.locStorage.getIdCaja()),Object(c.a)("NEW BOX STATUS:",this.locStorage.getBoxStatus()),this.http.get(V.a.tienda+"/store/tipoStore?id_store="+this.SelectedStore).subscribe(t=>{this.locStorage.setTipo(t)})}getLists(){this.locStorage.setOnline(!0),this.locStorage.getStores(),this.locStorage.getBoxes()}setFileImage(t){console.log("UPLOAD IMAGE");const e=t.target.files[0],i=new FileReader;i.readAsDataURL(e),i.onload=()=>(this.size=Math.round(t.srcElement.files[0].size/1024/1024*100)/100,this.size>=1?(this.showNotification2("top","center",3,"<h3>El tama\xf1o de la imagen es mayor al limite permitido de 1MB.</h3> ","danger"),void this.clearImg()):(this.fileBase64String=i.result,this.fileExtension=t.target.files[0].name.split(".").pop(),this.urlUploaded=t.target.files[0].name,this.imgName=t.target.files[0].name,"jpg"!=this.fileExtension&&"jpeg"!=this.fileExtension&&"png"!=this.fileExtension?(this.showNotification2("top","center",3,"<h3>Formato de imagen no v\xe1lido, los formatos permitidos son, JPG, JPEG y PNG.</h3> ","danger"),void this.clearImg()):(this.http.post(V.a.tienda+"/products2/imgupload?filename1="+this.imgNameSend+"&filename2="+this.imgNameSend2,{file:this.fileBase64String,fileName:this.urlUploaded.split("(").join("_").split(")").join("_").split(" ").join("_"),format:this.fileExtension}).subscribe(t=>{console.log("im in")}),this.imgURL=i.result,void(this.imgurl=i.result))))}clearImg(){this.fileBase64String=null,this.fileExtension=null,this.urlUploaded="Sin Archivo",this.imgName=null,this.imgURL=null,this.size=null}openFile(){console.log("hell"),document.querySelector("input").click()}getInventoryList(t){this.http.get(V.a.tienda+"/products2/inventoryListActivos?id_store="+this.locStorage.getIdStore()).subscribe(t=>{this.locStorage.setInventoryList(t)})}setLocStorageStore(){this.locStorage.setIdStore(this.SelectedStore),this.locStorage.setBoxStatus(!1)}getStores2(){this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe(t=>{Object(c.a)(t),this.Stores=t,this.SelectedStore=this.locStorage.getIdStore(),this.locStorage.setDoINav(!1)})}getStores3(t){this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe(e=>{this.getStoreType(e[0].id_STORE),Object(c.a)(e),this.locStorage.setBoxStatus(!1),this.Stores=e,this.SelectedStore=e[0].id_STORE,this.locStorage.setIdStore(e[0].id_STORE),this.http.get(V.a.cierreCaja+"/close/openBox?id_store="+e[0].id_STORE).subscribe(e=>{e.forEach(e=>{e.id_CAJA==t&&this.locStorage.setCajaNumber(e.caja)})}),this.getLists()})}getStores4(){this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe(t=>{this.getStoreType(t[0].id_STORE),Object(c.a)(t),this.locStorage.setBoxStatus(!1),this.Stores=t,this.SelectedStore=t[0].id_STORE,this.locStorage.setIdStore(t[0].id_STORE),this.getLists()})}dynamicSort(t){let e=1;return"-"===t[0]&&(e=-1,t=t.substr(1)),function(i,o){return(i[t]<o[t]?-1:i[t]>o[t]?1:0)*e}}isMobileMenu(){return window.innerWidth<=991}logout(){return Object(_.a)(this,void 0,void 0,(function*(){if(this.doubleclick)return;if(this.doubleclick=!0,!this.locStorage.isSession())return this.token=null,localStorage.setItem("Logo","-1"),void this.goIndex();let t=yield this.authService.logout();1==t[0]?(this.token=null,localStorage.setItem("Logo","-1"),this.goIndex(),this.showNotification("top","right")):(Object(c.a)("promesa"),Object(c.a)(t),this.showNotification("top","right",t[1]))}))}showNotification2(t,e,i,o,r){Math.floor(4*Math.random()+1),St.notify({icon:"notifications",message:o||"<b>Noficaci\xf3n automatica </b>"},{type:r||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}showNotification(t,e,i="Usted <b>Cerro Sesi\xf3n</b> de forma satisfactoria."){Math.floor(4*Math.random()+1),St.notify({icon:"notifications",message:i},{type:"success",timer:200,placement:{from:t,align:e}})}goIndex(){this.router.navigate(["/"])}Login(){this.router.navigate(["/auth"])}isMobileMenuNav(){return window.innerWidth<=991}gotoMenu(t){this.MostrarPanel=!1,this.router.navigateByUrl(this.urlBase+t.ruta)}}return t.\u0275fac=function(e){return new(e||t)(u.Qb(j.a),u.Qb(O.a),u.Qb(W.b),u.Qb(x.b),u.Qb(m.a),u.Qb(p.a),u.Qb(w.b),u.Qb(r.b),u.Qb(f.a),u.Qb(R.a),u.Qb(r.a),u.Qb(N.a),u.Qb(B.b))},t.\u0275cmp=u.Kb({type:t,selectors:[["app-sidebar"]],viewQuery:function(t,e){var i;1&t&&(u.Tc(q,!0),u.Tc(L,!0)),2&t&&(u.xc(i=u.gc())&&(e.ContenedorOpciones=i.first),u.xc(i=u.gc())&&(e.HeaderRef=i.first))},hostBindings:function(t,e){1&t&&u.fc("resize",(function(){return e.onResize()}),!1,u.Ac)},decls:4,vars:4,consts:[["class","ContenedorSidebar",4,"ngIf"],[4,"ngIf"],["class","ContenedorLoading",4,"ngIf"],["style","position: fixed;top: 25px;z-index: 1;max-width: 250px;width: 18vw;margin: auto 0 auto auto;background-color: white;border-radius: 30px;display: flex;flex-direction: column",3,"left",4,"ngIf"],[1,"ContenedorSidebar"],[1,"UsarEspacioFijo"],["id","leftcol",2,"z-index","10","padding","15px","margin-right","0","max-width","250px"],[3,"click",4,"ngIf"],["style","font-size: 1.2em; font-weight: 700; margin-bottom:10px;text-align: center;",4,"ngIf"],["style","font-size: 1.2em; font-weight: 700; margin-bottom:10px",4,"ngIf"],["style","width: 100%;",4,"ngIf"],["style","border:0;box-shadow: none !important; width:100%;padding:0;margin:0;margin-top:-20px;margin-bottom:-10px;",4,"ngIf"],["style","margin-left:-10px",4,"ngIf"],[3,"ngClass"],["id","ScrollBar",1,"ScrollBar",2,"z-index","1","padding","15px","margin-right","0","overflow-y","auto","background","none","max-width","250px"],["class","itemContainer",4,"ngFor","ngForOf"],["class","ContenedorBarraInferior","style","max-width: 250px;",3,"width",4,"ngIf"],[3,"click"],["onError","this.src='https://pruebas.tienda724.com/logos/802.jpg'",1,"logo",3,"src"],["type","file",2,"display","none",3,"change"],[2,"font-size","1.2em","font-weight","700","margin-bottom","10px","text-align","center"],[2,"font-size","1.2em","font-weight","700","margin-bottom","10px"],[2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"border","0","box-shadow","none !important","width","100%","padding","0","margin","0","margin-top","-20px","margin-bottom","-10px"],[2,"padding","0","margin","0"],[2,"font-weight","300"],["mat-list-icon","",2,"color","lightslategrey"],["mat-line","",2,"color","lightslategrey"],["mat-line","","style","color: lightslategrey",4,"ngFor","ngForOf"],["mat-line","","style","color: lightslategrey",4,"ngIf"],[2,"margin-left","-10px"],[2,"cursor","pointer",3,"hidden","click"],["mat-line","",2,"font-weight","700","font-size","0.9em","color","rgb(43, 43, 43)"],[2,"cursor","pointer",3,"click"],[1,"itemContainer"],[2,"margin-left","-10px","margin-right","-10px"],[2,"cursor","pointer",3,"hidden","ngClass","click"],["mat-list-icon",""],["style","font-weight: 700;font-size:0.9em;","mat-line","",4,"ngIf"],["mat-line","",2,"font-weight","700","font-size","0.9em"],[1,"ContenedorBarraInferior",2,"max-width","250px"],["class","BotonCerrar","style","color: white !important;border-color: white !important; width: 75%;margin-right: auto","mat-stroked-button","","type","button",3,"click",4,"ngIf"],[2,"border-color","white !important","border","1px solid currentColor","border-radius","5px","height","36px","width","36px",3,"click"],[1,"icono_toggle"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important","width","75%","margin-right","auto",3,"click"],["class","BotonMostrarPanel","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"ContenedorPanel",3,"hidden"],[1,"ContenedorMatCard"],[2,"width","100%","display","flex"],[1,"Header"],["ContenedorHeader",""],[1,"ScrollBar",2,"height","45%","overflow","auto"],[2,"height","20%","display","flex","flex-direction","column"],[2,"font-size","2.4vh","font-weight","700","margin-bottom","0","color","white","text-align","center","flex","auto"],["style","flex: auto;font-size: 1.2em; font-weight: 700; margin-bottom:10px; color:white; text-align: center",4,"ngIf"],[1,"CardLogo"],[1,"CardTiendas"],[2,"height","34%","margin-top","5px","overflow","hidden"],[1,"CardUsuario"],[2,"width","100%","display","flex","align-items","center","height","13%","max-width","300px"],[2,"margin","0 auto","font-size","1.3em","font-weight","700","color","black"],[1,"ScrollBar",2,"flex","auto","margin","auto 0","overflow","auto","padding","0","height","70%"],[2,"align-items","center","display","flex","height","13%","padding","0"],[1,"ScrollBar",2,"height","19%","overflow","auto","margin","auto 0","display","flex","flex-direction","column"],[2,"font-size","1.3em","font-weight","700","color","white","margin","auto 0"],[2,"font-size","0.8em","font-weight","300","color","white","margin-bottom","10px"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important","margin-bottom","5px",3,"click"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important",3,"click"],[2,"flex","auto","border-bottom-right-radius","25px","border-top-right-radius","25px","background-color","gainsboro"],["ContenedorMatCard",""],["class","ContenedorOpcion",3,"width","height","click",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"BotonMostrarPanel",3,"click"],[2,"flex","auto","font-size","1.2em","font-weight","700","margin-bottom","10px","color","white","text-align","center"],[1,"ContenedorOpcion",3,"click"],[1,"OpcionMatCard",2,"cursor","pointer",3,"ngClass"],[1,"Opcion"],["role","img","aria-hidden","true",1,"mat-icon","material-icons","IconoOpcion"],[1,"Opcion",2,"height","30%"],[1,"TextoOpcion"],[1,"ContenedorLoading"],[1,"wrapper2"],[2,"background-color","white","margin","auto","margin-bottom","5vh"],[1,"ThePreLoader"],[1,"loader--dot"],[1,"loader--text"],[2,"position","fixed","top","25px","z-index","1","max-width","250px","width","18vw","margin","auto 0 auto auto","background-color","white","border-radius","30px","display","flex","flex-direction","column"],[2,"text-align","center","height","100%","margin","auto","font-size","larger"],["color","primary",2,"margin","auto","margin-top","-20px","margin-bottom","10px","height","4vh","text-align","center"]],template:function(t,e){1&t&&(u.Kc(0,ot,15,18,"div",0),u.Kc(1,pt,55,13,"div",1),u.Kc(2,ft,14,2,"div",2),u.Kc(3,vt,6,4,"div",3)),2&t&&(u.qc("ngIf",1==e.EstiloPanel||e.isMobileMenu()),u.Db(1),u.qc("ngIf",2==e.EstiloPanel&&!e.isMobileMenu()),u.Db(1),u.qc("ngIf",e.mostrandoCargando),u.Db(1),u.qc("ngIf",e.mostrandoNombreTiendaFlotante))},directives:[o.t,M.a,M.d,o.q,o.s,M.m,A.b,A.f,T.a,a.r,a.u,F.p,I.c,I.g,I.h,E.a,E.d,k.a,E.c,F.l,P.b,M.l],styles:['.mat-expansion-panel-content>.mat-expansion-panel-body{padding:0!important}.ContenedorSidebar{height:100vh;display:table;background-image:url(/assets/img/sidebar-4.jpg);background-size:cover;border-right:solid;border-width:1px;border-color:#dadada}.UsarRestoEspacio:before{z-index:1;content:"";position:fixed;width:inherit;max-width:250px;height:90%;opacity:.89;background:#fff}.UsarEspacioFijo{display:table-row;height:0}.UsarRestoEspacioColapsado:before{content:"";position:fixed;width:75px;height:90%;opacity:.89;background:#fff}.UsarRestoEspacio,.UsarRestoEspacioColapsado{display:table-row;height:auto}.itemContainer{border:0;box-shadow:none!important;background:none!important;width:100%;padding:0!important;margin:0!important}.item{color:#789}.item:hover{background-color:grey;color:#fff}.item_active{background-color:#14d3f9;color:#fff;border-radius:4px;box-shadow:0 4px 20px 0 rgba(0,0,0,.14),0 7px 10px -5px rgba(244,67,54,.4)}.ContenedorBarraInferior{bottom:0!important;position:absolute!important;z-index:1;background:#05356b;padding-top:10px!important;padding-bottom:10px!important;display:flex!important}.icono_toggle{color:#fff;width:36px!important;font-size:40px;margin-top:-4px;cursor:pointer}.avatar-img{margin-left:15px;background-image:url(http://www.lindt.fr/fileadmin/Global_content_all_access/new_store_locator/lindt_yvr-01423.jpg);background-size:cover}.logo{max-height:100%;margin:auto!important;width:100%}.ContenedorLoading{display:flex;left:0;width:100%;position:absolute;height:100%;top:0;z-index:1000}.wrapper2{display:flex;align-items:center;flex-direction:column;width:100vw;min-height:100vh;background-color:#f5f5f5}.ThePreLoader{height:200px;width:40vw;margin:5vh auto auto}.loader--dot{-webkit-animation-name:loader;animation-name:loader;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;height:20px;width:20px;border-radius:100%;background-color:#000;position:absolute;border:2px solid #fff}.loader--dot:first-child{background-color:#8cc759;-webkit-animation-delay:.5s;animation-delay:.5s}.loader--dot:nth-child(2){background-color:#8c6daf;-webkit-animation-delay:.4s;animation-delay:.4s}.loader--dot:nth-child(3){background-color:#ef5d74;-webkit-animation-delay:.3s;animation-delay:.3s}.loader--dot:nth-child(4){background-color:#f9a74b;-webkit-animation-delay:.2s;animation-delay:.2s}.loader--dot:nth-child(5){background-color:#60beeb;-webkit-animation-delay:.1s;animation-delay:.1s}.loader--dot:nth-child(6){background-color:#fbef5a;-webkit-animation-delay:0s;animation-delay:0s}.loader--text{top:200%;left:0;right:0;width:4rem;margin:auto;padding-top:5vh}.loader--text:after{content:"Cargando";font-weight:700;-webkit-animation-name:loading-text;animation-name:loading-text;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes loader{15%{transform:translateX(0)}45%{transform:translateX(40vw)}65%{transform:translateX(40vw)}95%{transform:translateX(0)}}@keyframes loader{15%{transform:translateX(0)}45%{transform:translateX(40vw)}65%{transform:translateX(40vw)}95%{transform:translateX(0)}}@-webkit-keyframes loading-text{0%{content:"Cargando"}25%{content:"Cargando."}50%{content:"Cargando.."}75%{content:"Cargando..."}}@keyframes loading-text{0%{content:"Cargando"}25%{content:"Cargando."}50%{content:"Cargando.."}75%{content:"Cargando..."}}.ScrollBar::-webkit-scrollbar{width:8px;background-color:#e4e4e3}.ScrollBar::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#cacaca}.BotonMostrarPanel{position:fixed!important;bottom:0;left:0;z-index:100;line-height:unset!important}.ContenedorPanel{display:flex;z-index:100}.ContenedorPanel,.ContenedorPanel:before{width:100vw;position:absolute;height:100vh}.ContenedorPanel:before{content:"";background-color:grey;opacity:.7}.ContenedorMatCard{display:flex!important;border-radius:25px!important;height:90vh;width:90vw;margin:auto;padding:0!important}.Header{background-color:#05356b;margin:0;padding:20px;border-bottom-left-radius:20px;border-top-left-radius:20px;display:flex!important;flex-direction:column;width:25%;height:90.05vh}.BotonCerrar{text-align:center;width:100%}.ContenedorOpcion{background-color:#ddbdf1;display:inline-block;max-height:20vh;margin-top:10px!important;margin-left:10px!important}.CardLogo{display:flex!important;border-top-left-radius:15px!important;border-top-right-radius:15px!important;height:58%}.CardLogo,.CardTiendas{margin-bottom:5px!important;width:100%!important;padding:5px 15px 0!important}.CardTiendas{margin-top:5px}.CardUsuario{border-bottom-right-radius:15px!important;border-bottom-left-radius:15px!important;padding:0!important;height:100%;display:flex;flex-direction:column}.Opcion{height:65%;margin:auto;display:flex}.TextoOpcion{font-size:1.3em;font-weight:700;margin:auto auto 15px;color:inherit}.IconoOpcion{color:inherit;display:table!important;margin:auto;font-size:7vh!important}.OpcionMatCard{padding:0!important;height:100%!important;background-color:#fff!important}.item2{color:#05356b}.item2:hover{background-color:grey!important;color:#fff}.item_active2{background-color:#0859b4!important;color:#fff}'],encapsulation:2}),t})();var Dt=i("J0hL");let Vt=D,jt=(()=>{class t{constructor(t,e,i,o,r){this.element=e,this.authService=i,this.router=o,this.locStorage=r,this.date=new a.g({value:new Date,disabled:!0}),this.space="  | ",this.user=!1,this.location=t,this.sidebarVisible=!1}ngOnInit(){244==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(1),this.locStorage.setIdStore(1)),541==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(61),this.locStorage.setIdStore(62)),542==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(62),this.locStorage.setIdStore(61)),this.locStorage.getSession()?(this.listTitles=Ct.filter(t=>t),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0],this.token=this.locStorage.getToken(),this.person=this.locStorage.getPerson(),this.token=this.locStorage.getToken(),this.thirdFather=this.locStorage.getThird()):this.goIndex()}sidebarOpen(){const t=this.toggleButton,e=document.getElementsByTagName("body")[0];setTimeout((function(){t.classList.add("toggled")}),500),e.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const t=document.getElementsByTagName("body")[0];this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}sidebarToggle(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}sidebarToggle2(){this.sidebarClose()}getTitle(){var t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(2)),t=t.split("/").pop();for(var e=0;e<this.listTitles.length;e++)if(this.listTitles[e].path===t)return this.listTitles[e].title;return"Dashboard"}isMobileMenu(){return window.innerWidth>991}logout(){this.locStorage.cleanSession(),this.token=null,this.goIndex(),this.showNotification("top","right")}goIndex(){this.router.navigate(["/login?appid=30"])}showNotification(t,e){Math.floor(4*Math.random()+1),Vt.notify({icon:"notifications",message:"Usted <b>Cerro Sesi\xf3n</b> de forma satisfactoria."},{type:"success",timer:200,placement:{from:t,align:e}})}}return t.\u0275fac=function(e){return new(e||t)(u.Qb(o.n),u.Qb(u.l),u.Qb(m.a),u.Qb(r.b),u.Qb(p.a))},t.\u0275cmp=u.Kb({type:t,selectors:[["app-navbar"]],decls:10,vars:0,consts:[[1,"navbar-transparent","fixed-top","mat-elevation-z12",2,"background-color","#052f5f","color","rgb(255, 255, 255)","display","flex","position","relative"],[2,"margin","auto"],[1,"navbar-header",2,"position","absolute","right","0"],["type","button","data-toggle","collapse",1,"navbar-toggle",2,"background","#052f5f",3,"click"],[1,"sr-only"],[1,"icon-bar"]],template:function(t,e){1&t&&(u.Wb(0,"mat-toolbar",0),u.Wb(1,"span",1),u.Mc(2,"Tienda 724"),u.Vb(),u.Wb(3,"div",2),u.Wb(4,"button",3),u.fc("click",(function(){return e.sidebarToggle()})),u.Wb(5,"span",4),u.Mc(6,"Toggle navigation"),u.Vb(),u.Rb(7,"span",5),u.Rb(8,"span",5),u.Rb(9,"span",5),u.Vb(),u.Vb(),u.Vb())},directives:[Dt.a],styles:[".box[_ngcontent-%COMP%]{padding:1px 0 1px 20px}.box[_ngcontent-%COMP%], .btn-exit[_ngcontent-%COMP%]{overflow:hidden;background-color:#ffe0b2;border:1px solid #757575;border-radius:5px}.btn-exit[_ngcontent-%COMP%]{padding-left:20px}"]}),t})();function Ot(t,e){1&t&&(u.Wb(0,"div",5),u.Rb(1,"app-navbar"),u.Vb())}const Wt=[{path:"",component:(()=>{class t{constructor(t,e,i,o,r,a){this.location=t,this.locStorage=e,this._router=i,this.authService=o,this.userThirdService=r,this.thirdService=a,this.commonThird=new b.a(null,null,null,null),this.userThirdQ=new l(null,null,null,this.commonThird),this.userThirdAux=this.userThirdQ,this.person=new d.a(null,null,null,null,null,null,null,this.commonThird,null,null,this.userThirdQ),this.employee=new h(null,null,this.commonThird)}ngOnInit(){this.locStorage.getSession()?(this.token=this.locStorage.getToken(),this.UUID=""+this.token.id_usuario,this.locStorage.getPerson()||(this.userThirdQ.UUID=this.UUID,this.loadUserThird(this.userThirdQ))):this.Login()}Login(){this._router.navigate(["/auth"])}Logout(){this.locStorage.cleanSession(),this.goIndex()}goIndex(){this._router.navigate(["/"])}goDashboard(){this._router.navigate(["/dashboard"])}Perfil(){"true"!=localStorage.getItem("SesionExpirada")&&alert("EN DESARROLLO")}isMobileMenuNav(){return!(window.innerWidth>991)}loadUserThird(t){this.userThirdService.getUserThirdList(t).subscribe(t=>this.userThird=t,t=>Object(c.a)(t),()=>{})}isMaps(t){return t!=this.location.prepareExternalUrl(this.location.path()).slice(1)}}return t.\u0275fac=function(e){return new(e||t)(u.Qb(o.n),u.Qb(p.a),u.Qb(r.b),u.Qb(m.a),u.Qb(g.a),u.Qb(f.a))},t.\u0275cmp=u.Kb({type:t,selectors:[["tienda724"]],decls:7,vars:3,consts:[[1,"wrapper",2,"background-color","#eeeeee"],["data-color","red","data-image","",1,"sidebar",3,"ngClass"],[1,"main-panel",3,"ngClass"],["style","height: 56px;width: 100%",4,"ngIf"],[1,"main-content"],[2,"height","56px","width","100%"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Rb(2,"app-sidebar"),u.Vb(),u.Wb(3,"div",2),u.Kc(4,Ot,2,0,"div",3),u.Wb(5,"div",4),u.Rb(6,"router-outlet"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Db(1),u.qc("ngClass",e.isMobileMenuNav()?"":"AjusteNormalSidebar"),u.Db(2),u.qc("ngClass",e.isMobileMenuNav()?"":"AjusteNormalMainPanel"),u.Db(1),u.qc("ngIf",e.isMobileMenuNav()))},directives:[o.q,xt,o.t,r.g,jt],styles:['.wrap{display:table}.wrap>div{display:table-cell}.AjusteNormalSidebar{float:left;position:unset}.AjusteNormalSidebar:before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;box-shadow:-5px 5px 20px 5px #000}.AjusteNormalMainPanel{float:unset;position:unset;width:auto}.ScrollBar::-webkit-scrollbar{width:8px;background-color:#e4e4e3}.ScrollBar::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#cacaca}'],encapsulation:2}),t})(),children:[{path:"",redirectTo:"business",pathMatch:"full"},{path:"business",loadChildren:()=>i.e(8).then(i.bind(null,"EQSL")).then(t=>t.BusinessModule)},{path:"new-third",component:i("TbkF").a}]}];let wt=(()=>{class t{}return t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(Wt)],r.f]}),t})(),Mt=(()=>{class t{}return t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({factory:function(e){return new(e||t)},providers:[o.f],imports:[[o.c,r.f,a.B,wt,n.a,a.l,s.a]]}),t})()},QzhR:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var o=i("LcAk"),r=i("MkNp"),a=i("fXoL"),n=i("tyNb"),s=i("tk/3"),c=i("A2Vd"),l=i("Xlwt"),d=i("Dcmo"),h=i("fDUG"),b=i("OL1i"),u=i("IRfi"),p=i("3Pt+"),m=i("TT0I");const g=function(){return{precision:0}};let f=(()=>{class t{constructor(t,e,i,o,r,a,n){this.router=t,this.http2=e,this.dialogRef=i,this.locStorage=o,this.billingService=r,this.thirdService=a,this.flag=n,this.myBox=4,this.boxToPost={id_THIRD_EMPLOYEE:0,notes:"Base Inicial",starting_DATE:"2019-03-27",balance:0,status:"O",id_CAJA:this.locStorage.getIdCaja()},this.notes="Base Inicial ",this.money=0,this.initialMoney={valor:0,naturaleza:"D",movement_DATE:"2019-03-23",notes:"Base Inicial"}}disabledButton(){return!(this.money>0||0==this.money)}ngOnInit(){this.http2.get(r.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe(t=>{this.nombreCaja=t.caja,this.nombreTienda2=t.store}),this.nombreEmpleado=this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,this.nombreTienda=this.locStorage.getThird().info.fullname,this.idEmployee=localStorage.getItem("id_employee")}closeDialog(){this.dialogRef.close()}openBox(){this.boxToPost.id_THIRD_EMPLOYEE=this.idEmployee,this.boxToPost.notes=this.notes,this.billingService.postBox(this.boxToPost).subscribe(t=>{localStorage.setItem("currentBox",t),localStorage.setItem("movements","-"+this.money),localStorage.setItem("sells",""),this.locStorage.setBase(Number(this.money)),this.initialMoney.valor=Number(this.money),this.initialMoney.notes=this.notes;let e='[{"valor": '+String(this.initialMoney.valor)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "Base Incial"}]';this.billingService.postBoxDetail(JSON.parse(e),Number(t)).subscribe(t=>{this.closeDialog()})})}gotoDashboard(){this.router.navigateByUrl("/dashboard/business/menu"),this.closeDialog()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(n.b),a.Qb(s.b),a.Qb(o.h),a.Qb(d.a),a.Qb(h.a),a.Qb(b.a),a.Qb(o.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-open-box"]],decls:22,vars:9,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],[1,"card-body"],[1,"row"],[1,"col"],["currencyMask","","matInput","","type","text","placeholder","Dinero Base","id","reader","autofocus","","type","text",1,"text-center",3,"options","ngModel","click","ngModelChange"],["matInput","","type","text","placeholder","Notas","id","reader","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["mat-stroked-button","","color","primary","type","button",3,"hidden","click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"h4",2),a.Mc(3,"Abrir caja"),a.Vb(),a.Wb(4,"p",2),a.Mc(5),a.Vb(),a.Vb(),a.Wb(6,"div",3),a.Wb(7,"div",4),a.Wb(8,"div",5),a.Wb(9,"mat-form-field"),a.Wb(10,"input",6),a.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.money=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(11,"div",4),a.Wb(12,"div",5),a.Wb(13,"mat-form-field"),a.Wb(14,"input",7),a.fc("ngModelChange",(function(t){return e.notes=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(15,"div",4),a.Wb(16,"div",5),a.Wb(17,"button",8),a.fc("click",(function(){return e.openBox()})),a.Mc(18,"Abrir caja"),a.Vb(),a.Vb(),a.Wb(19,"div",5),a.Wb(20,"button",9),a.fc("click",(function(){return e.gotoDashboard()})),a.Mc(21,"Cancelar"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Db(5),a.Qc("Hola ",e.nombreEmpleado,", estas a punto de abrir la ",e.nombreCaja," en la tienda ",e.nombreTienda2,"."),a.Db(5),a.qc("options",a.tc(8,g))("ngModel",e.money),a.Db(4),a.qc("ngModel",e.notes),a.Db(3),a.qc("disabled",e.disabledButton()),a.Db(3),a.qc("hidden",!e.flag.flag))},directives:[u.b,c.b,p.c,m.a,p.r,p.u,l.b],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:800}mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.example-card[_ngcontent-%COMP%]{margin:15px}.img-table[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.row[_ngcontent-%COMP%]{padding-top:25px}.card2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.card2[_ngcontent-%COMP%]{width:100%;margin-top:5px;margin-bottom:5px}.img-card[_ngcontent-%COMP%]{width:100%;height:200px;border-top-left-radius:2px;border-top-right-radius:2px;display:block;overflow:hidden}.img-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;-o-object-fit:cover;object-fit:cover;transition:all .25s ease}.card2-content[_ngcontent-%COMP%]{padding:15px;text-align:left}.card2-title[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:1.65em}.card2-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important}.card2-read-more[_ngcontent-%COMP%]{border-top:1px solid #d4d4d4}.card2-read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;padding:5px;font-weight:600;text-transform:uppercase}"]}),t})()},TIGJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e){}}},TbkF:function(t,e,i){"use strict";i.d(e,"a",(function(){return rt}));var o=i("mrSG"),r=i("fXoL"),a=i("hwtd"),n=i("3Pt+"),s=i("xeFw");class c{static MatchPassword(t){if(t.get("password").value==t.get("confirm").value)return null;t.get("confirm").setErrors({MatchPassword:!0})}}var l=i("bP6M"),d=i("5kjY"),h=i("m0vS"),b=i("TIGJ"),u=i("fX4n"),p=i("Wt2f"),m=i("dAii"),g=i("tk/3"),f=i("EVdn"),_=(i("uejM"),i("MkNp")),v=i("tyNb"),S=i("OL1i"),y=i("ej43"),C=i("czqF"),x=i("Dcmo"),D=i("MSSf"),V=i("2+6u"),j=i("A2Vd"),O=i("TEMH"),W=i("Xlwt"),w=i("TY1r"),M=i("SSqQ"),T=i("ofXK"),I=i("IRfi"),E=i("3uU/"),k=i("j14s");const P=["myInput"];function R(t,e){if(1&t&&(r.Wb(0,"mat-option",27),r.Mc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.id_document_type),r.Db(1),r.Oc(" ",t.name," ")}}function N(t,e){1&t&&(r.Wb(0,"mat-error"),r.Mc(1," Tipo de Doc. es "),r.Wb(2,"strong"),r.Mc(3,"requerido"),r.Vb(),r.Vb())}function B(t,e){if(1&t&&(r.Wb(0,"mat-error"),r.Kc(1,N,4,0,"mat-error",10),r.Vb()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngIf",t.form_third.controls.document_type.errors.required)}}function A(t,e){if(1&t&&(r.Wb(0,"mat-card",12),r.Wb(1,"span"),r.Mc(2,"Informaci\xf3n b\xe1sica del nuevo tercero"),r.Vb(),r.Rb(3,"br"),r.Rb(4,"br"),r.Wb(5,"table",13),r.Wb(6,"tr",14),r.Wb(7,"td",15),r.Wb(8,"mat-form-field",16),r.Rb(9,"input",17),r.Vb(),r.Vb(),r.Wb(10,"td",15),r.Wb(11,"mat-form-field",16),r.Wb(12,"mat-select",18),r.Kc(13,R,2,2,"mat-option",8),r.Vb(),r.Kc(14,B,2,1,"mat-error",10),r.Vb(),r.Vb(),r.Wb(15,"td",15),r.Wb(16,"mat-form-field",16),r.Rb(17,"input",19),r.Vb(),r.Vb(),r.Vb(),r.Wb(18,"span"),r.Mc(19,"Directorio"),r.Vb(),r.Wb(20,"tr",20),r.Wb(21,"td",15),r.Wb(22,"mat-form-field",16),r.Rb(23,"input",21),r.Vb(),r.Vb(),r.Wb(24,"td",15),r.Wb(25,"span"),r.Mc(26,"Pais "),r.Wb(27,"h6"),r.Mc(28),r.Vb(),r.Vb(),r.Vb(),r.Wb(29,"td",15),r.Wb(30,"mat-form-field",16),r.Rb(31,"input",22),r.Vb(),r.Vb(),r.Wb(32,"td",0),r.Wb(33,"div",23),r.Wb(34,"mat-card",24),r.Wb(35,"mat-form-field",16),r.Rb(36,"input",25),r.Vb(),r.Vb(),r.Wb(37,"mat-card",24),r.Wb(38,"mat-form-field",16),r.Rb(39,"input",26),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.jc();r.Db(13),r.qc("ngForOf",t.documentTypes),r.Db(1),r.qc("ngIf",t.form_third.controls.document_type.errors&&t.form_third.controls.document_type.touched),r.Db(14),r.Nc(t.form_third.value.country_th)}}function F(t,e){if(1&t&&(r.Wb(0,"mat-option",27),r.Mc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.id_CITY),r.Db(1),r.Oc(" ",t.city_NAME," ")}}function q(t,e){if(1&t&&(r.Wb(0,"mat-option",27),r.Mc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.id_document_type),r.Db(1),r.Oc(" ",t.name," ")}}function L(t,e){1&t&&(r.Wb(0,"td",15),r.Wb(1,"mat-form-field",16),r.Rb(2,"input",39),r.Vb(),r.Vb())}function U(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," El Campo es requerido! "),r.Vb())}function z(t,e){if(1&t&&(r.Wb(0,"div"),r.Kc(1,U,2,0,"div",51),r.Vb()),2&t){const t=r.jc(5);r.Db(1),r.qc("ngIf",t.form_auth.controls.username.errors.required)}}function Q(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," El Campo es requerido! "),r.Vb())}function K(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," El Campo debe ser mayor a 7 caracteres! "),r.Vb())}function X(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," pattern! "),r.Vb())}function H(t,e){if(1&t&&(r.Wb(0,"div"),r.Kc(1,Q,2,0,"div",51),r.Kc(2,K,2,0,"div",51),r.Kc(3,X,2,0,"div",51),r.Vb()),2&t){const t=r.jc(5);r.Db(1),r.qc("ngIf",t.form_auth.controls.password.errors.required),r.Db(1),r.qc("ngIf",t.form_auth.controls.password.errors.minlength),r.Db(1),r.qc("ngIf",t.form_auth.controls.password.errors.pattern)}}function J(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," El campo es requerido! "),r.Vb())}function G(t,e){1&t&&(r.Wb(0,"div",52),r.Mc(1," La contrase\xf1a no coincide! "),r.Vb())}function $(t,e){if(1&t&&(r.Wb(0,"div"),r.Kc(1,J,2,0,"div",51),r.Kc(2,G,2,0,"div",51),r.Vb()),2&t){const t=r.jc(5);r.Db(1),r.qc("ngIf",t.form_auth.controls.confirm.errors.required),r.Db(1),r.qc("ngIf",t.form_auth.controls.confirm.errors.MatchPassword)}}function Y(t,e){if(1&t&&(r.Wb(0,"mat-card",46),r.Wb(1,"div",23),r.Wb(2,"mat-card",24),r.Wb(3,"mat-form-field",16),r.Rb(4,"input",47),r.Vb(),r.Kc(5,z,2,1,"div",10),r.Vb(),r.Wb(6,"div",48),r.Wb(7,"mat-card",14),r.Wb(8,"mat-form-field",16),r.Rb(9,"input",49),r.Vb(),r.Kc(10,H,4,3,"div",10),r.Vb(),r.Wb(11,"mat-card",14),r.Wb(12,"mat-form-field",16),r.Rb(13,"input",50),r.Vb(),r.Kc(14,$,3,2,"div",10),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.jc(4);r.Db(5),r.qc("ngIf",t.form_auth.controls.username.errors&&t.form_auth.controls.username.touched),r.Db(5),r.qc("ngIf",t.form_auth.controls.password.errors&&t.form_auth.controls.password.touched),r.Db(4),r.qc("ngIf",t.form_auth.controls.confirm.errors&&t.form_auth.controls.confirm.touched)}}function Z(t,e){if(1&t&&(r.Wb(0,"mat-card",12),r.Wb(1,"div",14),r.Wb(2,"mat-card",24),r.Wb(3,"mat-form-field",16),r.Rb(4,"input",41),r.Vb(),r.Vb(),r.Wb(5,"mat-card",24),r.Wb(6,"mat-form-field",16),r.Rb(7,"input",42),r.Vb(),r.Vb(),r.Wb(8,"form",1),r.Wb(9,"td",43),r.Wb(10,"div",23),r.Wb(11,"mat-checkbox",44),r.Wb(12,"span"),r.Mc(13,"Crear credenciales?"),r.Vb(),r.Vb(),r.Kc(14,Y,15,3,"mat-card",45),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.jc(3);r.Db(8),r.qc("formGroup",t.form_auth),r.Db(6),r.qc("ngIf",t.form_auth.value.isCredential)}}function tt(t,e){if(1&t&&(r.Wb(0,"td",0),r.Wb(1,"div",23),r.Wb(2,"mat-checkbox",40),r.Wb(3,"span"),r.Mc(4,"Es un empleado?"),r.Vb(),r.Vb(),r.Kc(5,Z,15,2,"mat-card",2),r.Vb(),r.Vb()),2&t){const t=r.jc(2);r.Db(5),r.qc("ngIf",t.form.value.isEmployee)}}function et(t,e){if(1&t&&(r.Wb(0,"mat-card",12),r.Wb(1,"span"),r.Mc(2,"Datos para registrar a la nueva persona natural"),r.Vb(),r.Rb(3,"br"),r.Rb(4,"br"),r.Wb(5,"table",13),r.Wb(6,"tr",14),r.Wb(7,"td",15),r.Wb(8,"mat-form-field",16),r.Rb(9,"input",28),r.Vb(),r.Vb(),r.Wb(10,"td",15),r.Wb(11,"mat-form-field",16),r.Rb(12,"input",29),r.Vb(),r.Vb(),r.Wb(13,"td",15),r.Wb(14,"mat-form-field",16),r.Rb(15,"input",30),r.Vb(),r.Vb(),r.Wb(16,"td",15),r.Wb(17,"mat-form-field",16),r.Rb(18,"input",31),r.Vb(),r.Vb(),r.Wb(19,"td",15),r.Wb(20,"mat-form-field",16),r.Wb(21,"mat-select",32),r.Kc(22,q,2,2,"mat-option",8),r.Vb(),r.Vb(),r.Vb(),r.Wb(23,"td",15),r.Wb(24,"mat-form-field",16),r.Rb(25,"input",33),r.Vb(),r.Vb(),r.Kc(26,L,3,0,"td",34),r.Vb(),r.Wb(27,"span"),r.Mc(28,"Directorio"),r.Vb(),r.Wb(29,"tr",20),r.Wb(30,"td",15),r.Wb(31,"mat-form-field",16),r.Rb(32,"input",35),r.Vb(),r.Vb(),r.Wb(33,"td",15),r.Wb(34,"mat-form-field",16),r.Rb(35,"input",36),r.Vb(),r.Vb(),r.Wb(36,"td",15),r.Wb(37,"span"),r.Mc(38,"Pais "),r.Wb(39,"h6"),r.Mc(40),r.Vb(),r.Vb(),r.Vb(),r.Wb(41,"td",15),r.Wb(42,"mat-form-field",16),r.Rb(43,"input",37),r.Vb(),r.Vb(),r.Kc(44,tt,6,1,"td",38),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.jc();r.Db(22),r.qc("ngForOf",t.documentTypes),r.Db(4),r.qc("ngIf","62"==t.form.get("id_document_type_prof").value),r.Db(14),r.Nc(t.form.value.country_prof),r.Db(4),r.qc("ngIf",t.flagRedirect)}}function it(t,e){if(1&t){const t=r.Xb();r.Wb(0,"span"),r.Wb(1,"div",53),r.Wb(2,"div",54),r.Wb(3,"mat-form-field"),r.Rb(4,"input",55),r.Vb(),r.Vb(),r.Wb(5,"div",54),r.Wb(6,"mat-form-field"),r.Rb(7,"input",56),r.Vb(),r.Vb(),r.Vb(),r.Wb(8,"div",14),r.Wb(9,"div",54),r.Wb(10,"mat-form-field"),r.Wb(11,"input",57),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.address=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(12,"div",54),r.Wb(13,"mat-form-field"),r.Wb(14,"input",58),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.phone1=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(15,"div",14),r.Wb(16,"div",54),r.Wb(17,"mat-form-field"),r.Wb(18,"input",59),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.resolucion_dian=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(19,"div",54),r.Wb(20,"mat-form-field"),r.Wb(21,"input",60),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.regimen_tributario=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(22,"div",14),r.Wb(23,"div",54),r.Wb(24,"mat-form-field"),r.Wb(25,"input",61),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.autoretenedor=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(26,"div",54),r.Wb(27,"mat-form-field"),r.Wb(28,"input",62),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.url_logo=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(29,"div",14),r.Wb(30,"div",54),r.Wb(31,"mat-form-field"),r.Wb(32,"input",63),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.prefix_bill=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(33,"div",14),r.Wb(34,"div",54),r.Wb(35,"mat-form-field"),r.Wb(36,"input",64),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.email=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(37,"div",14),r.Wb(38,"div",54),r.Wb(39,"mat-form-field"),r.Wb(40,"input",65),r.fc("ngModelChange",(function(e){return r.Bc(t),r.jc().legalData.notes=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.jc();r.Db(11),r.qc("ngModel",t.legalData.address),r.Db(3),r.qc("ngModel",t.legalData.phone1),r.Db(4),r.qc("ngModel",t.legalData.resolucion_dian),r.Db(3),r.qc("ngModel",t.legalData.regimen_tributario),r.Db(4),r.qc("ngModel",t.legalData.autoretenedor),r.Db(3),r.qc("ngModel",t.legalData.url_logo),r.Db(4),r.qc("ngModel",t.legalData.prefix_bill),r.Db(4),r.qc("ngModel",t.legalData.email),r.Db(4),r.qc("ngModel",t.legalData.notes)}}let ot=f,rt=(()=>{class t{constructor(t,e,i,o,a,n,c,f){this.http=t,this.router=e,this.route=i,this.thirdService=o,this.authenticationService=a,this.docTypeService=n,this.fb=c,this.locStorage=f,this.saveThird=new r.n,this.flagRedirect=!0,this.cityList=[],this.citySelText="",this.citySel=String(this.locStorage.getIdCity()),this.headers=new g.d({"Content-Type":"application/json"}),this.CURRENT_ID_THIRD=0,this.CURRENT_ID_THIRD_PATHER=0,this.isEmployee=!0,this.isNaturalPerson=!1,this.isPersonThird=!0,this.isCredential=!0,this.checked=!0,this.disabledNatural=!1,this.isLegalData=!1,this.legalData={resolucion_dian:"",regimen_tributario:"",autoretenedor:"",url_logo:"!232",id_city:11001,id_country:169,address:"",phone1:null,email:"",prefix_bill:"",notes:""},this.cityList2=[],this.BirthDate=" ",this.idThirdResponse=0,this.headers=new g.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),localStorage.getItem("currentUser"),this.mails=[],this.phones=[],this.commonThird=new u.a(null,null,null),this.employee=new h.a(null,this.commonThird),this.userThirdDTO=new b.a(null,this.commonThird),this.commonBasicInfo=new p.a(null,null,null,null),this.directory=new d.a(null,null,null,null,this.commonThird,this.mails,this.phones),this.person=new l.a(null,null,null,null,null,this.commonBasicInfo,this.commonThird,this.directory,this.employee,this.userThirdDTO),this.thirdDTO=new s.a(null,null,this.commonBasicInfo,this.commonThird,this.person,this.directory),this.usuarioDTO=new m.a(null,null,null,[]),this.CURRENT_ID_THIRD=null}ngOnInit(){this.mainclassref=this.mainclassref_input,this.getGenderList(),this.createControls(),this.getCitylist(),this.locStorage.getSession()?(this.token=this.locStorage.getToken(),this.CURRENT_ID_THIRD_PATHER=this.token.id_third_father,this.route.queryParams.subscribe(t=>{this.getDocumentType(),this.CURRENT_ID_THIRD=t.father,null==this.CURRENT_ID_THIRD||this.CURRENT_ID_THIRD<=0||(this.isNaturalPerson=!0,this.disabledNatural=!0),this.loadData()})):this.Login()}getGenderList(){this.http.get(_.a.tercero+"/thirds/genders",{headers:this.headers}).subscribe(t=>{console.log(t),this.GenderList=t,this.SelectedGen=t[0].id_GENERO})}getCitylist(){this.http.get(_.a.tercero+"/thirds/cities",{headers:this.headers}).subscribe(t=>{this.cityList=t,this.cityList2=t})}setTextCity(t){this.cityList.forEach(e=>{e.id_CITY==t&&(this.citySelText=e.city_NAME)})}search(t){console.log("query",t);let e=this.select(t);this.cityList2=e}select(t){let e=[];for(let i of this.cityList)i.city_NAME.toLowerCase().indexOf(t)>-1&&e.push(i);return e}getDocumentType(){this.docTypeService.getDocumentTypeList().subscribe(t=>this.documentTypes=t,t=>Object(a.a)(t),()=>{})}createControls(){this.form=this.fb.group({first_name:["",n.F.compose([n.F.required])],second_name:["",n.F.compose([])],first_lastname:["",n.F.compose([n.F.required])],second_lastname:["",n.F.compose([])],birthday:["",n.F.compose([n.F.required])],fullname_prof:["",n.F.compose([n.F.required])],id_document_type_prof:["",n.F.compose([n.F.required])],verification_digit:["",n.F.compose([n.F.required])],document_number_prof:["",n.F.compose([n.F.required])],img_prof:["",n.F.compose([n.F.required])],state_prof:["",n.F.compose([n.F.required])],address_prof:["",n.F.compose([n.F.required])],country_prof:["",n.F.compose([n.F.required])],city_prof:["",n.F.compose([n.F.required])],webpage_prof:["",n.F.compose([n.F.required])],state_dir_prof:["",n.F.compose([n.F.required])],phone_prof:["",n.F.compose([n.F.required])],priority_pohe_prof:["",n.F.compose([n.F.required])],state_pohe_prof:["",n.F.compose([n.F.required])],mail_prof:["",n.F.compose([])],priority_mail_prof:["",n.F.compose([n.F.required])],state_mail_prof:["",n.F.compose([n.F.required])],salary:["",n.F.compose([n.F.required])],state_em:["",n.F.compose([n.F.required])],isNaturalPerson:[!1,n.F.compose([])],isEmployee:[!1,n.F.compose([])]}),this.form_auth=this.fb.group({id_rol:["",n.F.compose([])],username:[this.form.value.mail_prof,n.F.compose([n.F.required])],password:["",n.F.compose([n.F.required,n.F.minLength(8),n.F.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])([A-Za-z0-9]|[^ ]){8,15}$")])],confirm:["",n.F.compose([n.F.required])],isCredential:[!1,n.F.compose([])]},{validator:c.MatchPassword}),this.form_third=this.fb.group({fullname:["",n.F.compose([n.F.required])],document_type:["",n.F.compose([n.F.required])],document_number:["",n.F.compose([n.F.required])],img:["",n.F.compose([n.F.required])],state:["",n.F.compose([n.F.required])],address_th:["",n.F.compose([n.F.required])],country_th:["",n.F.compose([n.F.required])],city_th:["",n.F.compose([n.F.required])],webpage_th:["",n.F.compose([n.F.required])],state_dir_th:["",n.F.compose([n.F.required])],phone_th:["",n.F.compose([n.F.required])],priority_pohe_th:["",n.F.compose([n.F.required])],state_pohe_th:["",n.F.compose([n.F.required])],mail_th:["",n.F.compose([n.F.required])],priority_mail:["",n.F.compose([n.F.required])],state_mail:["",n.F.compose([n.F.required])]})}loadData(){this.form_third.patchValue({country_th:"Colombia",city_th:"Bogota"}),this.form.patchValue({country_prof:"Colombia",city_prof:"Bogota"})}resetForm(){this.showNotification("top","center",3,"<h3>Se ha creado la empresa <b>CORRECTAMENTE</b></h3> ","info"),this.form_third.reset(),this.form.reset(),this.form_auth.reset()}createNewThird(){let t;if(this.isLegalData&&this.thirdService.postLegalData(this.legalData).subscribe(t=>{Object(a.a)(t)}),this.isNaturalPerson)if("true"!=localStorage.getItem("SesionExpirada")&&alert("PERSONA"),this.person.first_name=this.form.value.first_name,this.person.second_name=this.form.value.second_name,this.person.first_lastname=this.form.value.first_lastname,this.person.second_lastname=this.form.value.second_lastname,this.person.birthday=this.form.value.birthday,this.commonBasicInfo.fullname=this.person.first_name+" "+this.person.second_name+" "+this.person.first_lastname+" "+this.person.second_lastname,this.commonBasicInfo.id_document_type=this.form.value.id_document_type_prof,this.commonBasicInfo.document_number=this.form.value.document_number_prof,this.person.info=this.commonBasicInfo,this.commonThird.state=1,this.person.state=this.commonThird,Object(a.a)(this.person),this.directory.address=this.form.value.address_prof,this.directory.country=this.form.value.country_prof,this.directory.city=this.citySelText,this.directory.webpage=this.form.value.webpage_prof,this.phones.push({phone:this.form.value.phone_prof,priority:1,state:this.commonThird}),this.directory.phones=this.phones,Object(a.a)("isEmployee "+this.isEmployee),this.form.value.isEmployee)if(this.commonThird.state=1,this.employee.salary=this.form.value.salary,this.employee.state=this.commonThird,this.person.employee=this.employee,this.form_auth.value.isCredential){const e=this.form_auth.value.username,i=this.form_auth.value.password;this.usuarioDTO.id_aplicacion=this.locStorage.getIdApplication(),this.usuarioDTO.usuario=e,this.usuarioDTO.clave=i,this.usuarioDTO.id_roles=[21],this.authenticationService.postUserAUTH(this.usuarioDTO).subscribe(i=>{i?(this.mails=[{mail:e,priority:1,state:this.commonThird}],this.directory.mails=this.mails,t=i+"",this.userThirdDTO.UUID=t,this.userThirdDTO.state=this.commonThird,this.person.UUID=this.userThirdDTO,this.thirdDTO.id_third_father=this.CURRENT_ID_THIRD>0?this.CURRENT_ID_THIRD:this.CURRENT_ID_THIRD_PATHER,this.thirdDTO.id_third_type=23,this.thirdDTO.state=this.commonThird,this.person.directory=this.directory,this.thirdDTO.profile=this.person,Object(a.a)("this is dto",JSON.stringify(this.thirdDTO)),this.thirdService.postThird(this.thirdDTO).subscribe(t=>t.hasOwnProperty("third_id")?(this.saveThird.emit({id:t.third_id,data:this.thirdDTO}),void(this.flagRedirect&&(this.resetForm(),this.mainclassref.closeThird(),this.http.put(_.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+this.citySel," ",{headers:this.headers}).subscribe(t=>{Object(a.a)("1: ",t),this.mainclassref.closeThird()})))):void 0)):"true"!=localStorage.getItem("SesionExpirada")&&alert("Usuario no creado")})}else this.thirdService.postThird(this.thirdDTO).subscribe(t=>(this.idThirdResponse=t.third_id,t.hasOwnProperty("third_id")?(this.saveThird.emit({id:t.third_id,data:this.thirdDTO}),void(this.flagRedirect&&(this.resetForm(),this.goBack(),this.http.put(_.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+this.citySel," ",{headers:this.headers}).subscribe(t=>{Object(a.a)("2: ",t)})))):void 0));else Object(a.a)("ENTRO POR AQUI:::"),this.thirdDTO.id_third_father=this.CURRENT_ID_THIRD>0?this.CURRENT_ID_THIRD:this.CURRENT_ID_THIRD_PATHER,this.thirdDTO.id_third_type=23,this.thirdDTO.state=this.commonThird,this.person.directory=this.directory,this.thirdDTO.profile=this.person,Object(a.a)(this.thirdDTO),this.thirdService.postThird(this.thirdDTO).subscribe(t=>t.hasOwnProperty("third_id")?(this.saveThird.emit({id:t.third_id,data:this.thirdDTO}),void(this.flagRedirect&&(this.resetForm(),this.goBack(),this.http.put(_.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+this.citySel," ",{headers:this.headers}).subscribe(t=>{Object(a.a)("3: ",t)})))):void 0);this.isNaturalPerson||(this.commonThird.state=1,this.commonBasicInfo.fullname=this.form_third.value.fullname,this.commonBasicInfo.id_document_type=this.form_third.value.document_type,this.commonBasicInfo.document_number=this.form_third.value.document_number,this.directory.address=this.form_third.value.address_th,this.directory.country=this.form_third.value.country_th,this.directory.city=this.citySelText,this.directory.webpage=this.form_third.value.webpage_th,this.directory.state=this.commonThird,this.phones.push({phone:this.form_third.value.phone_th,priority:1,state:this.commonThird}),this.mails.push({mail:this.form_third.value.mail_th,priority:1,state:this.commonThird}),this.directory.phones=this.phones,this.directory.mails=this.mails,this.thirdDTO.directory=this.directory,this.thirdDTO.id_third_type=23,this.thirdDTO.info=this.commonBasicInfo,this.thirdDTO.state=this.commonThird,Object(a.a)("THIS IS THIRD DTO: ",JSON.stringify(this.thirdDTO)),"62"==this.form.get("id_document_type_prof").value?(console.log("DOCUMENT NUMBER IS: "+this.thirdDTO.profile.info.document_number+"-"+this.form.get("verification_digit").value),Object(a.a)(_.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"-"+this.form.get("verification_digit").value+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date),this.http.post(_.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"-"+this.form.get("verification_digit").value+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date,{},{headers:this.headers}).subscribe(t=>{Object(a.a)("city: ",this.citySel),"0"==t||0==t?this.showNotification("top","center",3,"<h3>Se presento un error al crear la Empresa</h3> ","danger"):(this.idThirdResponse=t,this.showNotification("top","center",3,"<h3>Empresa creada exitosamente</h3> ","info"),this.mainclassref.closeThird())})):(Object(a.a)(_.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date),this.http.post(_.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date,{},{headers:this.headers}).subscribe(t=>{Object(a.a)("city: ",this.citySel),"0"==t?this.showNotification("top","center",3,"<h3>Se presento un error al crear la Empresa</h3> ","danger"):(this.idThirdResponse=t,this.showNotification("top","center",3,"<h3>Empresa creada exitosamente</h3> ","info"),this.mainclassref.closeThird())})))}showNotification(t,e,i,o,r){Math.floor(4*Math.random()+1),ot.notify({icon:"notifications",message:o||"<b>Noficaci\xf3n automatica </b>"},{type:r||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}goBack(){this.router.navigate(["/dashboard/business/third/list"])}Login(){this.router.navigate(["/auth"])}Logout(){this.locStorage.cleanSession(),this.goIndex()}goIndex(){this.router.navigate(["/"])}goDashboard(){this.router.navigate(["/dashboard"])}function1(){return Object(o.a)(this,void 0,void 0,(function*(){this.elementRef.nativeElement.focus()}))}function2(){this.elementRef.nativeElement.select()}clickOnCitySel(){this.function1().then(t=>{setTimeout(()=>{this.elementRef.nativeElement.select()},25)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(g.b),r.Qb(v.b),r.Qb(v.a),r.Qb(S.a),r.Qb(y.a),r.Qb(C.a),r.Qb(n.f),r.Qb(x.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-new-third"]],viewQuery:function(t,e){var i;1&t&&r.Tc(P,!0),2&t&&r.xc(i=r.gc())&&(e.elementRef=i.first)},inputs:{flagRedirect:"flagRedirect",mainclassref_input:"mainclassref_input"},outputs:{saveThird:"saveThird"},decls:24,vars:10,consts:[[1,"col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["novalidate","",3,"formGroup"],["class","field-full-width ",4,"ngIf"],[1,"col",3,"click"],[3,"click"],["placeholder","Ciudad","name","first",3,"ngModel","ngModelChange","selectionChange","click"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput",3,"keyup"],["myInput",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","hidden","ngModelChange"],[4,"ngIf"],["mat-fab","","color","primary",1,"tky-right",3,"disabled","click"],[1,"field-full-width"],["cellspacing","0",1,"field-full-width","center-text","text-center"],[1,"row"],[1,"col-sm-12","col-mat-4","col-lg-3","col-xl-3"],[1,"example-full-width"],["matInput","","placeholder","Nombre","formControlName","fullname"],["placeholder","Tipo de Documento","formControlName","document_type"],["matInput","","placeholder","Numero de Documento","formControlName","document_number"],[1,"field-full-width","row"],["matInput","","placeholder","Direcci\xf3n","formControlName","address_th"],["matInput","","placeholder","Pagina Web","formControlName","webpage_th"],[1,"example-full-width","row"],[1,"col-sm-12","col-mat-6","col-lg-6","col-xl-6"],["matInput","","placeholder","Telefono","formControlName","phone_th"],["matInput","","placeholder","Mail","formControlName","mail_th"],[3,"value"],["matInput","","placeholder","Primer Nombre","formControlName","first_name"],["matInput","","placeholder","Segundo Nombre","formControlName","second_name"],["matInput","","placeholder","Primer apellido","formControlName","first_lastname"],["matInput","","placeholder","Segundo Apellido","formControlName","second_lastname"],["placeholder","Tipo de Documento","formControlName","id_document_type_prof"],["matInput","","placeholder","N\xfamero de documento","formControlName","document_number_prof"],["class"," col-sm-12\tcol-mat-4\tcol-lg-3 col-xl-3 ",4,"ngIf"],["matInput","","placeholder","Direcci\xf3n","formControlName","address_prof"],["matInput","","placeholder","telefono","formControlName","phone_prof"],["matInput","","placeholder","Ciudad","formControlName","city_prof"],["class"," col-sm-12\tcol-mat-12\tcol-lg-12 col-xl-12 ",4,"ngIf"],["matInput","","placeholder","Digito de Verificacion","formControlName","verification_digit"],["formControlName","isEmployee","checked","true",1,"tky-right","example-margin"],["matInput","","placeholder","Email (opcional)","formControlName","mail_prof"],["matInput","","placeholder","Salario","formControlName","salary"],[1,"example-full-width","col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["formControlName","isCredential",1,"tky-right","example-margin"],["class","field-full-width col-sm-12\tcol-mat-12\tcol-lg-12 col-xl-12",4,"ngIf"],[1,"field-full-width","col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["matInput","","placeholder","Email","formControlName","username"],[1,"example-full-width","col-sm-12","col-mat-6","col-lg-6","col-xl-6"],["matInput","","placeholder","Contrase\xf1a","formControlName","password"],["matInput","","placeholder","Confirmar contrase\xf1a","formControlName","confirm"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[1,"row",2,"margin-top","10px"],[1,"col"],["matInput","","placeholder","Ciudad",2,"font-size","1.5em"],["matInput","","placeholder","Pa\xeds",2,"font-size","1.5em"],["matInput","","placeholder","Direcci\xf3n",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Tel\xe9fono",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Resoluci\xf3n DIAN",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","R\xe9gimen Tributario",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Autoretenedor",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","URL del logo",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Prefijo de factura",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Correo electronico",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Notas",2,"font-size","1.5em",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Wb(0,"mat-card",0),r.Wb(1,"mat-card-title"),r.Mc(2,"Registrar una nueva Empresa"),r.Vb(),r.Wb(3,"mat-card-content"),r.Wb(4,"form"),r.Wb(5,"form",1),r.Kc(6,A,40,3,"mat-card",2),r.Vb(),r.Wb(7,"div",3),r.fc("click",(function(){return e.clickOnCitySel()})),r.Wb(8,"mat-form-field",4),r.fc("click",(function(){return e.clickOnCitySel()})),r.Wb(9,"mat-select",5),r.fc("ngModelChange",(function(t){return e.citySel=t}))("selectionChange",(function(){return e.setTextCity(e.citySel)}))("click",(function(){return e.clickOnCitySel()})),r.Wb(10,"input",6,7),r.fc("keyup",(function(t){return e.search(t.target.value)})),r.Vb(),r.Rb(12,"mat-divider"),r.Kc(13,F,2,2,"mat-option",8),r.Vb(),r.Vb(),r.Vb(),r.Rb(14,"h1"),r.Wb(15,"form",1),r.Kc(16,et,45,4,"mat-card",2),r.Vb(),r.Rb(17,"h1"),r.Vb(),r.Vb(),r.Wb(18,"mat-slide-toggle",9),r.fc("ngModelChange",(function(t){return e.isLegalData=t})),r.Mc(19," Crear Datos Legales "),r.Vb(),r.Kc(20,it,41,9,"span",10),r.Wb(21,"button",11),r.fc("click",(function(){return e.createNewThird()})),r.Wb(22,"mat-icon"),r.Mc(23,"save"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(5),r.qc("formGroup",e.form_third),r.Db(1),r.qc("ngIf",!e.isNaturalPerson),r.Db(3),r.qc("ngModel",e.citySel),r.Db(4),r.qc("ngForOf",e.cityList2),r.Db(2),r.qc("formGroup",e.form),r.Db(1),r.qc("ngIf",e.isNaturalPerson),r.Db(2),r.qc("ngModel",e.isLegalData)("hidden",!0),r.Db(2),r.qc("ngIf",e.isLegalData),r.Db(1),r.qc("disabled",!e.form_auth.valid&&e.isNaturalPerson&&e.form_auth.value.isCredential&&e.form.value.isEmployee))},directives:[D.a,D.m,D.d,n.H,n.s,n.t,n.j,T.t,I.b,V.a,n.r,n.u,j.b,E.a,T.s,O.a,W.b,w.a,n.c,n.i,k.p,I.a,M.a],styles:[".example-form[_ngcontent-%COMP%]{mn-width:150px;max-width:500px;width:100%}.fill-space[_ngcontent-%COMP%]{flex:1 1 auto}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.mat-card[_ngcontent-%COMP%]{box-shadow:none!important}.myInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}"]}),t})()},Wt2f:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i,o){}}},a9bD:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var o=i("LcAk"),r=i("hwtd"),a=i("EHX2"),n=i("MkNp"),s=i("fXoL"),c=i("tk/3"),l=i("Dcmo"),d=i("MSSf"),h=i("Xlwt"),b=i("ofXK");function u(t,e){if(1&t){const t=s.Xb();s.Wb(0,"tr"),s.Wb(1,"td"),s.Mc(2),s.Vb(),s.Wb(3,"td"),s.Mc(4),s.Vb(),s.Wb(5,"td"),s.Mc(6),s.Vb(),s.Wb(7,"td"),s.Mc(8),s.Vb(),s.Wb(9,"td"),s.Wb(10,"button",9),s.fc("click",(function(){s.Bc(t);const i=e.$implicit;return s.jc().closePlanilla(i)})),s.Mc(11,"Cerrar"),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit;s.Db(2),s.Nc(t.fecha_INICIO),s.Db(2),s.Nc(t.domiciliario),s.Db(2),s.Nc(t.num_PLANILLA),s.Db(2),s.Nc(t.status)}}let p=(()=>{class t{constructor(t,e,i,o,r){this.data=t,this.httpClient=e,this.locStorage=i,this.dialogRef=o,this.dialog=r}ngOnInit(){Object(r.a)("I NEED THIS: ITS DATAAAS:"),Object(r.a)(this.data.resp),this.list=this.data.resp}closePlanilla(t){this.dialog.open(a.a,{width:"120vw",height:"80vh",data:{idPlanilla:t.id_PLANILLA,blockedObs:!1,myStateId:809}}).afterClosed().subscribe(t=>{this.httpClient.get(n.a.facturacion+"/pedidos/getPlanillasData/cierreCaja?id_cierre_caja="+this.data.id_cierre_caja+"&status=C").subscribe(t=>{Object(r.a)("IM IN"),this.list=t,t.length<=0&&this.dialogRef.close()})})}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(o.a),s.Qb(c.b),s.Qb(l.a),s.Qb(o.h),s.Qb(o.b))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-cerrar-planillas-caja"]],decls:21,vars:1,consts:[[2,"height","100%","width","100%","padding","0"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","20px"],[2,"display","flex"],[1,"card-content","table-responsive"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],["mat-dialog-close","","mat-stroked-button","","color","primary","type","submit",2,"width","100%",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(s.Wb(0,"mat-card",0),s.Wb(1,"mat-card-header",1),s.Wb(2,"mat-card-title",2),s.Mc(3,"Planilla"),s.Vb(),s.Vb(),s.Wb(4,"mat-card-content",3),s.Wb(5,"div",4),s.Wb(6,"div",5),s.Wb(7,"table",6),s.Wb(8,"tr"),s.Wb(9,"th"),s.Mc(10,"Fecha de Inicio"),s.Vb(),s.Wb(11,"th"),s.Mc(12,"Domiciliario"),s.Vb(),s.Wb(13,"th"),s.Mc(14,"Numero de Planilla"),s.Vb(),s.Wb(15,"th"),s.Mc(16,"Estado"),s.Vb(),s.Rb(17,"th"),s.Vb(),s.Kc(18,u,12,4,"tr",7),s.Vb(),s.Vb(),s.Vb(),s.Wb(19,"button",8),s.fc("click",(function(){return e.close()})),s.Mc(20,"Cerrar Ventana"),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Db(18),s.qc("ngForOf",e.list))},directives:[d.a,d.f,d.m,d.d,b.s,h.b,o.d],styles:[""]}),t})()},bP6M:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i,o,r,a,n,s,c,l){}}},cUZ2:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var o=i("MkNp"),r=i("fXoL"),a=i("ktqI"),n=i("Dcmo"),s=i("tk/3"),c=i("LcAk"),l=i("2+6u"),d=i("Xlwt"),h=i("IRfi"),b=i("3Pt+"),u=i("ofXK"),p=i("j14s");function m(t,e){if(1&t&&(r.Wb(0,"mat-option",10),r.Mc(1),r.Vb()),2&t){const t=e.$implicit;r.qc("value",t.id_CAJA),r.Db(1),r.Pc(" ",t.store," - ",t.caja," ")}}function g(t,e){if(1&t){const t=r.Xb();r.Wb(0,"button",11),r.fc("click",(function(){return r.Bc(t),r.jc().cancel()})),r.Mc(1,"Salir sin abrir Caja"),r.Vb()}}let f=(()=>{class t{constructor(t,e,i,o){this.service=t,this.locStorage=e,this.httpClient=i,this.dialogRef=o,this.stores=[],this.doubleclick=!1}ngOnInit(){this.rol=this.locStorage.getRol()[0].id_rol,this.httpClient.get(o.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe(t=>{t.forEach(t=>{this.httpClient.get(o.a.cierreCaja+"/close/isopen?idcaja="+t.id_CAJA).subscribe(e=>{e>0||(this.stores.push(t),this.SelectedStore=t.id_CAJA)})})})}open(){this.dialogRef.close({logout:!1,open:!0,idcaja:this.SelectedStore})}cancel(){this.dialogRef.close({logout:!1,open:!1,idcaja:this.SelectedStore})}logout(){this.doubleclick=!0,this.dialogRef.close({logout:!0,open:!1,idcaja:this.SelectedStore})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a.a),r.Qb(n.a),r.Qb(s.b),r.Qb(c.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-selectbox"]],decls:20,vars:5,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],[1,"row",2,"text-align","center","margin-top","20px","margin-bottom","20px"],[1,"col-12"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["mat-stroked-button","","color","primary","type","button",3,"click",4,"ngIf"],[3,"value"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"h4",2),r.Mc(3,"Selecciona la caja que quieres abrir"),r.Vb(),r.Vb(),r.Wb(4,"div",3),r.Wb(5,"div",4),r.Wb(6,"mat-form-field"),r.Wb(7,"mat-label"),r.Mc(8,"Seleccione la Caja a abrir"),r.Vb(),r.Wb(9,"mat-select",5),r.fc("ngModelChange",(function(t){return e.SelectedStore=t})),r.Kc(10,m,2,3,"mat-option",6),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(11,"div",3),r.Wb(12,"div",7),r.Wb(13,"button",8),r.fc("click",(function(){return e.open()})),r.Mc(14,"Abrir esta caja"),r.Vb(),r.Vb(),r.Wb(15,"div",7),r.Kc(16,g,2,0,"button",9),r.Vb(),r.Wb(17,"div",7),r.Wb(18,"button",8),r.fc("click",(function(){return e.logout()})),r.Mc(19,"Cerrar sesion"),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(9),r.qc("ngModel",e.SelectedStore),r.Db(1),r.qc("ngForOf",e.stores),r.Db(3),r.qc("disabled",!(e.stores.length>0)),r.Db(3),r.qc("ngIf",e.locStorage.getMenu().length>2),r.Db(2),r.qc("disabled",e.doubleclick))},directives:[h.b,h.f,l.a,b.r,b.u,u.s,d.b,u.t,p.p],styles:[""]}),t})()},czqF:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var o=i("Cfvw"),r=i("HDdC"),a=i("MkNp"),n=i("tk/3"),s=i("fXoL"),c=i("Dcmo");let l=(()=>{class t{constructor(t,e){this.http=t,this.locStorage=e,this.api_uri=a.a.tercero+"/documents-types",this.headers=new n.d({"Content-Type":"application/json"}),this.getDocumentTypeList=()=>{let t=new Promise((t,e)=>{this.http.get(this.api_uri,this.options).subscribe(e=>{t(e)},t=>{this.handleError(t),e(t)})});return Object(o.a)(t)},this.headers=new n.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),this.options={headers:this.headers}}handleError(t){let e;if(t instanceof Response){const i=t.json()||"",o=i.error||JSON.stringify(i);e=`${t.status} - ${t.statusText||""} ${o}`}else e=t.message?t.message:t.toString();return"true"!=localStorage.getItem("SesionExpirada")&&alert(e),r.a.throw(e)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(n.b),s.bc(c.a))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},dAii:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i,o){}}},fDUG:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var o=i("fXoL"),r=i("hwtd"),a=i("tk/3"),n=i("Cfvw"),s=i("MkNp"),c=i("Dcmo");let l=(()=>{class t{constructor(e,i){this.http=e,this.locStorage=i,this.api_uri_bill=s.a.facturacion+"/billing",this.api_uri_caja=s.a.cierreCaja+"/close",this.api_uri_caja_detail=s.a.cierreCaja+"/detail-close",this.api_uri_inv=s.a.tienda+"/categories2",this.api_uri_products=s.a.tienda+"/products2",this.api_uri_brand=s.a.tienda+"/mun",this.api_uri_store=s.a.tienda+"/store",this.invokeFirstComponentFunction=new o.n,this.headers=new a.d({"Content-Type":"application/json"}),this.getBillResource=(e,i,o,r,s,c,l,d,h,b,u,p,m,g,f,_,v)=>{let S=new a.e,y=[];y.push(["id_bill",i?""+i:null]),y.push(["id_bill_father",o?""+o:null]),y.push(["id_third_employee",r?""+r:null]),y.push(["id_third",s?""+s:null]),y.push(["id_payment_state",c?""+c:null]),y.push(["id_bill_state",l?""+l:null]),y.push(["id_bill_type",d?""+d:null]),y.push(["consecutive",h?""+h:null]),y.push(["purchase_date",b?""+b:null]),y.push(["subtotal",u?""+u:null]),y.push(["tax",p?""+p:null]),y.push(["discount",m?""+m:null]),y.push(["totalprice",g?""+g:null]),y.push(["id_state_bill",f?""+f:null]),y.push(["state_bill",e?""+e:null]),y.push(["creation_bill",_?""+_:null]),y.push(["update_bill",v?""+v:null]);for(let t=0;t<y.length;t++)null!=y[t][1]&&(S=S.append(y[t][0],y[t][1]));let C=new Promise((e,i)=>{this.http.get(this.api_uri_bill+"/details",{headers:this.headers,params:S}).subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(C)},this.getBillDetailsResource=(e,i,o,r,s,c,l,d,h,b,u,p,m,g,f,_,v)=>{let S=new a.e,y=[];y.push(["id_bill",i?""+i:null]),y.push(["id_bill_father",o?""+o:null]),y.push(["id_third_employee",r?""+r:null]),y.push(["id_third",s?""+s:null]),y.push(["id_payment_state",c?""+c:null]),y.push(["id_bill_state",l?""+l:null]),y.push(["id_bill_type",d?""+d:null]),y.push(["consecutive",h?""+h:null]),y.push(["purchase_date",b?""+b:null]),y.push(["subtotal",u?""+u:null]),y.push(["tax",p?""+p:null]),y.push(["discount",m?""+m:null]),y.push(["totalprice",g?""+g:null]),y.push(["id_state_bill",f?""+f:null]),y.push(["state_bill",e?""+e:null]),y.push(["creation_bill",_?""+_:null]),y.push(["update_bill",v?""+v:null]);for(let t=0;t<y.length;t++)null!=y[t][1]&&(S=S.append(y[t][0],y[t][1]));let C=new Promise((e,i)=>{this.http.get(this.api_uri_bill,{headers:this.headers,params:S}).subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(C)},this.getBillCompleteResource=(e,i,o,r,s,c,l,d,h,b,u,p,m,g,f,_,v)=>{let S=new a.e,y=[];y.push(["id_bill",i?""+i:null]),y.push(["id_bill_father",o?""+o:null]),y.push(["id_third_employee",r?""+r:null]),y.push(["id_third",s?""+s:null]),y.push(["id_payment_state",c?""+c:null]),y.push(["id_bill_state",l?""+l:null]),y.push(["id_bill_type",d?""+d:null]),y.push(["consecutive",h?""+h:null]),y.push(["purchase_date",b?""+b:null]),y.push(["subtotal",u?""+u:null]),y.push(["tax",p?""+p:null]),y.push(["discount",m?""+m:null]),y.push(["totalprice",g?""+g:null]),y.push(["id_state_bill",f?""+f:null]),y.push(["state_bill",e?""+e:null]),y.push(["creation_bill",_?""+_:null]),y.push(["update_bill",v?""+v:null]);for(let t=0;t<y.length;t++)null!=y[t][1]&&(S=S.append(y[t][0],y[t][1]));let C=new Promise((e,i)=>{this.http.get(this.api_uri_bill+"/completes",{headers:this.headers,params:S}).subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(C)},this.getBillCompleteDeatilsResource=(e,i,o,r,s,c,l,d,h,b,u,p,m,g,f,_,v)=>{let S=new a.e,y=[];y.push(["id_bill",i?""+i:null]),y.push(["id_bill_father",o?""+o:null]),y.push(["id_third_employee",r?""+r:null]),y.push(["id_third",s?""+s:null]),y.push(["id_payment_state",c?""+c:null]),y.push(["id_bill_state",l?""+l:null]),y.push(["id_bill_type",d?""+d:null]),y.push(["consecutive",h?""+h:null]),y.push(["purchase_date",b?""+b:null]),y.push(["subtotal",u?""+u:null]),y.push(["tax",p?""+p:null]),y.push(["discount",m?""+m:null]),y.push(["totalprice",g?""+g:null]),y.push(["id_state_bill",f?""+f:null]),y.push(["state_bill",e?""+e:null]),y.push(["creation_bill",_?""+_:null]),y.push(["update_bill",v?""+v:null]);for(let t=0;t<y.length;t++)null!=y[t][1]&&(S=S.append(y[t][0],y[t][1]));let C=new Promise((e,i)=>{this.http.get(this.api_uri_bill+"/completes/details",{headers:this.headers,params:S}).subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(C)},this.getDetailsById=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_caja_detail+"?id_cierre_caja="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postPaymentDetail=(e,i)=>{let o=new a.e;null!=i&&(o=o.append("id_bill",i));let r=new Promise((i,r)=>{this.http.post(s.a.facturacion+"/payments-details",e,{headers:this.headers,params:o}).subscribe(t=>{i(t)},e=>{t.handleError(e),r(null)})});return Object(n.a)(r)},this.getDirectoryById=e=>{let i=new a.e;null!=e&&(i=i.append("id_directory",e));let o=new Promise((e,o)=>{this.http.get(s.a.tercero+"/directories",{headers:this.headers,params:i}).subscribe(t=>{e(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(o)},this.postBillResource=(e,i)=>{Object(r.a)("this is my body: ",e);let o=new a.e;1==i&&null!=String(this.locStorage.getIdCaja())&&(o=o.append("id_caja",String(this.locStorage.getIdCaja())));let c=new Promise((i,r)=>{this.http.post(s.a.facturacion+"/billing",e,{headers:this.headers,params:o}).subscribe(t=>{i(t)},e=>{t.handleError(e),r(null)})});return Object(n.a)(c)},this.putInventoryDetail=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_bill+"/"+e,i,{headers:this.headers}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(null)})});return Object(n.a)(o)},this.deleteInventoryDetail=(e,i)=>{let o=new Promise((i,o)=>{this.http.delete(this.api_uri_bill+"/"+e,{headers:this.headers}).subscribe(t=>{i(!0)},e=>{t.handleError(e),o(!1)})});return Object(n.a)(o)},this.getCajaByIdStatus=e=>{let i=new Promise((i,o)=>{this.http.get(s.a.cierreCaja+"/close/boxes?id_third_employee="+e+"&status=O",{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getCajaByIdStatus2=e=>{let i=new Promise((i,o)=>{this.http.get(s.a.cierreCaja+"/close/boxes2?id_third_employee="+e+"&status=O",{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postBox=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_caja,e,{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postBoxDetail=(e,i)=>{let o=new a.e;null!=i&&(o=o.append("id_cierre_caja",i));let r=new Promise((i,r)=>{this.http.post(this.api_uri_caja_detail,e,{headers:this.headers,params:o}).subscribe(t=>{i(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(r)},this.closeBox=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_caja+"/state/"+e,i,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getSalesSum=e=>{let i=new Promise((i,o)=>{this.http.get(s.a.cierreCaja+"/close/ventasCaja?id_cierre_caja="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getGeneralCategories=()=>{const e={listaTipos:this.locStorage.getTipo()};let i=new Promise((i,o)=>{this.http.post(this.api_uri_inv+"/get",e).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getCategoryByThird=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_inv+"/byThird?id_third="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getCategoryByThirdCategory=(e,i)=>{let o=new Promise((o,r)=>{this.http.get(this.api_uri_inv+"/children/byThird?id_category_father="+String(i)+"&id_third="+String(e),{headers:this.headers}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getCategoryByFather=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_inv+"/children?id_category_father="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getProductsByCategory=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_products+"?id_category="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getSubproductsByCategory=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_products+"/code?id_product="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getGenericMeassureUnits=()=>{let e=new Promise((e,i)=>{this.http.get(this.api_uri_brand,{headers:this.headers}).subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(e)},this.getMeassureUnitsByFather=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_brand+"/bymu?id_measure_unit_father="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getMeassureByThird=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_brand+"/bythird?id_third="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getMeassureByThirdAndFater=(e,i)=>{let o=new Promise((o,r)=>{this.http.get(this.api_uri_brand+"/bythirdAndmu?id_measure_unit_father="+String(i)+"&id_third"+String(e)).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getBrands=()=>{let e=new Promise((e,i)=>{this.http.get(this.api_uri_brand+"/brand").subscribe(t=>{e(t)},e=>{t.handleError(e),i(e)})});return Object(n.a)(e)},this.getBrandsByFather=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_brand+"/brand/bybrand?id_brand_father="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getBrandByThirdAndFater=(e,i)=>{let o=new Promise((o,r)=>{this.http.get(this.api_uri_brand+"/brand/bybrandbythird?id_brand_father="+String(i)+"&id_third="+String(e)).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getBrandByThird=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_brand+"/brand/bythird?id_third="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postMeasureUnit=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_brand,e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postBrand=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_brand+"/brand",e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putBrand=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_brand+"/brand?id_brand="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.putMeasureUnit=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_brand+"?id_measure_unit="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.postCategory=e=>{let i=new Promise((i,o)=>{this.http.post(s.a.tienda+"/categories2",e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putCategory=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_inv+"?id_category="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.postProduct=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_products,e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putProduct=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_products+"?id_product="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.postCode=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_products+"/code",e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putCode=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_products+"/code/update?id_code="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getStoresByThird=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_store+"?id_third="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getStoragesByStore=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_store+"/s?id_store="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getProductsByStorage=e=>{let i=new Promise((i,o)=>{this.http.get(s.a.tienda+"/products2/productxstorage?id_storage="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getCategoriesByThird=e=>{let i=new Promise((i,o)=>{this.http.get(s.a.tienda+"/store/s/categories?id_third="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getBoxByStore=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_store+"/b?id_store="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.postStore=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_store,e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putStore=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_store+"?id_store="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.postBoxStore=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_store+"/b",e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putBox=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_store+"/b?id_caja="+String(i),e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.postStorage=e=>{let i=new Promise((i,o)=>{this.http.post(this.api_uri_store+"/s",e,{headers:this.headers,responseType:"text"}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.putStorage=(e,i)=>{let o=new Promise((o,r)=>{this.http.put(this.api_uri_store+"/s?id_store="+i,e,{headers:this.headers,responseType:"text"}).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.getBoxDetail=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_caja+"/boxdetail?id_cierre_caja="+String(e),{headers:this.headers}).subscribe(t=>{i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getBoxMaster=e=>{let i=new Promise((i,o)=>{this.http.get(this.api_uri_caja+"/boxmaster?id_cierre_caja="+String(e),{headers:this.headers}).subscribe(t=>{Object(r.a)("STUFF TO TEST,",t),i(t)},e=>{t.handleError(e),o(e)})});return Object(n.a)(i)},this.getProductsByCategoryThird=(e,i)=>{let o=new Promise((o,r)=>{console.log(s.a.tienda+"/categories2/productsOnStore?id_third="+String(i)+"&id_category="+e+"&id_store="+this.locStorage.getIdStore()),this.http.get(s.a.tienda+"/categories2/productsOnStore?id_third="+String(i)+"&id_category="+e+"&id_store="+this.locStorage.getIdStore()).subscribe(t=>{o(t)},e=>{t.handleError(e),r(e)})});return Object(n.a)(o)},this.headers=new a.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()})}onClick(){this.invokeFirstComponentFunction.emit()}static handleError(t){let e;if(t instanceof Response){const i=t.json()||"",o=i.error||JSON.stringify(i);e=`${t.status} - ${t.statusText||""} ${o}`}else e=t.message?t.message:t.toString();return localStorage.getItem("SesionExpirada"),null}}return t.\u0275fac=function(e){return new(e||t)(o.bc(a.b),o.bc(c.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},fX4n:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i){}}},m0vS:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e){}}},pQyV:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var o=i("mrSG"),r=i("hwtd"),a=i("LcAk"),n=i("sPm0"),s=i("HErj"),c=i("MkNp"),l=i("a9bD"),d=i("fXoL"),h=i("ofXK"),b=i("MSSf"),u=i("cCzN"),p=i("2+6u"),m=i("A2Vd"),g=i("Xlwt"),f=i("tk/3"),_=i("tyNb"),v=i("Dcmo"),S=i("fDUG"),y=i("IRfi"),C=i("j14s"),x=i("3Pt+"),D=i("TT0I");const V=function(){return{precision:0}};let j=(()=>{class t{constructor(t,e,i,o,r,a,n,s){this.datePipe=t,this.dialogRef=e,this.http2=i,this.router=o,this.dialog=r,this.locStorage=a,this.billingService=n,this.flag=s,this.boxDisabled=!1,this.currentDate=new Date,this.movementType="d",this.movementMoney=0,this.movementNotes="",this.balance=0,this.total=0,this.caja=localStorage.getItem("currentBox"),this.movementBill=0,this.movementCoin=0,this.movementTrans=0,this.movementNotas="",this.total2=0,this.closeboxinfo={balance:0,caja:"",cajero:"",notes:null,starting_DATE:"",store:""},this.devoluciones=0,this.devolucionesCred=0,this.devolucionesDebt=0,this.currentBalance=0,this.devolucionesTransf=0,this.balances=0,this.efectivo=0,this.tarjCred=0,this.transferencias=0,this.tarjDeb=0,this.consecutive=0,this.base=0,this.credits=0,this.debts=0,this.buttonoff=!1}getCreds(t){for(let e=0;e<t.length;e++)"C"==t[e].naturaleza&&(this.credits+=t[e].valor)}getDevoluciones(t){for(let e=0;e<t.length;e++)t[e].notes.includes("Efectivo - Devoluci\xf3n factura")&&(this.devoluciones+=t[e].valor),t[e].notes.includes("TD - Devoluci\xf3n factura")&&(this.devolucionesDebt+=t[e].valor),t[e].notes.includes("TC - Devoluci\xf3n factura")&&(this.devolucionesCred+=t[e].valor),t[e].notes.includes("TR - Devoluci\xf3n factura")&&(this.devolucionesTransf+=t[e].valor)}getDebts(t){for(let e=0;e<t.length;e++)"D"==t[e].naturaleza&&(this.debts+=t[e].valor)}ngOnInit(){this.currentBalance=0,this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(t=>{this.http2.get(c.a.facturacion+"/pedidos/getPlanillasData/cierreCaja?id_cierre_caja="+t[0]+"&status=C").subscribe(e=>{e.length>0&&this.dialog.open(l.a,{width:"60vw",height:"80vh",data:{resp:e,id_cierre_caja:t[0]},disableClose:!0}).afterClosed().subscribe(t=>{})}),this.billingService.getDetailsById(t[0]).subscribe(t=>{Object(r.a)(t,"los detallitos"),this.myDetails=t,this.base=t[0].valor,this.getCreds(t),this.getDebts(t),this.getDevoluciones(t)})}),this.nombreEmployee=this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,this.calculateBalance(),this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(t=>{this.idOfOpenBox=t,this.http2.get(c.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+t+"&id_payment=1").subscribe(t=>{this.efectivo=t}),this.http2.get(c.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+t+"&id_payment=3").subscribe(t=>{this.tarjCred=t}),this.http2.get(c.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+t+"&id_payment=2").subscribe(t=>{this.tarjDeb=t}),this.http2.get(c.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+t+"&id_payment=4").subscribe(t=>{this.transferencias=t}),this.billingService.getSalesSum(t[0]).subscribe(e=>{this.total2=e,this.billingService.getBoxDetail(t).subscribe(e=>{this.billingService.getBoxMaster(t).subscribe(t=>{this.closeboxinfo=t,this.currentBalance=t.balance,this.balances=this.currentBalance,this.closeboxinfo.cajero=this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,this.closeboxinfo.caja=String(this.locStorage.getIdCaja()),this.closeboxinfo.store=String(this.locStorage.getIdStore()),Object(r.a)(t)})})})}),this.http2.get(c.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe(t=>{Object(r.a)("THIS IS DATA FOR ME: ",t),this.nombreCaja=t.caja,this.nombreTienda=t.store})}closeDialog(){this.dialogRef.close()}openBox(){return Object(o.a)(this,void 0,void 0,(function*(){this.buttonoff=!0,this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(t=>{const e=localStorage.getItem("movements");if("d"===this.movementType)var i='[{"valor": '+String(this.movementMoney)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "'+this.movementNotes+'"}]',o="-"+String(this.movementMoney);"c"===this.movementType&&(i='[{"valor": '+String(this.movementMoney)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "'+this.movementNotes+'"}]',o=String(this.movementMoney)),this.billingService.postBoxDetail(i,t[0]).subscribe(t=>{localStorage.setItem("movements",e+","+o),Object(r.a)(localStorage.getItem("movements")),this.movementMoney=0,this.movementNotes="",this.movementType="",this.closeDialog()})})}))}calculateaux1(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementBill)}calculateaux2(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementCoin)}calculateBalance(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementTrans)}openDetailsDialog(){this.dialog.open(n.a,{width:"60vw",data:{}})}printPdf(t){return Object(o.a)(this,void 0,void 0,(function*(){Object(r.a)("THIS IS ID, ",t),Object(r.a)("CAJA NOMBRE: ",this.nombreCaja),Object(r.a)("CAJA TIENDA: ",this.nombreTienda),Object(r.a)("/----BANDERA 1----/"),this.http2.get(c.a.cierreCaja+"/close/consecutive?id_cierre_caja="+t).subscribe(e=>{Object(r.a)("/----BANDERA 2----/"),Object(r.a)(e),this.http2.get(c.a.cierreCaja+"/close/consecutive2?id="+t,{responseType:"text"}).subscribe(i=>{Object(r.a)("/----BANDERA 3----/"),Object(r.a)(i),this.http2.post(c.a.cierreCaja+"/close/pdf",{codigo:"-"+this.locStorage.getIdStore()+"-"+this.locStorage.getIdCaja()+"-",nombre_empresa:this.locStorage.getThird().info.fullname,nit:this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number,numero_documento:(this.locStorage.getThird().info.fullname+"_cc_"+e).split(" ").join("_"),nombre_cajero:this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,nombre_caja:this.nombreCaja,nombre_tienda:this.nombreTienda,fecha_inicio:this.datePipe.transform(new Date(this.closeboxinfo.starting_DATE),"dd/MM/yyyy HH:mm"),fecha_finalizacion:this.datePipe.transform(new Date(i),"dd/MM/yyyy HH:mm"),balance:Number(this.pdfJson),detalles:this.detailList},{responseType:"text"}).subscribe(o=>{Object(r.a)("/----BANDERA 4----/"),Object(r.a)(o),Object(r.a)("THE PDF TO BOX IS: ",JSON.stringify({codigo:"-"+this.locStorage.getIdStore()+"-"+this.locStorage.getIdCaja()+"-",nombre_empresa:this.locStorage.getThird().info.fullname,nit:this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number,numero_documento:(this.locStorage.getThird().info.fullname+"_cc_"+e).split(" ").join("_"),nombre_cajero:this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,nombre_caja:this.nombreCaja,nombre_tienda:this.nombreTienda,fecha_inicio:this.datePipe.transform(new Date(this.closeboxinfo.starting_DATE),"dd/MM/yyyy HH:mm"),fecha_finalizacion:this.datePipe.transform(new Date(i),"dd/MM/yyyy HH:mm"),balance:Number(this.pdfJson),detalles:this.detailList})),this.http2.post(c.a.cierreCaja+"/close/url",{iddoc:t,url:c.a.root+"docscaja/"+o}).subscribe(t=>{Object(r.a)("/----BANDERA 5----/"),Object(r.a)(t)}),window.open(c.a.root+"docscaja/"+o,"_blank")})})})}))}convertTime12to24(t){const[e,i]=t.split(" ");let[o,r]=e.split(":");return"12"===o&&(o="00"),"PM"===i&&(o=parseInt(o,10)+12),`${o}:${r}`}generateDetailList(t){return Object(o.a)(this,void 0,void 0,(function*(){let e=[],i=[],o=0;t.forEach(r=>{o++,i=[],i.push(String(r.movement_DATE)),i.push(r.naturaleza),i.push(r.notes),i.push(r.valor),e.push(i),o===t.length&&(this.detailList=e)})}))}saveCloseBox(t){this.http2.get(c.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe(e=>{Object(r.a)("THIS IS DATA FOR ME: ",e),this.nombreCaja=e.caja,this.nombreTienda=e.store,this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(e=>{let i='[{"valor": '+String(this.tarjDeb-this.devolucionesDebt)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Tarjeta Debito"}]';this.billingService.postBoxDetail(i,e[0]).subscribe(i=>{let o='[{"valor": '+String(this.movementBill)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Billetes"}]';this.billingService.postBoxDetail(o,e[0]).subscribe(i=>{o='[{"valor": '+String(this.movementCoin)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Monedas"}]',this.billingService.postBoxDetail(o,e[0]).subscribe(i=>{o='[{"valor": '+String(this.tarjCred-this.devolucionesCred)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Tarjeta Credito"}]',this.billingService.postBoxDetail(o,e[0]).subscribe(i=>{o='[{"valor": '+String(this.transferencias-this.devolucionesTransf)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Transferencia"}]',this.billingService.postBoxDetail(o,e[0]).subscribe(i=>{o='[{"valor": '+String(this.efectivo+this.tarjCred+this.tarjDeb+this.transferencias)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "Total de ventas"}]',this.billingService.postBoxDetail(o,e[0]).subscribe(e=>{this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(e=>{this.billingService.getBoxMaster(e).subscribe(i=>{this.pdfJson=i,this.billingService.closeBox(e,{status:"C",notes:t}).subscribe(t=>{this.billingService.getDetailsById(this.idOfOpenBox).subscribe(t=>{this.generateDetailList(t).then(t=>{this.printPdf(this.idOfOpenBox[0]).then(t=>{this.locStorage.setBoxStatus(!1),this.boxDisabled=!1})})}),this.router.navigateByUrl("/dashboard/business/menu"),this.closeDialog()})})})})})})})})})})})}closeBoxOG(){let t;this.boxDisabled=!0;let e=this.dialog.open(s.a,{height:"450px",width:"600px",data:{},disableClose:!0});Object(r.a)("ID_CIERRE_CAJA: "),Object(r.a)(this.idOfOpenBox[0]),this.http2.post(c.a.facturacion+"/pedidos/cierreCajaPlanilla?IDCIERRECAJA="+this.idOfOpenBox[0],{}).subscribe(i=>{e.afterClosed().subscribe(e=>{this.locStorage.setBoxStatus(!1),Object(r.a)(e),null!==e&&(t=e,this.saveCloseBox(t))})})}closeBox(){let t;this.boxDisabled=!0,this.dialog.open(s.a,{height:"450px",width:"600px",data:{},disableClose:!0}).afterClosed().subscribe(e=>{this.locStorage.setBoxStatus(!1),null!==e&&this.http2.post(c.a.cierreCaja+"/close/cierre_de_caja?idCaja="+this.locStorage.getIdCaja()+"&billetes="+this.movementBill+"&monedas="+this.movementCoin+"&notas="+t,{}).subscribe(i=>{t=e,this.http2.get(c.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe(t=>{this.nombreCaja=t.caja,this.nombreTienda=t.store,this.http2.get(c.a.cierreCaja+"/close/balance/v2?id_cierre_caja="+this.idOfOpenBox[0]).subscribe(t=>{this.pdfJson=t,console.log("E: "+i),1==i&&this.billingService.getDetailsById(this.idOfOpenBox).subscribe(t=>{this.generateDetailList(t).then(t=>{this.printPdf(this.idOfOpenBox[0]).then(t=>{this.locStorage.setBoxStatus(!1),this.boxDisabled=!1}),this.router.navigateByUrl("/dashboard/business/menu"),this.closeDialog()})})})})})})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(h.f),d.Qb(a.h),d.Qb(f.b),d.Qb(_.b),d.Qb(a.b),d.Qb(v.a),d.Qb(S.a),d.Qb(a.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["app-close-box"]],decls:136,vars:99,consts:[[2,"max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","25px"],["label","Movimientos de caja"],[3,"value","valueChange"],["value","c"],["value","d"],["currencyMask","","matInput","","type","text","placeholder","Cantidad","id","reader","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],["matInput","","type","text","placeholder","Notas","id","reader","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"hidden","click"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["label","Cierre de caja"],[1,"row"],[1,"col-12"],[1,"table","table-hover"],[1,"text-center"],[1,"col-6",3,"hidden"],[1,"col-6"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en Billetes","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en Monedas","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],[3,"hidden"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en transacciones","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"mat-card"),d.Wb(2,"mat-card-header",1),d.Wb(3,"mat-card-title",2),d.Mc(4," Opciones de Caja"),d.Vb(),d.Vb(),d.Wb(5,"mat-card-content",3),d.Wb(6,"mat-tab-group"),d.Wb(7,"mat-tab",4),d.Wb(8,"h4"),d.Mc(9,"Estas a punto de hacer un nuevo movimiento de caja."),d.Vb(),d.Wb(10,"mat-form-field"),d.Wb(11,"mat-label"),d.Mc(12,"Select an option"),d.Vb(),d.Wb(13,"mat-select",5),d.fc("valueChange",(function(t){return e.movementType=t})),d.Wb(14,"mat-option",6),d.Mc(15,"Egreso"),d.Vb(),d.Wb(16,"mat-option",7),d.Mc(17,"Ingreso"),d.Vb(),d.Vb(),d.Vb(),d.Wb(18,"mat-form-field"),d.Wb(19,"input",8),d.fc("ngModelChange",(function(t){return e.movementMoney=t}))("click",(function(t){return t.target.select()})),d.Vb(),d.Vb(),d.Wb(20,"mat-form-field"),d.Wb(21,"input",9),d.fc("ngModelChange",(function(t){return e.movementNotes=t})),d.Vb(),d.Vb(),d.Wb(22,"button",10),d.fc("click",(function(){return e.closeDialog()})),d.Mc(23,"Volver"),d.Vb(),d.Wb(24,"button",11),d.fc("click",(function(){return e.openDetailsDialog()})),d.Mc(25,"Ver Otros Movimientos"),d.Vb(),d.Wb(26,"button",12),d.fc("click",(function(){return e.openBox()})),d.Mc(27,"A\xf1adir Movimiento"),d.Vb(),d.Vb(),d.Wb(28,"mat-tab",13),d.Wb(29,"div",14),d.Wb(30,"div",15),d.Wb(31,"table",16),d.Wb(32,"thead"),d.Wb(33,"tr"),d.Wb(34,"th",17),d.Wb(35,"b"),d.Mc(36),d.Vb(),d.Vb(),d.Vb(),d.Wb(37,"tr"),d.Wb(38,"th",17),d.Wb(39,"b"),d.Mc(40),d.Vb(),d.Vb(),d.Vb(),d.Wb(41,"tr"),d.Wb(42,"th",17),d.Wb(43,"b"),d.Mc(44),d.Vb(),d.Vb(),d.Vb(),d.Wb(45,"tr"),d.Wb(46,"th",17),d.Wb(47,"b"),d.Mc(48),d.kc(49,"date"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(50,"tbody"),d.Vb(),d.Vb(),d.Wb(51,"div",18),d.Wb(52,"table",16),d.Wb(53,"thead"),d.Wb(54,"tr"),d.Wb(55,"th",17),d.Rb(56,"b"),d.Vb(),d.Wb(57,"th",17),d.Wb(58,"b"),d.Mc(59,"Ventas"),d.Vb(),d.Vb(),d.Wb(60,"th",17),d.Wb(61,"b"),d.Mc(62,"Devoluciones"),d.Vb(),d.Vb(),d.Wb(63,"th",17),d.Rb(64,"b"),d.Vb(),d.Vb(),d.Wb(65,"tr"),d.Wb(66,"th",17),d.Wb(67,"b"),d.Mc(68,"Efectivo: "),d.Vb(),d.Vb(),d.Wb(69,"th",17),d.Mc(70),d.kc(71,"currency"),d.Vb(),d.Wb(72,"th",17),d.Mc(73),d.kc(74,"currency"),d.Vb(),d.Wb(75,"th",17),d.Mc(76),d.kc(77,"currency"),d.Vb(),d.Vb(),d.Wb(78,"tr"),d.Wb(79,"th",17),d.Wb(80,"b"),d.Mc(81,"Tarjeta Debito: "),d.Vb(),d.Vb(),d.Wb(82,"th",17),d.Mc(83),d.kc(84,"currency"),d.Vb(),d.Wb(85,"th",17),d.Mc(86),d.kc(87,"currency"),d.Vb(),d.Wb(88,"th",17),d.Mc(89),d.kc(90,"currency"),d.Vb(),d.Vb(),d.Wb(91,"tr"),d.Wb(92,"th",17),d.Wb(93,"b"),d.Mc(94,"Tarjeta Credito: "),d.Vb(),d.Vb(),d.Wb(95,"th",17),d.Mc(96),d.kc(97,"currency"),d.Vb(),d.Wb(98,"th",17),d.Mc(99),d.kc(100,"currency"),d.Vb(),d.Wb(101,"th",17),d.Mc(102),d.kc(103,"currency"),d.Vb(),d.Vb(),d.Wb(104,"tr"),d.Wb(105,"th",17),d.Rb(106,"b"),d.Vb(),d.Wb(107,"th",17),d.Wb(108,"h4"),d.Wb(109,"b"),d.Mc(110),d.kc(111,"currency"),d.Vb(),d.Vb(),d.Vb(),d.Wb(112,"th",17),d.Wb(113,"h4"),d.Wb(114,"b"),d.Mc(115),d.kc(116,"currency"),d.Vb(),d.Vb(),d.Vb(),d.Wb(117,"th",17),d.Wb(118,"h4"),d.Wb(119,"b"),d.Mc(120),d.kc(121,"currency"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rb(122,"tbody"),d.Vb(),d.Vb(),d.Vb(),d.Wb(123,"div",14),d.Wb(124,"div",19),d.Wb(125,"mat-form-field"),d.Wb(126,"input",20),d.fc("ngModelChange",(function(t){return e.movementBill=t}))("ngModelChange",(function(){return e.calculateaux1()}))("click",(function(t){return t.target.select()})),d.Vb(),d.Vb(),d.Vb(),d.Wb(127,"div",19),d.Wb(128,"mat-form-field"),d.Wb(129,"input",21),d.fc("ngModelChange",(function(t){return e.movementCoin=t}))("ngModelChange",(function(){return e.calculateaux2()}))("click",(function(t){return t.target.select()})),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(130,"mat-form-field",22),d.Wb(131,"input",23),d.fc("ngModelChange",(function(t){return e.movementTrans=t}))("ngModelChange",(function(){return e.calculateBalance()})),d.Vb(),d.Vb(),d.Wb(132,"button",10),d.fc("click",(function(){return e.closeDialog()})),d.Mc(133,"Volver"),d.Vb(),d.Wb(134,"button",10),d.fc("click",(function(){return e.closeBox()})),d.Mc(135,"Cerrar Caja"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Db(13),d.qc("value",e.movementType),d.Db(6),d.qc("options",d.tc(95,V))("ngModel",e.movementMoney),d.Db(2),d.qc("ngModel",e.movementNotes),d.Db(1),d.qc("hidden",!e.flag.flag),d.Db(4),d.qc("disabled",!(e.movementMoney>0&&e.movementNotes.length>0)||e.buttonoff),d.Db(10),d.Oc("Tienda: ",e.nombreTienda,""),d.Db(4),d.Oc("Caja: ",e.nombreCaja,""),d.Db(4),d.Oc("Cajero: ",e.closeboxinfo.cajero.replace("null"," "),""),d.Db(4),d.Oc("Fecha apertura: ",d.mc(49,32,e.closeboxinfo.starting_DATE,"dd/MM/yyyy H:mm"),""),d.Db(3),d.qc("hidden",!0),d.Db(19),d.Oc(" ",d.nc(71,35,e.efectivo,"USD","symbol","1.0"),""),d.Db(3),d.Oc(" ",d.nc(74,40,e.devoluciones,"USD","symbol","1.0")," "),d.Db(3),d.Oc(" ",d.nc(77,45,e.efectivo-e.devoluciones,"USD","symbol","1.0")," "),d.Db(7),d.Oc(" ",d.nc(84,50,e.tarjDeb,"USD","symbol","1.0"),""),d.Db(3),d.Oc(" ",d.nc(87,55,e.devolucionesDebt,"USD","symbol","1.0")," "),d.Db(3),d.Oc(" ",d.nc(90,60,e.tarjDeb-e.devolucionesDebt,"USD","symbol","1.0")," "),d.Db(7),d.Oc(" ",d.nc(97,65,e.tarjCred,"USD","symbol","1.0"),""),d.Db(3),d.Oc(" ",d.nc(100,70,e.devolucionesCred,"USD","symbol","1.0")," "),d.Db(3),d.Oc(" ",d.nc(103,75,e.tarjCred-e.devolucionesCred,"USD","symbol","1.0")," "),d.Db(8),d.Nc(d.nc(111,80,e.tarjCred+e.tarjDeb+e.efectivo,"USD","symbol","1.0")),d.Db(5),d.Nc(d.nc(116,85,e.devoluciones+e.devolucionesDebt+e.devolucionesCred,"USD","symbol","1.0")),d.Db(5),d.Nc(d.nc(121,90,e.tarjCred+e.tarjDeb+e.efectivo-(e.devoluciones+e.devolucionesDebt+e.devolucionesCred),"USD","symbol","1.0")),d.Db(6),d.qc("options",d.tc(96,V))("ngModel",e.movementBill),d.Db(3),d.qc("options",d.tc(97,V))("ngModel",e.movementCoin),d.Db(1),d.qc("hidden",!0),d.Db(1),d.qc("options",d.tc(98,V))("ngModel",e.movementTrans),d.Db(1),d.qc("hidden",!e.flag.flag),d.Db(2),d.qc("hidden",e.boxDisabled))},directives:[b.a,b.f,b.m,b.d,u.c,u.a,y.b,y.f,p.a,C.p,m.b,x.c,D.a,x.r,x.u,g.b],pipes:[h.f,h.d],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:800}mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.example-card[_ngcontent-%COMP%]{margin:15px}.img-table[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.row[_ngcontent-%COMP%]{padding-top:25px}.card2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.card2[_ngcontent-%COMP%]{width:100%;margin-top:5px;margin-bottom:5px}.img-card[_ngcontent-%COMP%]{width:100%;height:200px;border-top-left-radius:2px;border-top-right-radius:2px;display:block;overflow:hidden}.img-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;-o-object-fit:cover;object-fit:cover;transition:all .25s ease}.card2-content[_ngcontent-%COMP%]{padding:15px;text-align:left}.card2-title[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:1.65em}.card2-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important}.card2-read-more[_ngcontent-%COMP%]{border-top:1px solid #d4d4d4}.card2-read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;padding:5px;font-weight:600;text-transform:uppercase}"]}),t})()},sPm0:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var o=i("hwtd"),r=i("fXoL"),a=i("LcAk"),n=i("MSSf"),s=i("Xlwt"),c=i("fDUG"),l=i("ofXK");function d(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"td"),r.Mc(2),r.Vb(),r.Wb(3,"td"),r.Mc(4),r.Vb(),r.Wb(5,"td"),r.Mc(6),r.Vb(),r.Wb(7,"td"),r.Mc(8),r.kc(9,"currency"),r.Vb(),r.Vb()),2&t){const t=e.$implicit;r.Db(2),r.Nc(t.movement_DATE),r.Db(2),r.Nc("D"===t.naturaleza?"D\xe9bito":"Cr\xe9dito"),r.Db(2),r.Nc(t.notes),r.Db(2),r.Nc(r.lc(9,4,t.valor))}}let h=(()=>{class t{constructor(t,e){this.dialogRef=t,this.billingService=e}ngOnInit(){this.openMovementDetailModal()}closeDialog(){this.dialogRef.close()}openMovementDetailModal(){this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe(t=>{this.billingService.getDetailsById(t[0]).subscribe(t=>{Object(o.a)(t,"los detallitos"),this.myDetails=t})})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a.h),r.Qb(c.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-view-details-box"]],decls:18,vars:1,consts:[[2,"height","100%","width","100%","padding","0","max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","25px"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(r.Wb(0,"mat-card",0),r.Wb(1,"mat-card-header",1),r.Wb(2,"mat-card-title",2),r.Mc(3," Movimientos de Caja "),r.Vb(),r.Vb(),r.Wb(4,"mat-card-content",3),r.Wb(5,"table",4),r.Wb(6,"tr"),r.Wb(7,"th"),r.Mc(8,"Fecha"),r.Vb(),r.Wb(9,"th"),r.Mc(10,"Tipo"),r.Vb(),r.Wb(11,"th"),r.Mc(12,"Notas"),r.Vb(),r.Wb(13,"th"),r.Mc(14,"Valor"),r.Vb(),r.Vb(),r.Kc(15,d,10,6,"tr",5),r.Vb(),r.Wb(16,"button",6),r.fc("click",(function(){return e.closeDialog()})),r.Mc(17,"Volver"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(15),r.qc("ngForOf",e.myDetails))},directives:[n.a,n.f,n.m,n.d,l.s,s.b],pipes:[l.d],styles:[""]}),t})()},xeFw:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));class o{constructor(t,e,i,o,r,a){}}}}]);