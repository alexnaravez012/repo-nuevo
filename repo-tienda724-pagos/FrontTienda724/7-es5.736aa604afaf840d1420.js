function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(s){o=!0,r=s}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,r=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){a=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0+LS":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("LcAk"),o=i("fXoL"),r=i("Dcmo"),a=i("Xlwt"),c=i("ofXK");function s(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div",5),o.Wb(1,"div",6),o.Wb(2,"button",7),o.fc("click",(function(){return o.Bc(i),o.jc().close(!0)})),o.Mc(3,"Continuar con caja abierta"),o.Vb(),o.Vb(),o.Wb(4,"div",6),o.Wb(5,"button",7),o.fc("click",(function(){return o.Bc(i),o.jc().close(!1)})),o.Mc(6,"Cerrar la caja"),o.Vb(),o.Vb(),o.Vb()}}function l(t,e){if(1&t){var i=o.Xb();o.Wb(0,"div"),o.Wb(1,"div",8),o.Wb(2,"button",9),o.fc("click",(function(){return o.Bc(i),o.jc().close(!0)})),o.Mc(3,"Continuar con caja abierta"),o.Vb(),o.Vb(),o.Wb(4,"div",8),o.Wb(5,"button",9),o.fc("click",(function(){return o.Bc(i),o.jc().close(!1)})),o.Mc(6,"Cerrar la caja"),o.Vb(),o.Vb(),o.Vb()}}var u=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.locStorage=e,this.dialogRef=i,this.dialog=n,this.data=o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(t){this.dialogRef.close(t)}},{key:"isMobile",value:function(){return!(window.innerWidth>991)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.a),o.Qb(n.h),o.Qb(n.b),o.Qb(n.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-openorclosebox"]],decls:8,vars:4,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],["class","row","style","text-align: center; margin-top: 20px;margin-bottom: 20px;margin-left: unset;margin-right: unset",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center","margin-top","20px","margin-bottom","20px","margin-left","unset","margin-right","unset"],[1,"col-6"],["mat-stroked-button","","color","primary","type","button",3,"click"],[1,"DivMobile"],["mat-stroked-button","","color","primary","type","button",1,"Boton",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"h4",2),o.Mc(3,"Abrir caja"),o.Vb(),o.Wb(4,"p",2),o.Mc(5),o.Vb(),o.Vb(),o.Kc(6,s,7,0,"div",3),o.Kc(7,l,7,0,"div",4),o.Vb()),2&t&&(o.Db(5),o.Pc("Usted tiene la caja ",e.data.answering[0].caja," de la tienda ",e.data.answering[0].tienda," abierta, desea continuar en esta o cerrarla y abrir otra?."),o.Db(1),o.qc("ngIf",!e.isMobile()),o.Db(1),o.qc("ngIf",e.isMobile()))},directives:[c.t,a.b],styles:[".DivMobile[_ngcontent-%COMP%]{height:10vw;display:flex}.Boton[_ngcontent-%COMP%]{margin:auto}"]}),t}()},"5kjY":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n,o,r,a,c){_classCallCheck(this,t)}},EHX2:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n=i("hwtd"),o=i("LcAk"),r=i("MkNp"),a=i("EVdn"),c=(i("uejM"),i("fXoL")),s=i("Dcmo"),l=i("MSSf"),u=i("A2Vd"),d=i("Xlwt"),b=i("tk/3"),h=i("ofXK"),f=i("IRfi"),p=i("3Pt+"),m=i("TT0I"),g=["nameref"];function v(t,e){1&t&&(c.Wb(0,"div",5),c.Wb(1,"h5"),c.Mc(2,"Estado: "),c.Vb(),c.Mc(3,"Abierta "),c.Vb())}function _(t,e){1&t&&(c.Wb(0,"div",5),c.Wb(1,"h5"),c.Mc(2,"Estado: "),c.Vb(),c.Mc(3,"En Camino "),c.Vb())}function y(t,e){1&t&&(c.Wb(0,"div",5),c.Wb(1,"h5"),c.Mc(2,"Estado: "),c.Vb(),c.Mc(3,"Cerrada "),c.Vb())}function S(t,e){if(1&t){var i=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td",20),c.fc("click",(function(){c.Bc(i);var t=e.$implicit;return c.jc().PDF(t)})),c.Mc(2),c.Vb(),c.Wb(3,"td"),c.Mc(4),c.Vb(),c.Wb(5,"td"),c.Mc(6),c.kc(7,"currency"),c.Vb(),c.Vb()}if(2&t){var n=e.$implicit;c.Db(2),c.Nc(n.numfactura),c.Db(2),c.Nc(n.numpedido),c.Db(2),c.Nc(c.nc(7,3,n.totalprice,"USD","symbol","1.0"))}}function C(t,e){if(1&t){var i=c.Xb();c.Wb(0,"button",21),c.fc("click",(function(){return c.Bc(i),c.jc().cerrarPlanilla()})),c.Mc(1,"Cerrar Planilla"),c.Vb()}if(2&t){var n=c.jc();c.qc("disabled",n.obs.length<=0)}}function x(t,e){if(1&t){var i=c.Xb();c.Wb(0,"button",19),c.fc("click",(function(){return c.Bc(i),c.jc().cerrarPlanilla()})),c.Mc(1,"Cerrar Planilla"),c.Vb()}}var D=function(){return{precision:0,allowNegative:!1}},V=a,w=function(){var t=function(){function t(e,i,n,o,r){_classCallCheck(this,t),this.locStorage=e,this.dialogRef=i,this.dialog=n,this.httpClient=o,this.data=r,this.obs="",this.billetes=0,this.monedas=0,this.totalOtros=0,this.total=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout((function(){t.elementRef.nativeElement.focus(),t.elementRef.nativeElement.select()}),100),this.SelectedBillState=this.data.myStateId,this.httpClient.get(r.a.facturacion+"/pedidos/getDatosPlanilla?id_planilla="+this.data.idPlanilla).subscribe((function(e){Object(n.a)(e),t.planillaDetails=e,e.forEach((function(e){t.total+=e.totalprice}))}))}},{key:"PDF",value:function(t){this.httpClient.get(r.a.facturacion+"/billing/UniversalPDF?id_bill="+t.id_BILL+"&pdf=-1&cash=0&size="+!1,{responseType:"text"}).subscribe((function(t){window.open(r.a.facturas+"/"+t,"_blank")}))}},{key:"cerrarPlanilla",value:function(){var t=this;this.httpClient.post(r.a.facturacion+"/pedidos/cerrarPlanilla?IDPLANILLA="+this.data.idPlanilla+"&NOTAS="+this.obs+"&valorbilletes="+this.billetes+"&valormonedas="+this.monedas+"&ESTADOORIGENPROV="+this.SelectedBillState+"&IDTHIRDUSER="+this.locStorage.getToken().id_third+"&ACTOR=P&valorotros="+this.totalOtros,{}).subscribe((function(e){Object(n.a)(e),1==e?(t.showNotification("top","center",3,"<h3>Planilla cerrada.</h3> ","info"),t.dialogRef.close({type:1})):t.showNotification("top","center",3,"<h3>Se presento un problema al cerrar la planilla</h3> ","danger")}))}},{key:"cerrarPlanillaNovedad",value:function(){var t=this;this.httpClient.post(r.a.facturacion+"/pedidos/cerrarPlanillaNovedad?IDPLANILLA="+this.data.idPlanilla+"&NOTAS="+this.obs+"&ESTADOORIGENPROV="+this.SelectedBillState+"&IDTHIRDUSER="+this.locStorage.getToken().id_third+"&ACTOR=P",{}).subscribe((function(e){Object(n.a)(e),1==e?(t.showNotification("top","center",3,"<h3>Planilla cerrada con novedad.</h3> ","info"),t.dialogRef.close({type:2})):t.showNotification("top","center",3,"<h3>Se presento un problema al cerrar la planilla</h3> ","danger")}))}},{key:"showNotification",value:function(t,e,i,n,o){Math.floor(4*Math.random()+1),V.notify({icon:"notifications",message:n||"<b>Noficaci\xf3n automatica </b>"},{type:o||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.a),c.Qb(o.h),c.Qb(o.b),c.Qb(b.b),c.Qb(o.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-pedidos-domicilios-cerrar-planillas"]],viewQuery:function(t,e){var i;1&t&&c.Tc(g,!0),2&t&&c.xc(i=c.gc())&&(e.elementRef=i.first)},decls:68,vars:25,consts:[[2,"height","100%","width","100%","padding","0"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"display","flex"],[2,"box-shadow","0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 3px 14px 2px rgba(0, 0, 0, 0.12)","padding-top","5px","width","100%","display","flex"],[2,"margin","0 auto","padding","0 5px"],["style","margin: 0 auto;padding: 0 5px",4,"ngIf"],[1,"card-content","table-responsive"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"margin","0 auto","padding","0 5px","text-align","center"],[1,"text-center",2,"text-align","center"],[2,"width","100%","font-size","medium","padding-right","20px"],["matInput","","type","text",3,"ngModel","ngModelChange"],[2,"width","30%","font-size","medium","padding-right","20px"],["currencyMask","","matInput","","type","text","step","1","id","readerQuantity","min","1",3,"options","ngModel","click","ngModelChange"],["nameref",""],["style","margin-right: 10px; width: 45%","mat-stroked-button","","type","button","color","blue",3,"disabled","click",4,"ngIf"],["style","margin-right: 10px; width: 45%","mat-stroked-button","","type","button","color","blue",3,"click",4,"ngIf"],["mat-stroked-button","","type","button","color","blue",2,"margin-right","10px","width","45%",3,"click"],[2,"color","blueviolet",3,"click"],["mat-stroked-button","","type","button","color","blue",2,"margin-right","10px","width","45%",3,"disabled","click"]],template:function(t,e){1&t&&(c.Wb(0,"div"),c.Wb(1,"mat-card",0),c.Wb(2,"mat-card-header",1),c.Wb(3,"mat-card-title",2),c.Mc(4,"Planilla"),c.Vb(),c.Vb(),c.Vb(),c.Wb(5,"mat-card"),c.Wb(6,"div"),c.Wb(7,"div",3),c.Wb(8,"div",4),c.Wb(9,"div",5),c.Wb(10,"h5"),c.Mc(11,"Fecha Inicio Planilla: "),c.Vb(),c.Mc(12),c.Vb(),c.Wb(13,"div",5),c.Wb(14,"h5"),c.Mc(15,"Domiciliario: "),c.Vb(),c.Mc(16),c.Vb(),c.Wb(17,"div",5),c.Wb(18,"h5"),c.Mc(19,"Numero Planilla: "),c.Vb(),c.Mc(20),c.Vb(),c.Kc(21,v,4,0,"div",6),c.Kc(22,_,4,0,"div",6),c.Kc(23,y,4,0,"div",6),c.Vb(),c.Vb(),c.Rb(24,"br"),c.Wb(25,"div",3),c.Wb(26,"div",7),c.Wb(27,"table",8),c.Wb(28,"tr"),c.Wb(29,"th"),c.Mc(30,"Numero de Factura"),c.Vb(),c.Wb(31,"th"),c.Mc(32,"Numero de Pedido"),c.Vb(),c.Wb(33,"th"),c.Mc(34,"Total Precio"),c.Vb(),c.Vb(),c.Kc(35,S,8,8,"tr",9),c.Vb(),c.Vb(),c.Vb(),c.Rb(36,"br"),c.Wb(37,"div",3),c.Wb(38,"div",4),c.Wb(39,"div",10),c.Wb(40,"h5"),c.Mc(41,"Total: "),c.Vb(),c.Mc(42),c.kc(43,"currency"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Rb(44,"hr"),c.Wb(45,"div",11),c.Wb(46,"mat-form-field",12),c.Wb(47,"mat-label"),c.Mc(48,"Observaciones"),c.Vb(),c.Wb(49,"input",13),c.fc("ngModelChange",(function(t){return e.obs=t})),c.Vb(),c.Vb(),c.Wb(50,"mat-form-field",14),c.Wb(51,"mat-label"),c.Mc(52,"Monedas"),c.Vb(),c.Wb(53,"input",15,16),c.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.monedas=t})),c.Vb(),c.Vb(),c.Wb(55,"mat-form-field",14),c.Wb(56,"mat-label"),c.Mc(57,"Billetes"),c.Vb(),c.Wb(58,"input",15),c.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.billetes=t})),c.Vb(),c.Vb(),c.Wb(59,"mat-form-field",14),c.Wb(60,"mat-label"),c.Mc(61,"Otros"),c.Vb(),c.Wb(62,"input",15),c.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.totalOtros=t})),c.Vb(),c.Vb(),c.Vb(),c.Wb(63,"div",11),c.Kc(64,C,2,1,"button",17),c.Kc(65,x,2,0,"button",18),c.Wb(66,"button",19),c.fc("click",(function(){return e.cerrarPlanillaNovedad()})),c.Mc(67,"Cerrar Planilla Con Novedad"),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Db(12),c.Oc("",e.planillaDetails[0].fecha_INICIO," "),c.Db(4),c.Oc("",e.planillaDetails[0].domiciliario," "),c.Db(4),c.Oc("",e.planillaDetails[0].numplanilla," "),c.Db(1),c.qc("ngIf","O"==e.planillaDetails[0].status),c.Db(1),c.qc("ngIf","R"==e.planillaDetails[0].status),c.Db(1),c.qc("ngIf","O"!=e.planillaDetails[0].status&&"R"!=e.planillaDetails[0].status),c.Db(12),c.qc("ngForOf",e.planillaDetails),c.Db(7),c.Oc("",c.nc(43,17,e.total,"USD","symbol","1.0")," "),c.Db(7),c.qc("ngModel",e.obs),c.Db(4),c.qc("options",c.tc(22,D))("ngModel",e.monedas),c.Db(5),c.qc("options",c.tc(23,D))("ngModel",e.billetes),c.Db(4),c.qc("options",c.tc(24,D))("ngModel",e.totalOtros),c.Db(2),c.qc("ngIf",e.data.blockedObs),c.Db(1),c.qc("ngIf",!e.data.blockedObs))},directives:[l.a,l.f,l.m,h.t,h.s,f.b,f.f,u.b,p.c,p.r,p.u,m.a,d.b],pipes:[h.d],styles:[""]}),t}()},EY4h:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("hwtd"),o=i("tk/3"),r=i("MkNp"),a=i("Cfvw"),c=i("fXoL"),s=i("Dcmo"),l=function(){var t=function(){function t(e,i){var c=this;_classCallCheck(this,t),this.http=e,this.locStorage=i,this.api_uri_inv=r.a.tienda+"/inventories",this.api_uri_inv_det=r.a.tienda+"/inventories-details",this.api_uri_inv_det_spl=r.a.tienda+"inventories-details/simple",this.headers=new o.d({"Content-Type":"application/json"}),this.getInventoriesList=function(t,e,i,n,r,s,l){var u=new o.e,d=[];d.push(["id_inventory",e?""+e:null]),d.push(["id_third",i?""+i:null]),d.push(["id_common_inventory",n?""+n:null]),d.push(["name_inventory",r?""+r:null]),d.push(["description_inventory",s?""+s:null]),d.push(["id_state_inventory",l?""+l:null]),d.push(["state_inventory",t?""+t:null]);for(var b=0;b<d.length;b++)null!=d[b][1]&&(u=u.append(d[b][0],d[b][1]));c.options.params=u;var h=new Promise((function(t,e){c.http.get(c.api_uri_inv,c.options).subscribe((function(e){t(e)}),(function(t){c.handleError(t),e(t)}))}));return Object(a.a)(h)},this.getInventoriesParamters=function(t,e){var i=new o.e,n=[];n.push(["id_inventory",t?""+t:null]),n.push(["id_third",e?""+e:null]);for(var r=0;r<n.length;r++)null!=n[r][1]&&(i=i.append(n[r][0],n[r][1]));c.options.params=i;var s=new Promise((function(t,e){c.http.get(c.api_uri_inv+"/parameters",c.options).subscribe((function(e){t(e)}),(function(t){c.handleError(t),e(t)}))}));return Object(a.a)(s)},this.postInventory=function(t){for(var e=new o.e,i=[],n=0;n<i.length;n++)null!=i[n][1]&&(e=e.append(i[n][0],i[n][1]));c.options.params=e;var r=new Promise((function(e,i){c.http.post(c.api_uri_inv,t,c.options).subscribe((function(t){e(t)}),(function(t){c.handleError(t),i(null)}))}));return Object(a.a)(r)},this.putInventory=function(t,e){var i=new Promise((function(i,n){c.http.put(c.api_uri_inv+"/"+t,e,{headers:c.headers}).subscribe((function(t){i(!0)}),(function(t){c.handleError(t),n(!1)}))}));return Object(a.a)(i)},this.getInventory=function(t){var e=new Promise((function(e,i){console.log(r.a.tienda+"/products2/inventoryListActivos?id_store="+t),c.http.get(r.a.tienda+"/products2/inventoryListActivos?id_store="+t,{headers:c.headers}).subscribe((function(t){e(t)}),(function(t){c.handleError(t),i(t)}))}));return Object(a.a)(e)},this.deleteInventory=function(t){var e=new Promise((function(e,i){c.http.delete(c.api_uri_inv+"/"+t,c.options).subscribe((function(t){e(!0)}),(function(t){c.handleError(t),i(!1)}))}));return Object(a.a)(e)},this.getInventoriesDetailSimpleList=function(t,e,i,n,r,s,l,u){var d=new o.e,b=[];b.push(["id_inventory_detail",e?""+e:null]),b.push(["id_inventory",i?""+i:null]),b.push(["id_product_third",n?""+n:null]),b.push(["quantity",r?""+r:null]),b.push(["code",s?""+s:null]),b.push(["id_state_inv_detail",u?""+u:null]),b.push(["state_inv_detail",t?""+t:null]);for(var h=0;h<b.length;h++)null!=b[h][1]&&(d=d.append(b[h][0],b[h][1]));c.options.params=d;var f=new Promise((function(t,e){c.http.get(c.api_uri_inv_det_spl,c.options).subscribe((function(e){t(e)}),(function(t){c.handleError(t),e(t)}))}));return Object(a.a)(f)},this.getInventoriesDetailList=function(t,e,i,n,r,s,l,u,d,b,h,f,p,m,g,v,_,y,S,C,x,D,V,w,j,O,W,M,T,k,I,E,P,R,N){var B=new o.e,A=[];A.push(["state_inv_detail",t?""+t:null]),A.push(["id_inventory_detail",i?""+i:null]),A.push(["id_inventory",n?""+n:null]),A.push(["quantity",r?""+r:null]),A.push(["id_state_inv_detail",s?""+s:null]),A.push(["id_product",l?""+l:null]),A.push(["id_category",u?""+u:null]),A.push(["stock",d?""+d:null]),A.push(["stock_min",b?""+b:null]),A.push(["img_url",h?""+h:null]),A.push(["id_tax",f?""+f:null]),A.push(["id_common_product",p?""+p:null]),A.push(["name_product",m?""+m:null]),A.push(["description_product",g?""+g:null]),A.push(["id_state_product",v?""+v:null]),A.push(["state_product",e?""+e:null]),A.push(["id_product_third",_?""+_:null]),A.push(["id_third",S?""+S:null]),A.push(["id_category_third",C?""+C:null]),A.push(["location",y?""+y:null]),A.push(["id_state_prod_third",x?""+x:null]),A.push(["state_prod_third",D?""+D:null]),A.push(["id_measure_unit",V?""+V:null]),A.push(["id_measure_unit_father",w?""+w:null]),A.push(["id_common_measure_unit",j?""+j:null]),A.push(["name_measure_unit",O?""+O:null]),A.push(["description_measure_unit",W?""+W:null]),A.push(["id_state_measure_unit",M?""+M:null]),A.push(["state_measure_unit",T?""+T:null]),A.push(["id_code",k?""+k:null]),A.push(["code",I?""+I:null]),A.push(["id_attribute_list",P?""+P:null]),A.push(["id_state_cod",R?""+R:null]),A.push(["state_cod",N?""+N:null]);for(var F=0;F<A.length;F++)null!=A[F][1]&&(B=B.append(A[F][0],A[F][1]));c.options.params=B;var q=new Promise((function(t,e){c.http.get(c.api_uri_inv_det,c.options).subscribe((function(e){t(e)}),(function(t){c.handleError(t),e(t)}))}));return Object(a.a)(q)},this.postInventoryDetail=function(t,e){var i=new o.e;null!=(t?""+t:null)&&(i=i.append("id_inventory",t?""+t:null)),c.options.params=i;var n=new Promise((function(t,i){c.http.post(c.api_uri_inv_det,e,c.options).subscribe((function(e){t(!0)}),(function(t){c.handleError(t),i(!1)}))}));return Object(a.a)(n)},this.postInventoriesDetailListFilters=function(t,e,i){var n=new o.e;null!=(e?""+e:null)&&(n=n.append("id_inventory",e?""+e:null)),null!=(t?""+t:null)&&(n=n.append("id_third",t?""+t:null)),c.options.params=n;var r=new Promise((function(t,e){c.http.post(c.api_uri_inv+"/filters",i,c.options).subscribe((function(e){t(e)}),(function(t){c.handleError(t),e(t)}))}));return Object(a.a)(r)},this.putInventoryDetail=function(t,e){var i=new Promise((function(i,n){c.http.put(c.api_uri_inv_det+"/"+t,e,{headers:c.headers}).subscribe((function(t){i(!0)}),(function(t){c.handleError(t),n(!1)}))}));return Object(a.a)(i)},this.deleteInventoryDetail=function(t,e){var i=new o.e;null!=(e?""+e:null)&&(i=i.append("id_inventory",e?""+e:null)),c.options.params=i;var n=new Promise((function(e,i){c.http.delete(c.api_uri_inv_det+"/"+t,c.options).subscribe((function(t){e(!0)}),(function(t){c.handleError(t),i(!1)}))}));return Object(a.a)(n)},this.putPlusInventory=function(t,e){var i=new Promise((function(i,n){c.http.put(c.api_uri_inv+"/plus/"+t,e,{headers:c.headers}).subscribe((function(t){i(!0)}),(function(t){c.handleError(t),n(!1)}))}));return Object(a.a)(i)},this.putQuantity=function(t,e,i,s,l,u){if(1==l){var d=new Promise((function(a,l){var u=new o.e;u=(u=(u=u.append("quantity",e+"")).append("id_store",t+"")).append("code",i+""),Object(n.a)("putQuantity body es "+s),c.http.put(r.a.facturacion+"/billing-state/quantity",s,{params:u,responseType:"text"}).subscribe((function(t){a(!0)}),(function(t){c.handleError(t),l(!1)}))}));return Object(a.a)(d)}var b=new Promise((function(n,a){var l=new o.e;l=(l=(l=(l=l.append("quantity",e+"")).append("id_store",t+"")).append("code",i+"")).append("id_storage",u+""),c.http.put(r.a.facturacion+"/billing-state/quantity",s,{params:l,responseType:"text"}).subscribe((function(t){n(!0)}),(function(t){c.handleError(t),a(!1)}))}));return Object(a.a)(b)},this.putDiscountInventory=function(t,e){var i=new Promise((function(i,n){c.http.put(c.api_uri_inv+"/discount/"+t,e,{headers:c.headers}).subscribe((function(t){i(!0)}),(function(t){c.handleError(t),n(!1)}))}));return Object(a.a)(i)},this.headers=new o.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),localStorage.getItem("currentUser"),this.options={headers:this.headers}}return _createClass(t,[{key:"handleError",value:function(t){var e;if(t instanceof Response){var i=t.json()||"",n=i.error||JSON.stringify(i);e="".concat(t.status," - ").concat(t.statusText||""," ").concat(n)}else e=t.message?t.message:t.toString();return"true"!=localStorage.getItem("SesionExpirada")&&alert(e),null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(o.b),c.bc(s.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},HErj:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("fXoL"),o=i("LcAk"),r=i("MSSf"),a=i("A2Vd"),c=i("Xlwt"),s=i("IRfi"),l=i("3Pt+"),u=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialogRef=e,this.movementNotas=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.movementNotas=""}},{key:"addNotes",value:function(){this.dialogRef.close(this.movementNotas)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Qb(o.h))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-add-notes-close-box"]],decls:14,vars:1,consts:[[2,"max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"font-size","0.8em","font-weight","300","text-emphasis","left","color","white","margin-bottom","0px"],[1,"row",2,"padding","20px"],[1,"col"],[2,"width","100%"],["matInput","","type","text","placeholder","Notas","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"mat-card-header",1),n.Wb(2,"mat-card-title",2),n.Mc(3," Agregue las notas correspondientes a su Cierre de caja"),n.Vb(),n.Wb(4,"mat-card-subtitle",3),n.Mc(5," Por favor agregue notas en su cierre de caja si las tuviera."),n.Vb(),n.Vb(),n.Wb(6,"mat-card-content"),n.Wb(7,"div",4),n.Wb(8,"div",5),n.Wb(9,"mat-form-field",6),n.Wb(10,"input",7),n.fc("ngModelChange",(function(t){return e.movementNotas=t})),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"div",5),n.Wb(12,"button",8),n.fc("click",(function(){return e.addNotes()})),n.Mc(13,"Cerrar Caja"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&t&&(n.Db(10),n.qc("ngModel",e.movementNotas))},directives:[r.f,r.m,r.l,r.d,s.b,a.b,l.c,l.r,l.u,c.b],styles:[""]}),t}()},OAIB:function(t,e,i){"use strict";i.r(e),i.d(e,"Tienda724Module",(function(){return Pt}));var n=i("ofXK"),o=i("tyNb"),r=i("3Pt+"),a=(i("yLV6"),i("dm21")),c=i("j1ZV"),s=i("hwtd"),l=function t(e,i,n,o){_classCallCheck(this,t)},u=i("j9Ql"),d=function t(e,i,n){_classCallCheck(this,t)},b=i("EOfQ"),h=i("fXoL"),f=i("Dcmo"),p=i("ej43"),m=i("C8/p"),g=i("OL1i"),v=i("mrSG"),_=i("QzhR"),y=i("0+LS"),S=i("cUZ2"),C=i("pQyV"),x=i("tk/3"),D=i("EVdn"),V=(i("uejM"),i("MkNp")),w=i("EY4h"),j=i("ktqI"),O=i("uuDO"),W=i("LcAk"),M=i("MSSf"),T=i("2+6u"),k=i("dCan"),I=i("kEI4"),E=i("TY1r"),P=i("Xlwt"),R=i("fDUG"),N=i("clUF"),B=i("Xsy6"),A=i("IRfi"),F=i("j14s"),q=["ContenedorMatCard"],L=["ContenedorHeader"];function U(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div",17),h.fc("click",(function(){return h.Bc(i),h.jc(2).openFile()})),h.Rb(1,"img",18),h.Wb(2,"input",19),h.fc("change",(function(t){return h.Bc(i),h.jc(2).setFileImage(t)})),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(1),h.qc("src",n.imgurl,h.Dc)}}function z(t,e){if(1&t&&(h.Wb(0,"div"),h.Rb(1,"img",18),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.qc("src",i.imgurl,h.Dc)}}function Q(t,e){if(1&t&&(h.Wb(0,"mat-card-title",20),h.Mc(1),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.Oc(" ",null!=i.thirdFather&&i.thirdFather.info.fullname?null==i.thirdFather?null:i.thirdFather.info.fullname:"Tienda 724","")}}function K(t,e){if(1&t&&(h.Wb(0,"mat-card-title",21),h.Mc(1),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.Oc(" ",i.storeName,"")}}function X(t,e){if(1&t&&(h.Wb(0,"mat-option",25),h.Mc(1),h.Vb()),2&t){var i=e.$implicit;h.qc("value",i.id_STORE),h.Db(1),h.Oc(" ",i.store_NAME," ")}}function H(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-form-field",22),h.Wb(1,"mat-label"),h.Mc(2,"Seleccione tienda"),h.Vb(),h.Wb(3,"mat-select",23),h.fc("ngModelChange",(function(t){return h.Bc(i),h.jc(2).SelectedStore=t}))("selectionChange",(function(){return h.Bc(i),h.jc(2).setIdStore()})),h.Kc(4,X,2,2,"mat-option",24),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(3),h.qc("ngModel",n.SelectedStore),h.Db(1),h.qc("ngForOf",n.Stores)}}function J(t,e){if(1&t&&(h.Wb(0,"p",30),h.Mc(1),h.Vb()),2&t){var i=e.$implicit,n=h.jc(3);h.Db(1),h.Nc(n.token.roles.length>1?i.rol+"/":i.rol)}}function G(t,e){if(1&t&&(h.Wb(0,"p",30),h.Mc(1),h.Vb()),2&t){var i=h.jc(3);h.Db(1),h.Pc("",null==i.person?null:i.person.info.type_document,": ",null==i.person?null:i.person.info.document_number,"")}}function $(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-expansion-panel",26),h.Wb(1,"mat-expansion-panel-header",27),h.Wb(2,"mat-panel-title",28),h.Mc(3),h.Vb(),h.Vb(),h.Wb(4,"mat-list"),h.Wb(5,"mat-list-item"),h.Wb(6,"mat-icon",29),h.Mc(7,"supervised_user_circle"),h.Vb(),h.Wb(8,"h4",30),h.Mc(9,"Sus roles son:"),h.Vb(),h.Kc(10,J,2,1,"p",31),h.Vb(),h.Wb(11,"mat-list-item"),h.Wb(12,"mat-icon",29),h.Mc(13,"assignment_ind"),h.Vb(),h.Wb(14,"h4",30),h.Mc(15,"Sus documento es:"),h.Vb(),h.Kc(16,G,2,2,"p",32),h.Wb(17,"p",30),h.Mc(18),h.Vb(),h.Vb(),h.Vb(),h.Wb(19,"mat-list",33),h.Wb(20,"mat-list-item",34),h.fc("click",(function(){return h.Bc(i),h.jc(2).logout()})),h.Wb(21,"mat-icon",29),h.Mc(22,"exit_to_app"),h.Vb(),h.Wb(23,"h4",35),h.Mc(24,"Cerrar Sesi\xf3n"),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(3),h.Pc(" ",null==n.person?null:n.person.first_name," ",null==n.person?null:n.person.first_lastname," "),h.Db(7),h.qc("ngForOf",n.token.roles),h.Db(6),h.qc("ngIf",n.person.info.type_document&&n.person.info.document_number),h.Db(2),h.Oc("Id de usuario: ",null==n.person?null:n.person.uuid.UUID,""),h.Db(2),h.qc("hidden",!n.locStorage.getOnline())}}function Y(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-list",33),h.Wb(1,"mat-list-item",36),h.fc("click",(function(){return h.Bc(i),h.jc(2).logout()})),h.Wb(2,"mat-icon",29),h.Mc(3,"exit_to_app"),h.Vb(),h.Vb(),h.Vb()}}function Z(t,e){if(1&t&&(h.Wb(0,"h4",42),h.Mc(1),h.Vb()),2&t){var i=h.jc().$implicit;h.Db(1),h.Nc(i.nombre)}}function tt(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-card",37),h.Wb(1,"mat-list",38),h.Wb(2,"mat-list-item",39),h.fc("click",(function(){h.Bc(i);var t=e.$implicit;return h.jc(2).gotoMenu(t)})),h.Wb(3,"mat-icon",40),h.Mc(4),h.Vb(),h.Kc(5,Z,2,1,"h4",41),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=e.$implicit,o=h.jc(2);h.Db(2),h.qc("hidden",!o.locStorage.getOnline())("ngClass",o.menuSeleccionado==n?"item_active":"item"),h.Db(2),h.Nc(n.icono),h.Db(1),h.qc("ngIf",!o.compressed)}}function et(t,e){if(1&t){var i=h.Xb();h.Wb(0,"button",47),h.fc("click",(function(){return h.Bc(i),h.jc(3).CambiarVista()})),h.Mc(1,"Panel de Control"),h.Vb()}}function it(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-card",43),h.Kc(1,et,2,0,"button",44),h.Wb(2,"div",45),h.fc("click",(function(){return h.Bc(i),h.jc(2).ComprimirSidebar()})),h.Wb(3,"mat-icon",46),h.Mc(4,"play_arrow"),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Jc("width",n.compressed?"75px":"17vw"),h.Db(1),h.qc("ngIf",!n.compressed),h.Db(1),h.Jc("margin",n.compressed?"auto":"unset"),h.Db(1),h.Jc("transform",n.compressed?"scale(1, 1)":"scale(-1, 1)")("margin-left",n.compressed?"-4px":"unset")}}function nt(t,e){if(1&t&&(h.Wb(0,"div",4),h.Wb(1,"div",5),h.Wb(2,"mat-card",6),h.Wb(3,"mat-card-content"),h.Kc(4,U,3,1,"div",7),h.Kc(5,z,2,1,"div",1),h.Kc(6,Q,2,1,"mat-card-title",8),h.Kc(7,K,2,1,"mat-card-title",9),h.Kc(8,H,5,2,"mat-form-field",10),h.Kc(9,$,25,6,"mat-expansion-panel",11),h.Kc(10,Y,4,0,"mat-list",12),h.Vb(),h.Vb(),h.Vb(),h.Wb(11,"div",13),h.Wb(12,"mat-card",14),h.Kc(13,tt,6,4,"mat-card",15),h.Vb(),h.Kc(14,it,5,9,"mat-card",16),h.Vb(),h.Vb()),2&t){var i=h.jc();h.Db(2),h.Jc("width",i.compressed?"75px":i.isMobileMenuNav()?"unset":"17vw"),h.Db(2),h.qc("ngIf",21==i.locStorage.getRol()[0].id_rol||23==i.locStorage.getRol()[0].id_rol),h.Db(1),h.qc("ngIf",!(21==i.locStorage.getRol()[0].id_rol||23==i.locStorage.getRol()[0].id_rol)),h.Db(1),h.qc("ngIf",!i.compressed),h.Db(1),h.qc("ngIf",!i.compressed&&8888==i.locStorage.getRol()[0].id_rol),h.Db(1),h.qc("ngIf",!i.compressed&&8888!=i.locStorage.getRol()[0].id_rol&&i.locStorage.getOnline()),h.Db(1),h.qc("ngIf",!i.compressed),h.Db(1),h.qc("ngIf",i.compressed),h.Db(1),h.Jc("width",i.isMobileMenuNav()?"100%":"17vw"),h.qc("ngClass",i.compressed?"UsarRestoEspacioColapsado":"UsarRestoEspacio"),h.Db(1),h.Jc("width",i.compressed?"75px":i.isMobileMenuNav()?"unset":"17vw")("height",i.isMobileMenuNav()?"100%":"calc(100% - 55px)"),h.Db(1),h.qc("ngForOf",i.menusLista),h.Db(1),h.qc("ngIf",!i.isMobileMenu())}}function ot(t,e){if(1&t){var i=h.Xb();h.Wb(0,"button",74),h.fc("click",(function(){return h.Bc(i),h.jc(2).ClickShowOptions()})),h.Wb(1,"mat-icon"),h.Mc(2,"keyboard_backspace"),h.Vb(),h.Mc(3," Mostrar Opciones"),h.Vb()}}function rt(t,e){if(1&t&&(h.Wb(0,"mat-card-title",75),h.Mc(1),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.Oc(" ",i.storeName,"")}}function at(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div",17),h.fc("click",(function(){return h.Bc(i),h.jc(2).openFile()})),h.Rb(1,"img",18),h.Wb(2,"input",19),h.fc("change",(function(t){return h.Bc(i),h.jc(2).setFileImage(t)})),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(1),h.qc("src",n.imgurl,h.Dc)}}function ct(t,e){if(1&t&&(h.Wb(0,"div"),h.Rb(1,"img",18),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.qc("src",i.imgurl,h.Dc)}}function st(t,e){if(1&t&&(h.Wb(0,"mat-option",25),h.Mc(1),h.Vb()),2&t){var i=e.$implicit;h.qc("value",i.id_STORE),h.Db(1),h.Oc(" ",i.store_NAME," ")}}function lt(t,e){if(1&t){var i=h.Xb();h.Wb(0,"mat-form-field",22),h.Wb(1,"mat-label"),h.Mc(2,"Seleccione tienda"),h.Vb(),h.Wb(3,"mat-select",23),h.fc("ngModelChange",(function(t){return h.Bc(i),h.jc(2).SelectedStore=t}))("selectionChange",(function(){return h.Bc(i),h.jc(2).setIdStore()})),h.Kc(4,st,2,2,"mat-option",24),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(3),h.qc("ngModel",n.SelectedStore),h.Db(1),h.qc("ngForOf",n.Stores)}}function ut(t,e){if(1&t&&(h.Wb(0,"p",30),h.Mc(1),h.Vb()),2&t){var i=e.$implicit,n=h.jc(2);h.Db(1),h.Nc(n.token.roles.length>1?i.rol+"/":i.rol)}}function dt(t,e){if(1&t&&(h.Wb(0,"p",30),h.Mc(1),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.Pc("",null==i.person?null:i.person.info.type_document,": ",null==i.person?null:i.person.info.document_number,"")}}var bt=function(t,e){return{item_active2:t,item2:e}};function ht(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div",76),h.fc("click",(function(){h.Bc(i);var t=e.$implicit;return h.jc(2).gotoMenu(t)})),h.Wb(1,"mat-card",77),h.Wb(2,"div",78),h.Wb(3,"mat-icon",79),h.Mc(4),h.Vb(),h.Vb(),h.Wb(5,"div",80),h.Wb(6,"mat-label",81),h.Mc(7),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=e.$implicit,o=h.jc(2);h.Jc("width",o.AnchoOpcionPanel,"px")("height",o.AltoOpcionPanel,"px"),h.Db(1),h.qc("ngClass",h.vc(7,bt,o.menuSeleccionado==n,o.menuSeleccionado!=n)),h.Db(3),h.Nc(n.icono),h.Db(3),h.Nc(n.nombre)}}function ft(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div"),h.Kc(1,ot,4,0,"button",48),h.Wb(2,"div",49),h.Wb(3,"mat-card",50),h.Wb(4,"mat-card-content",51),h.Wb(5,"div",52,53),h.Wb(7,"div",54),h.Wb(8,"div",55),h.Wb(9,"mat-card-title",56),h.Mc(10),h.Vb(),h.Kc(11,rt,2,1,"mat-card-title",57),h.Vb(),h.Wb(12,"mat-card",58),h.Kc(13,at,3,1,"div",7),h.Kc(14,ct,2,1,"div",1),h.Vb(),h.Wb(15,"mat-card",59),h.Kc(16,lt,5,2,"mat-form-field",10),h.Vb(),h.Vb(),h.Wb(17,"div",60),h.Wb(18,"mat-card",61),h.Wb(19,"div",62),h.Wb(20,"mat-card-title",63),h.Mc(21),h.Vb(),h.Vb(),h.Wb(22,"mat-list",64),h.Wb(23,"mat-list-item"),h.Wb(24,"mat-icon",29),h.Mc(25,"supervised_user_circle"),h.Vb(),h.Wb(26,"h4",30),h.Mc(27,"Sus roles son:"),h.Vb(),h.Kc(28,ut,2,1,"p",31),h.Vb(),h.Wb(29,"mat-list-item"),h.Wb(30,"mat-icon",29),h.Mc(31,"assignment_ind"),h.Vb(),h.Wb(32,"h4",30),h.Mc(33,"Sus documento es:"),h.Vb(),h.Kc(34,dt,2,2,"p",32),h.Wb(35,"p",30),h.Mc(36),h.Vb(),h.Vb(),h.Vb(),h.Wb(37,"mat-list",65),h.Wb(38,"mat-list-item",36),h.fc("click",(function(){return h.Bc(i),h.jc().logout()})),h.Wb(39,"mat-icon",29),h.Mc(40,"exit_to_app"),h.Vb(),h.Wb(41,"h4",35),h.Mc(42,"Cerrar Sesi\xf3n"),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Wb(43,"div",66),h.Wb(44,"mat-card-title",67),h.Mc(45,"Panel De Opciones"),h.Vb(),h.Wb(46,"mat-card-subtitle",68),h.Mc(47,"Seleccione el men\xfa que desea ver"),h.Vb(),h.Wb(48,"button",69),h.fc("click",(function(){return h.Bc(i),h.jc().CambiarVista()})),h.Mc(49,"Men\xfa"),h.Vb(),h.Wb(50,"button",70),h.fc("click",(function(){return h.Bc(i),h.jc().CerrarPanel()})),h.Mc(51,"Cerrar Panel"),h.Vb(),h.Vb(),h.Vb(),h.Wb(52,"div",71,72),h.Kc(54,ht,8,10,"div",73),h.Vb(),h.Vb(),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=h.jc();h.Db(1),h.qc("ngIf",n.locStorage.getOnline()),h.Db(1),h.qc("hidden",!n.MostrarPanel),h.Db(8),h.Oc(" ",null!=n.thirdFather&&n.thirdFather.info.fullname?null==n.thirdFather?null:n.thirdFather.info.fullname:"Tienda 724",""),h.Db(1),h.qc("ngIf",8888==n.locStorage.getRol()[0].id_rol),h.Db(2),h.qc("ngIf",21==n.locStorage.getRol()[0].id_rol||23==n.locStorage.getRol()[0].id_rol),h.Db(1),h.qc("ngIf",!(21==n.locStorage.getRol()[0].id_rol||23==n.locStorage.getRol()[0].id_rol)),h.Db(2),h.qc("ngIf",8888!=n.locStorage.getRol()[0].id_rol),h.Db(5),h.Pc("",null==n.person?null:n.person.first_name," ",null==n.person?null:n.person.first_lastname,""),h.Db(7),h.qc("ngForOf",n.token.roles),h.Db(6),h.qc("ngIf",n.person.info.type_document&&n.person.info.document_number),h.Db(2),h.Oc("Id de usuario: ",null==n.person?null:n.person.uuid.UUID,""),h.Db(18),h.qc("ngForOf",n.menusLista)}}function pt(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div",17),h.fc("click",(function(){return h.Bc(i),h.jc(2).openFile()})),h.Rb(1,"img",18),h.Wb(2,"input",19),h.fc("change",(function(t){return h.Bc(i),h.jc(2).setFileImage(t)})),h.Vb(),h.Vb()}if(2&t){var n=h.jc(2);h.Db(1),h.qc("src",n.imgurl,h.Dc)}}function mt(t,e){if(1&t&&(h.Wb(0,"div"),h.Rb(1,"img",18),h.Vb()),2&t){var i=h.jc(2);h.Db(1),h.qc("src",i.imgurl,h.Dc)}}function gt(t,e){if(1&t&&(h.Wb(0,"div",82),h.Wb(1,"div",83),h.Wb(2,"mat-card",84),h.Wb(3,"mat-card-content"),h.Kc(4,pt,3,1,"div",7),h.Kc(5,mt,2,1,"div",1),h.Vb(),h.Vb(),h.Wb(6,"div",85),h.Rb(7,"div",86),h.Rb(8,"div",86),h.Rb(9,"div",86),h.Rb(10,"div",86),h.Rb(11,"div",86),h.Rb(12,"div",86),h.Rb(13,"div",87),h.Vb(),h.Vb(),h.Vb()),2&t){var i=h.jc();h.Db(4),h.qc("ngIf",21==i.locStorage.getRol()[0].id_rol||23==i.locStorage.getRol()[0].id_rol),h.Db(1),h.qc("ngIf",!(21==i.locStorage.getRol()[0].id_rol||23==i.locStorage.getRol()[0].id_rol))}}function vt(t,e){if(1&t&&(h.Wb(0,"mat-option",25),h.Mc(1),h.Vb()),2&t){var i=e.$implicit;h.qc("value",i.id_STORE),h.Db(1),h.Oc(" ",i.store_NAME," ")}}function _t(t,e){if(1&t){var i=h.Xb();h.Wb(0,"div",88),h.Wb(1,"mat-card-title",89),h.Mc(2," Tienda Actual\n"),h.Vb(),h.Wb(3,"mat-form-field",90),h.Wb(4,"mat-select",23),h.fc("ngModelChange",(function(t){return h.Bc(i),h.jc().SelectedStore=t}))("selectionChange",(function(){return h.Bc(i),h.jc().setLocStorageStore()})),h.Kc(5,vt,2,2,"mat-option",24),h.Vb(),h.Vb(),h.Vb()}if(2&t){var n=h.jc();h.Jc("left",n.AjusteLeftTiendaFlotante),h.Db(4),h.qc("ngModel",n.SelectedStore),h.Db(1),h.qc("ngForOf",n.Stores)}}var yt,St,Ct=D,xt=[],Dt=[],Vt=((yt=function(){function t(e,i,n,o,r,a,c,s,l,u,d,b,h){var f=this;_classCallCheck(this,t),this.inventoriesService=e,this.service=i,this.userIdle=n,this.http=o,this.authService=r,this.locStorage=a,this.dialog=c,this.router=s,this.thirdService=l,this.billingService=u,this.activatedRoute=d,this.fcmService=b,this.coolDialogs=h,this.currentBox="21",this.urlBase="/dashboard/business/movement/",this.compressed=!1,this.storeName=" ",this.mostrandoCargando=!1,this.mostrandoNombreTiendaFlotante=!1,this.AjusteLeftTiendaFlotante="50vw",this.headers=new x.d({"Content-Type":"application/json"}),this.EstiloPanel=1,this.MostrarPanel=!0,this.AnchoOpcionPanel=100,this.AltoOpcionPanel=100,this.ColumnasEnElPanel=3,this.fileBase64String=null,this.fileExtension=null,this.urlUploaded="Sin Archivo",this.imgName=null,this.imgURL=null,this.size=null,this.doubleclick=!1,this.menuSeleccionado=null,this.EstiloPanel="1"==localStorage.getItem("SidebarStyle")?1:2,this.service.onMainEvent.subscribe((function(t){f.SelectedStore=t})),this.service.onLogOutEvent.subscribe((function(t){f.logout()})),this.headers=new x.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()})}return _createClass(t,[{key:"ClickShowOptions",value:function(){var t=this;this.MostrarPanel=!0,window.setTimeout((function(){t.GenerarOpciones()}),150)}},{key:"CerrarPanel",value:function(){this.MostrarPanel=!1}},{key:"ngAfterViewInit",value:function(){var t=this;window.setTimeout((function(){t.GenerarOpciones()}),150)}},{key:"onResize",value:function(){this.GenerarOpciones()}},{key:"GenerarOpciones",value:function(){Object(s.a)("[INICIO]GenerarOpciones");try{if(null==this.HeaderRef)return void Object(s.a)("this.HeaderRef NULL");this.HeaderRef.nativeElement.parentElement.children[0].setAttribute("style","margin: 0 0"),this.AnchoOpcionPanel=(this.ContenedorOpciones.nativeElement.offsetWidth-10)/this.ColumnasEnElPanel-10,this.AltoOpcionPanel=(this.ContenedorOpciones.nativeElement.offsetHeight-10)/Math.ceil(this.menusLista.length/this.ColumnasEnElPanel)-10}catch(t){Object(s.a)("[ERROR]GenerarOpciones"),Object(s.a)(t)}return!0}},{key:"CambiarVista",value:function(){var t=this;1==this.EstiloPanel?(this.EstiloPanel=2,this.MostrarPanel=!0,window.setTimeout((function(){t.GenerarOpciones()}),50)):this.EstiloPanel=1,this.AjustarTituloTiendaFlotante(this.menuSeleccionado.ruta),localStorage.setItem("SidebarStyle",this.EstiloPanel+"")}},{key:"firstComponentFunction",value:function(){this.billingService.onClick()}},{key:"ComprimirSidebar",value:function(){this.compressed=!this.compressed,this.AjustarTituloTiendaFlotante(this.menuSeleccionado.ruta),localStorage.setItem("EstadoSideBar",this.compressed?"Comprimido":"NoComprimido")}},{key:"ngOnInit",value:function(){var t=this;Object(s.a)("THIS THIR IS MINE: ",this.locStorage.getThird()),this.imgurl=V.a.logos+"/"+this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number+".jpg",this.imgNameSend=this.locStorage.getThird().info.type_document+" "+this.locStorage.getThird().info.document_number,this.imgNameSend2=this.locStorage.getToken().id_third_father,Object(s.a)("this.imgurl",this.imgurl);var e=localStorage.getItem("EstadoSideBar");this.compressed=null!=e&&"Comprimido"==e,this.locStorage.getPerson(),this.http.get(V.a.tercero+"/thirds/getCity?id_third="+this.locStorage.getToken().id_third_father,{headers:this.headers}).subscribe((function(e){t.locStorage.setIdCity(e)}));var i=this.locStorage.getRol().filter((function(e){return t.locStorage.getListRolesCajeros().includes(e.id_rol)}));localStorage.setItem("id_employee",String(this.locStorage.getToken().id_third)),this.locStorage.getMenu().sort(this.dynamicSort("id_menu")).filter((function(t){return 143==t.id_menu||i.length>0})).length>0?(this.mostrandoCargando=!0,this.http.get(V.a.cierreCaja+"/close/openBoxes/v2?id_third="+this.locStorage.getToken().id_third).subscribe((function(e){"true"!=localStorage.getItem("SesionExpirada")&&(localStorage.setItem("myBox",e.toString()),t.currentBox=localStorage.getItem("currentBox"),Object(s.a)("this is responshe",e),t.mostrandoCargando=!1,8888==t.locStorage.getRol()[0].id_rol&&(t.MostrarPanel=!1),e.length>0?(t.locStorage.setDoINav(!0),t.dialog.open(y.a,{width:"60vw",data:{answering:e},disableClose:!0}).afterClosed().subscribe((function(i){Object(s.a)(i),i?(t.locStorage.setBoxStatus(!0),t.locStorage.setCajaOld(Number(e[0].id_CAJA)),t.locStorage.setIdCaja(Number(e[0].id_CAJA)),t.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+t.locStorage.getPerson().id_person).subscribe((function(i){Object(s.a)(i),i.forEach((function(i){i.id_CAJA==Number(e[0].id_CAJA)&&(Object(s.a)("ENTRE"),t.locStorage.setIdStore(i.id_STORE),t.http.get(V.a.cierreCaja+"/close/openBox?id_store="+t.locStorage.getIdStore()).subscribe((function(e){e.forEach((function(e){e.id_CAJA==i.id_CAJA&&t.locStorage.setCajaNumber(e.caja)}))})),t.getLists(),t.getStoreType(i.id_STORE))})),t.SelectedStore=t.locStorage.getIdStore(),t.getStores2()})),Object(s.a)("IM ON THE TRUE SIDE OF THINGS")):(t.locStorage.setIdCaja(Number(e[0].id_CAJA)),t.locStorage.setCajaOld(Number(e[0].id_CAJA)),Object(s.a)("IM ON THE FALSE SIDE OF THINGS"),t.dialog.open(C.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe((function(i){t.locStorage.setIdCaja(Number(e[0].id_CAJA)),t.locStorage.setCajaOld(Number(e[0].id_CAJA)),t.dialog.open(S.a,{width:"60vw",data:{},disableClose:!0}).afterClosed().subscribe((function(e){e.logout?t.logout():e.open?(t.locStorage.setIdCaja(e.idcaja),t.locStorage.setCajaOld(e.idcaja),t.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+t.locStorage.getPerson().id_person).subscribe((function(e){e.forEach((function(e){e.id_CAJA==t.locStorage.getIdCaja()&&(t.locStorage.setIdStore(e.id_STORE),t.http.get(V.a.cierreCaja+"/close/openBox?id_store="+t.locStorage.getIdStore()).subscribe((function(i){i.forEach((function(i){i.id_CAJA==e.id_CAJA&&t.locStorage.setCajaNumber(i.caja)}))})),t.getLists(),t.getStoreType(e.id_STORE))}))})),t.dialog.open(_.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe((function(e){t.http.post(V.a.facturacion+"/pedidos/abrirCajaPlanilla?IDCIERRECAJA="+t.locStorage.getIdCaja(),{}).subscribe((function(e){t.locStorage.setBoxStatus(!0),t.SelectedStore=t.locStorage.getIdStore(),t.getStores2(),t.locStorage.setCajaOld(t.locStorage.getIdCaja()),Object(s.a)("ID CAJA: ",t.locStorage.getIdCaja()),Object(s.a)("ID STORE: ",t.locStorage.getIdStore()),Object(s.a)("STORE TYPE: ",t.locStorage.getTipo()),Object(s.a)("BOX TYPE: ",t.locStorage.getBoxStatus())}))}))):(t.locStorage.setBoxStatus(!1),t.getStores2())}))})))}))):(t.locStorage.setDoINav(!0),Object(s.a)("IM ON THE NO OPEN BOX SIDE OF THINGS"),t.dialog.open(S.a,{width:"60vw",data:{},disableClose:!0}).afterClosed().subscribe((function(e){Object(s.a)("this is my boolean, ",e.open),t.locStorage.setDoINav(!1),e.logout?t.logout():e.open?(t.locStorage.setIdCaja(e.idcaja),t.locStorage.setCajaOld(e.idcaja),t.locStorage.setBoxStatus(!0),t.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+t.locStorage.getPerson().id_person).subscribe((function(e){e.forEach((function(e){e.id_CAJA==t.locStorage.getIdCaja()&&(t.locStorage.setIdStore(e.id_STORE),t.http.get(V.a.cierreCaja+"/close/openBox?id_store="+t.locStorage.getIdStore()).subscribe((function(i){i.forEach((function(i){i.id_CAJA==e.id_CAJA&&t.locStorage.setCajaNumber(i.caja)}))})),t.getLists(),t.getStoreType(e.id_STORE))}))})),t.dialog.open(_.a,{width:"60vw",data:{flag:!1},disableClose:!0}).afterClosed().subscribe((function(e){t.http.post(V.a.facturacion+"/pedidos/abrirCajaPlanilla?IDCIERRECAJA="+t.locStorage.getIdCaja(),{}).subscribe((function(e){t.locStorage.setBoxStatus(!0),Object(s.a)("ID CAJA: ",t.locStorage.getIdCaja()),Object(s.a)("ID STORE: ",t.locStorage.getIdStore()),Object(s.a)("STORE TYPE: ",t.locStorage.getTipo()),Object(s.a)("BOX TYPE: ",t.locStorage.getBoxStatus()),t.SelectedStore=t.locStorage.getIdStore(),t.locStorage.setCajaOld(t.locStorage.getIdCaja()),t.getStores2(),t.firstComponentFunction()}))}))):(t.locStorage.setIdCaja(e.idcaja),t.locStorage.setCajaOld(e.idcaja),t.getStores3(e.idcaja),t.http.get(V.a.cierreCaja+"/close/myboxes?id_person="+t.locStorage.getPerson().id_person).subscribe((function(e){e.forEach((function(e){e.id_CAJA==t.locStorage.getIdCaja()&&(t.locStorage.setIdStore(e.id_STORE),t.http.get(V.a.cierreCaja+"/close/openBox?id_store="+t.locStorage.getIdStore()).subscribe((function(i){i.forEach((function(i){i.id_CAJA==e.id_CAJA&&t.locStorage.setCajaNumber(i.caja)}))})),t.getLists(),t.getStoreType(e.id_STORE),t.getStores2())}))})))}))))}))):this.getStores4(),this.menuItems=Dt.filter((function(t){return t})),this.menuItemsStart=xt.filter((function(t){return t})),this.locStorage.getSession()?(this.menusLista=this.locStorage.getMenu().filter((function(t,e,i){return e===i.findIndex((function(e){return e.id_menu===t.id_menu}))})).sort(this.dynamicSort("id_menu")),this.token=this.locStorage.getToken(),this.person=this.locStorage.getPerson(),this.thirdFather=this.locStorage.getThird(),this.router.events.subscribe((function(e){for(var i=t.router.url.substring(29),n=0;n<t.menusLista.length;n++)if(i.includes(t.menusLista[n].ruta)){t.menuSeleccionado=t.menusLista[n],t.AjustarTituloTiendaFlotante(t.menusLista[n].ruta);break}}))):this.Login(),window.setTimeout((function(){t.GenerarOpciones()}),300)}},{key:"AjustarTituloTiendaFlotante",value:function(t){"billing/main"!=t&&"pedidos"!=t&&"devbill"!=t&&"inventory"!=t&&"compbill"!=t?(this.mostrandoNombreTiendaFlotante=!0,"inbill"==t&&(this.AjusteLeftTiendaFlotante="calc(58vw - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"outbill"==t&&(this.AjusteLeftTiendaFlotante="calc(58vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"devbill"==t&&(this.AjusteLeftTiendaFlotante="calc(64vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"categories"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"inventory"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"reportes"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"thirds"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"conta"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),"newproduct"==t&&(this.AjusteLeftTiendaFlotante="calc(51vw  - "+(1==this.EstiloPanel?this.compressed?87.5:0:110)+"px)"),Object(s.a)("this.AjusteLeftTiendaFlotante es "+this.AjusteLeftTiendaFlotante)):this.mostrandoNombreTiendaFlotante=!1}},{key:"getStoreType",value:function(t){var e=this;this.http.get(V.a.tienda+"/store/tipoStore?id_store="+t).subscribe((function(t){e.locStorage.setTipo(t),Object(s.a)("ID CAJA: ",e.locStorage.getIdCaja()),Object(s.a)("ID STORE: ",e.locStorage.getIdStore()),Object(s.a)("STORE TYPE: ",e.locStorage.getTipo()),Object(s.a)("BOX TYPE: ",e.locStorage.getBoxStatus()),e.getStores()}))}},{key:"getStores",value:function(){var t=this;this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe((function(e){e.forEach((function(e){e.id_STORE==t.locStorage.getIdStore()&&(t.storeName=e.store_NAME)}));for(var i="",n=0;n<e.length;n++)i+=e[n].id_STORE+",",t.locStorage.setStoreList(i.substring(0,i.length-1))}))}},{key:"GetNameFromIDStore",value:function(){for(var t="",e=0;e<this.Stores.length;e++)if(this.Stores[e].id_STORE==this.SelectedStore){t=this.Stores[e].store_NAME;break}return t}},{key:"setIdStore",value:function(){var t=this;this.locStorage.setIdStore(this.SelectedStore),this.locStorage.setCajaNumber(""),this.getLists(),this.locStorage.setIdCaja(1),this.locStorage.setBoxStatus(!1),Object(s.a)("NEW ID STORE:",this.locStorage.getIdStore()),Object(s.a)("NEW ID CAJA:",this.locStorage.getIdCaja()),Object(s.a)("NEW BOX STATUS:",this.locStorage.getBoxStatus()),this.http.get(V.a.tienda+"/store/tipoStore?id_store="+this.SelectedStore).subscribe((function(e){t.locStorage.setTipo(e)}))}},{key:"getLists",value:function(){this.locStorage.setOnline(!0),this.locStorage.getStores(),this.locStorage.getBoxes()}},{key:"setFileImage",value:function(t){var e=this;console.log("UPLOAD IMAGE");var i=t.target.files[0],n=new FileReader;n.readAsDataURL(i),n.onload=function(){return e.size=Math.round(t.srcElement.files[0].size/1024/1024*100)/100,e.size>=1?(e.showNotification2("top","center",3,"<h3>El tama\xf1o de la imagen es mayor al limite permitido de 1MB.</h3> ","danger"),void e.clearImg()):(e.fileBase64String=n.result,e.fileExtension=t.target.files[0].name.split(".").pop(),e.urlUploaded=t.target.files[0].name,e.imgName=t.target.files[0].name,"jpg"!=e.fileExtension&&"jpeg"!=e.fileExtension&&"png"!=e.fileExtension?(e.showNotification2("top","center",3,"<h3>Formato de imagen no v\xe1lido, los formatos permitidos son, JPG, JPEG y PNG.</h3> ","danger"),void e.clearImg()):(e.http.post(V.a.tienda+"/products2/imgupload?filename1="+e.imgNameSend+"&filename2="+e.imgNameSend2,{file:e.fileBase64String,fileName:e.urlUploaded.split("(").join("_").split(")").join("_").split(" ").join("_"),format:e.fileExtension}).subscribe((function(t){console.log("im in")})),e.imgURL=n.result,void(e.imgurl=n.result)))}}},{key:"clearImg",value:function(){this.fileBase64String=null,this.fileExtension=null,this.urlUploaded="Sin Archivo",this.imgName=null,this.imgURL=null,this.size=null}},{key:"openFile",value:function(){console.log("hell"),document.querySelector("input").click()}},{key:"getInventoryList",value:function(t){var e=this;this.http.get(V.a.tienda+"/products2/inventoryListActivos?id_store="+this.locStorage.getIdStore()).subscribe((function(t){e.locStorage.setInventoryList(t)}))}},{key:"setLocStorageStore",value:function(){this.locStorage.setIdStore(this.SelectedStore),this.locStorage.setBoxStatus(!1)}},{key:"getStores2",value:function(){var t=this;this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe((function(e){Object(s.a)(e),t.Stores=e,t.SelectedStore=t.locStorage.getIdStore(),t.locStorage.setDoINav(!1)}))}},{key:"getStores3",value:function(t){var e=this;this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe((function(i){e.getStoreType(i[0].id_STORE),Object(s.a)(i),e.locStorage.setBoxStatus(!1),e.Stores=i,e.SelectedStore=i[0].id_STORE,e.locStorage.setIdStore(i[0].id_STORE),e.http.get(V.a.cierreCaja+"/close/openBox?id_store="+i[0].id_STORE).subscribe((function(i){i.forEach((function(i){i.id_CAJA==t&&e.locStorage.setCajaNumber(i.caja)}))})),e.getLists()}))}},{key:"getStores4",value:function(){var t=this;this.billingService.getStoresByThird(this.locStorage.getToken().id_third).subscribe((function(e){t.getStoreType(e[0].id_STORE),Object(s.a)(e),t.locStorage.setBoxStatus(!1),t.Stores=e,t.SelectedStore=e[0].id_STORE,t.locStorage.setIdStore(e[0].id_STORE),t.getLists()}))}},{key:"dynamicSort",value:function(t){var e=1;return"-"===t[0]&&(e=-1,t=t.substr(1)),function(i,n){return(i[t]<n[t]?-1:i[t]>n[t]?1:0)*e}}},{key:"isMobileMenu",value:function(){return window.innerWidth<=991}},{key:"logout",value:function(){return Object(v.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.doubleclick){t.next=2;break}return t.abrupt("return");case 2:if(this.doubleclick=!0,this.locStorage.isSession()){t.next=4;break}return t.abrupt("return",(this.token=null,localStorage.setItem("Logo","-1"),void this.goIndex()));case 4:return t.next=6,this.authService.logout();case 6:1==(e=t.sent)[0]?(this.token=null,localStorage.setItem("Logo","-1"),this.goIndex(),this.showNotification("top","right")):(Object(s.a)("promesa"),Object(s.a)(e),this.showNotification("top","right",e[1]));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"showNotification2",value:function(t,e,i,n,o){Math.floor(4*Math.random()+1),Ct.notify({icon:"notifications",message:n||"<b>Noficaci\xf3n automatica </b>"},{type:o||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}},{key:"showNotification",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Usted <b>Cerro Sesi\xf3n</b> de forma satisfactoria.";Math.floor(4*Math.random()+1),Ct.notify({icon:"notifications",message:i},{type:"success",timer:200,placement:{from:t,align:e}})}},{key:"goIndex",value:function(){this.router.navigate(["/"])}},{key:"Login",value:function(){this.router.navigate(["/auth"])}},{key:"isMobileMenuNav",value:function(){return window.innerWidth<=991}},{key:"gotoMenu",value:function(t){this.MostrarPanel=!1,this.router.navigateByUrl(this.urlBase+t.ruta)}}]),t}()).\u0275fac=function(t){return new(t||yt)(h.Qb(w.a),h.Qb(j.a),h.Qb(O.b),h.Qb(x.b),h.Qb(p.a),h.Qb(f.a),h.Qb(W.b),h.Qb(o.b),h.Qb(g.a),h.Qb(R.a),h.Qb(o.a),h.Qb(N.a),h.Qb(B.b))},yt.\u0275cmp=h.Kb({type:yt,selectors:[["app-sidebar"]],viewQuery:function(t,e){var i;1&t&&(h.Tc(q,!0),h.Tc(L,!0)),2&t&&(h.xc(i=h.gc())&&(e.ContenedorOpciones=i.first),h.xc(i=h.gc())&&(e.HeaderRef=i.first))},hostBindings:function(t,e){1&t&&h.fc("resize",(function(){return e.onResize()}),!1,h.Ac)},decls:4,vars:4,consts:[["class","ContenedorSidebar",4,"ngIf"],[4,"ngIf"],["class","ContenedorLoading",4,"ngIf"],["style","position: fixed;top: 25px;z-index: 1;max-width: 250px;width: 18vw;margin: auto 0 auto auto;background-color: white;border-radius: 30px;display: flex;flex-direction: column",3,"left",4,"ngIf"],[1,"ContenedorSidebar"],[1,"UsarEspacioFijo"],["id","leftcol",2,"z-index","10","padding","15px","margin-right","0","max-width","250px"],[3,"click",4,"ngIf"],["style","font-size: 1.2em; font-weight: 700; margin-bottom:10px;text-align: center;",4,"ngIf"],["style","font-size: 1.2em; font-weight: 700; margin-bottom:10px",4,"ngIf"],["style","width: 100%;",4,"ngIf"],["style","border:0;box-shadow: none !important; width:100%;padding:0;margin:0;margin-top:-20px;margin-bottom:-10px;",4,"ngIf"],["style","margin-left:-10px",4,"ngIf"],[3,"ngClass"],["id","ScrollBar",1,"ScrollBar",2,"z-index","1","padding","15px","margin-right","0","overflow-y","auto","background","none","max-width","250px"],["class","itemContainer",4,"ngFor","ngForOf"],["class","ContenedorBarraInferior","style","max-width: 250px;",3,"width",4,"ngIf"],[3,"click"],["onError","this.src='https://pruebas.tienda724.com/logos/802.jpg'",1,"logo",3,"src"],["type","file",2,"display","none",3,"change"],[2,"font-size","1.2em","font-weight","700","margin-bottom","10px","text-align","center"],[2,"font-size","1.2em","font-weight","700","margin-bottom","10px"],[2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"border","0","box-shadow","none !important","width","100%","padding","0","margin","0","margin-top","-20px","margin-bottom","-10px"],[2,"padding","0","margin","0"],[2,"font-weight","300"],["mat-list-icon","",2,"color","lightslategrey"],["mat-line","",2,"color","lightslategrey"],["mat-line","","style","color: lightslategrey",4,"ngFor","ngForOf"],["mat-line","","style","color: lightslategrey",4,"ngIf"],[2,"margin-left","-10px"],[2,"cursor","pointer",3,"hidden","click"],["mat-line","",2,"font-weight","700","font-size","0.9em","color","rgb(43, 43, 43)"],[2,"cursor","pointer",3,"click"],[1,"itemContainer"],[2,"margin-left","-10px","margin-right","-10px"],[2,"cursor","pointer",3,"hidden","ngClass","click"],["mat-list-icon",""],["style","font-weight: 700;font-size:0.9em;","mat-line","",4,"ngIf"],["mat-line","",2,"font-weight","700","font-size","0.9em"],[1,"ContenedorBarraInferior",2,"max-width","250px"],["class","BotonCerrar","style","color: white !important;border-color: white !important; width: 75%;margin-right: auto","mat-stroked-button","","type","button",3,"click",4,"ngIf"],[2,"border-color","white !important","border","1px solid currentColor","border-radius","5px","height","36px","width","36px",3,"click"],[1,"icono_toggle"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important","width","75%","margin-right","auto",3,"click"],["class","BotonMostrarPanel","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"ContenedorPanel",3,"hidden"],[1,"ContenedorMatCard"],[2,"width","100%","display","flex"],[1,"Header"],["ContenedorHeader",""],[1,"ScrollBar",2,"height","45%","overflow","auto"],[2,"height","20%","display","flex","flex-direction","column"],[2,"font-size","2.4vh","font-weight","700","margin-bottom","0","color","white","text-align","center","flex","auto"],["style","flex: auto;font-size: 1.2em; font-weight: 700; margin-bottom:10px; color:white; text-align: center",4,"ngIf"],[1,"CardLogo"],[1,"CardTiendas"],[2,"height","34%","margin-top","5px","overflow","hidden"],[1,"CardUsuario"],[2,"width","100%","display","flex","align-items","center","height","13%","max-width","300px"],[2,"margin","0 auto","font-size","1.3em","font-weight","700","color","black"],[1,"ScrollBar",2,"flex","auto","margin","auto 0","overflow","auto","padding","0","height","70%"],[2,"align-items","center","display","flex","height","13%","padding","0"],[1,"ScrollBar",2,"height","19%","overflow","auto","margin","auto 0","display","flex","flex-direction","column"],[2,"font-size","1.3em","font-weight","700","color","white","margin","auto 0"],[2,"font-size","0.8em","font-weight","300","color","white","margin-bottom","10px"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important","margin-bottom","5px",3,"click"],["mat-stroked-button","","type","button",1,"BotonCerrar",2,"color","white !important","border-color","white !important",3,"click"],[2,"flex","auto","border-bottom-right-radius","25px","border-top-right-radius","25px","background-color","gainsboro"],["ContenedorMatCard",""],["class","ContenedorOpcion",3,"width","height","click",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"BotonMostrarPanel",3,"click"],[2,"flex","auto","font-size","1.2em","font-weight","700","margin-bottom","10px","color","white","text-align","center"],[1,"ContenedorOpcion",3,"click"],[1,"OpcionMatCard",2,"cursor","pointer",3,"ngClass"],[1,"Opcion"],["role","img","aria-hidden","true",1,"mat-icon","material-icons","IconoOpcion"],[1,"Opcion",2,"height","30%"],[1,"TextoOpcion"],[1,"ContenedorLoading"],[1,"wrapper2"],[2,"background-color","white","margin","auto","margin-bottom","5vh"],[1,"ThePreLoader"],[1,"loader--dot"],[1,"loader--text"],[2,"position","fixed","top","25px","z-index","1","max-width","250px","width","18vw","margin","auto 0 auto auto","background-color","white","border-radius","30px","display","flex","flex-direction","column"],[2,"text-align","center","height","100%","margin","auto","font-size","larger"],["color","primary",2,"margin","auto","margin-top","-20px","margin-bottom","10px","height","4vh","text-align","center"]],template:function(t,e){1&t&&(h.Kc(0,nt,15,18,"div",0),h.Kc(1,ft,55,13,"div",1),h.Kc(2,gt,14,2,"div",2),h.Kc(3,_t,6,4,"div",3)),2&t&&(h.qc("ngIf",1==e.EstiloPanel||e.isMobileMenu()),h.Db(1),h.qc("ngIf",2==e.EstiloPanel&&!e.isMobileMenu()),h.Db(1),h.qc("ngIf",e.mostrandoCargando),h.Db(1),h.qc("ngIf",e.mostrandoNombreTiendaFlotante))},directives:[n.t,M.a,M.d,n.q,n.s,M.m,A.b,A.f,T.a,r.r,r.u,F.p,k.c,k.g,k.h,I.a,I.d,E.a,I.c,F.l,P.b,M.l],styles:['.mat-expansion-panel-content>.mat-expansion-panel-body{padding:0!important}.ContenedorSidebar{height:100vh;display:table;background-image:url(/assets/img/sidebar-4.jpg);background-size:cover;border-right:solid;border-width:1px;border-color:#dadada}.UsarRestoEspacio:before{z-index:1;content:"";position:fixed;width:inherit;max-width:250px;height:90%;opacity:.89;background:#fff}.UsarEspacioFijo{display:table-row;height:0}.UsarRestoEspacioColapsado:before{content:"";position:fixed;width:75px;height:90%;opacity:.89;background:#fff}.UsarRestoEspacio,.UsarRestoEspacioColapsado{display:table-row;height:auto}.itemContainer{border:0;box-shadow:none!important;background:none!important;width:100%;padding:0!important;margin:0!important}.item{color:#789}.item:hover{background-color:grey;color:#fff}.item_active{background-color:#14d3f9;color:#fff;border-radius:4px;box-shadow:0 4px 20px 0 rgba(0,0,0,.14),0 7px 10px -5px rgba(244,67,54,.4)}.ContenedorBarraInferior{bottom:0!important;position:absolute!important;z-index:1;background:#05356b;padding-top:10px!important;padding-bottom:10px!important;display:flex!important}.icono_toggle{color:#fff;width:36px!important;font-size:40px;margin-top:-4px;cursor:pointer}.avatar-img{margin-left:15px;background-image:url(http://www.lindt.fr/fileadmin/Global_content_all_access/new_store_locator/lindt_yvr-01423.jpg);background-size:cover}.logo{max-height:100%;margin:auto!important;width:100%}.ContenedorLoading{display:flex;left:0;width:100%;position:absolute;height:100%;top:0;z-index:1000}.wrapper2{display:flex;align-items:center;flex-direction:column;width:100vw;min-height:100vh;background-color:#f5f5f5}.ThePreLoader{height:200px;width:40vw;margin:5vh auto auto}.loader--dot{-webkit-animation-name:loader;animation-name:loader;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;height:20px;width:20px;border-radius:100%;background-color:#000;position:absolute;border:2px solid #fff}.loader--dot:first-child{background-color:#8cc759;-webkit-animation-delay:.5s;animation-delay:.5s}.loader--dot:nth-child(2){background-color:#8c6daf;-webkit-animation-delay:.4s;animation-delay:.4s}.loader--dot:nth-child(3){background-color:#ef5d74;-webkit-animation-delay:.3s;animation-delay:.3s}.loader--dot:nth-child(4){background-color:#f9a74b;-webkit-animation-delay:.2s;animation-delay:.2s}.loader--dot:nth-child(5){background-color:#60beeb;-webkit-animation-delay:.1s;animation-delay:.1s}.loader--dot:nth-child(6){background-color:#fbef5a;-webkit-animation-delay:0s;animation-delay:0s}.loader--text{top:200%;left:0;right:0;width:4rem;margin:auto;padding-top:5vh}.loader--text:after{content:"Cargando";font-weight:700;-webkit-animation-name:loading-text;animation-name:loading-text;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes loader{15%{transform:translateX(0)}45%{transform:translateX(40vw)}65%{transform:translateX(40vw)}95%{transform:translateX(0)}}@keyframes loader{15%{transform:translateX(0)}45%{transform:translateX(40vw)}65%{transform:translateX(40vw)}95%{transform:translateX(0)}}@-webkit-keyframes loading-text{0%{content:"Cargando"}25%{content:"Cargando."}50%{content:"Cargando.."}75%{content:"Cargando..."}}@keyframes loading-text{0%{content:"Cargando"}25%{content:"Cargando."}50%{content:"Cargando.."}75%{content:"Cargando..."}}.ScrollBar::-webkit-scrollbar{width:8px;background-color:#e4e4e3}.ScrollBar::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#cacaca}.BotonMostrarPanel{position:fixed!important;bottom:0;left:0;z-index:100;line-height:unset!important}.ContenedorPanel{display:flex;z-index:100}.ContenedorPanel,.ContenedorPanel:before{width:100vw;position:absolute;height:100vh}.ContenedorPanel:before{content:"";background-color:grey;opacity:.7}.ContenedorMatCard{display:flex!important;border-radius:25px!important;height:90vh;width:90vw;margin:auto;padding:0!important}.Header{background-color:#05356b;margin:0;padding:20px;border-bottom-left-radius:20px;border-top-left-radius:20px;display:flex!important;flex-direction:column;width:25%;height:90.05vh}.BotonCerrar{text-align:center;width:100%}.ContenedorOpcion{background-color:#ddbdf1;display:inline-block;max-height:20vh;margin-top:10px!important;margin-left:10px!important}.CardLogo{display:flex!important;border-top-left-radius:15px!important;border-top-right-radius:15px!important;height:58%}.CardLogo,.CardTiendas{margin-bottom:5px!important;width:100%!important;padding:5px 15px 0!important}.CardTiendas{margin-top:5px}.CardUsuario{border-bottom-right-radius:15px!important;border-bottom-left-radius:15px!important;padding:0!important;height:100%;display:flex;flex-direction:column}.Opcion{height:65%;margin:auto;display:flex}.TextoOpcion{font-size:1.3em;font-weight:700;margin:auto auto 15px;color:inherit}.IconoOpcion{color:inherit;display:table!important;margin:auto;font-size:7vh!important}.OpcionMatCard{padding:0!important;height:100%!important;background-color:#fff!important}.item2{color:#05356b}.item2:hover{background-color:grey!important;color:#fff}.item_active2{background-color:#0859b4!important;color:#fff}'],encapsulation:2}),yt),wt=i("J0hL"),jt=D,Ot=((St=function(){function t(e,i,n,o,a){_classCallCheck(this,t),this.element=i,this.authService=n,this.router=o,this.locStorage=a,this.date=new r.g({value:new Date,disabled:!0}),this.space="  | ",this.user=!1,this.location=e,this.sidebarVisible=!1}return _createClass(t,[{key:"ngOnInit",value:function(){244==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(1),this.locStorage.setIdStore(1)),541==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(61),this.locStorage.setIdStore(62)),542==this.locStorage.getThird().id_third&&(this.locStorage.setIdCaja(62),this.locStorage.setIdStore(61)),this.locStorage.getSession()?(this.listTitles=Dt.filter((function(t){return t})),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0],this.token=this.locStorage.getToken(),this.person=this.locStorage.getPerson(),this.token=this.locStorage.getToken(),this.thirdFather=this.locStorage.getThird()):this.goIndex()}},{key:"sidebarOpen",value:function(){var t=this.toggleButton,e=document.getElementsByTagName("body")[0];setTimeout((function(){t.classList.add("toggled")}),500),e.classList.add("nav-open"),this.sidebarVisible=!0}},{key:"sidebarClose",value:function(){var t=document.getElementsByTagName("body")[0];this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}},{key:"sidebarToggle",value:function(){!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose()}},{key:"sidebarToggle2",value:function(){this.sidebarClose()}},{key:"getTitle",value:function(){var t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(2)),t=t.split("/").pop();for(var e=0;e<this.listTitles.length;e++)if(this.listTitles[e].path===t)return this.listTitles[e].title;return"Dashboard"}},{key:"isMobileMenu",value:function(){return window.innerWidth>991}},{key:"logout",value:function(){this.locStorage.cleanSession(),this.token=null,this.goIndex(),this.showNotification("top","right")}},{key:"goIndex",value:function(){this.router.navigate(["/login?appid=30"])}},{key:"showNotification",value:function(t,e){Math.floor(4*Math.random()+1),jt.notify({icon:"notifications",message:"Usted <b>Cerro Sesi\xf3n</b> de forma satisfactoria."},{type:"success",timer:200,placement:{from:t,align:e}})}}]),t}()).\u0275fac=function(t){return new(t||St)(h.Qb(n.n),h.Qb(h.l),h.Qb(p.a),h.Qb(o.b),h.Qb(f.a))},St.\u0275cmp=h.Kb({type:St,selectors:[["app-navbar"]],decls:10,vars:0,consts:[[1,"navbar-transparent","fixed-top","mat-elevation-z12",2,"background-color","#052f5f","color","rgb(255, 255, 255)","display","flex","position","relative"],[2,"margin","auto"],[1,"navbar-header",2,"position","absolute","right","0"],["type","button","data-toggle","collapse",1,"navbar-toggle",2,"background","#052f5f",3,"click"],[1,"sr-only"],[1,"icon-bar"]],template:function(t,e){1&t&&(h.Wb(0,"mat-toolbar",0),h.Wb(1,"span",1),h.Mc(2,"Tienda 724"),h.Vb(),h.Wb(3,"div",2),h.Wb(4,"button",3),h.fc("click",(function(){return e.sidebarToggle()})),h.Wb(5,"span",4),h.Mc(6,"Toggle navigation"),h.Vb(),h.Rb(7,"span",5),h.Rb(8,"span",5),h.Rb(9,"span",5),h.Vb(),h.Vb(),h.Vb())},directives:[wt.a],styles:[".box[_ngcontent-%COMP%]{padding:1px 0 1px 20px}.box[_ngcontent-%COMP%], .btn-exit[_ngcontent-%COMP%]{overflow:hidden;background-color:#ffe0b2;border:1px solid #757575;border-radius:5px}.btn-exit[_ngcontent-%COMP%]{padding-left:20px}"]}),St);function Wt(t,e){1&t&&(h.Wb(0,"div",5),h.Rb(1,"app-navbar"),h.Vb())}var Mt,Tt,kt,It=[{path:"",component:(Mt=function(){function t(e,i,n,o,r,a){_classCallCheck(this,t),this.location=e,this.locStorage=i,this._router=n,this.authService=o,this.userThirdService=r,this.thirdService=a,this.commonThird=new b.a(null,null,null,null),this.userThirdQ=new l(null,null,null,this.commonThird),this.userThirdAux=this.userThirdQ,this.person=new u.a(null,null,null,null,null,null,null,this.commonThird,null,null,this.userThirdQ),this.employee=new d(null,null,this.commonThird)}return _createClass(t,[{key:"ngOnInit",value:function(){this.locStorage.getSession()?(this.token=this.locStorage.getToken(),this.UUID=""+this.token.id_usuario,this.locStorage.getPerson()||(this.userThirdQ.UUID=this.UUID,this.loadUserThird(this.userThirdQ))):this.Login()}},{key:"Login",value:function(){this._router.navigate(["/auth"])}},{key:"Logout",value:function(){this.locStorage.cleanSession(),this.goIndex()}},{key:"goIndex",value:function(){this._router.navigate(["/"])}},{key:"goDashboard",value:function(){this._router.navigate(["/dashboard"])}},{key:"Perfil",value:function(){"true"!=localStorage.getItem("SesionExpirada")&&alert("EN DESARROLLO")}},{key:"isMobileMenuNav",value:function(){return!(window.innerWidth>991)}},{key:"loadUserThird",value:function(t){var e=this;this.userThirdService.getUserThirdList(t).subscribe((function(t){return e.userThird=t}),(function(t){return Object(s.a)(t)}),(function(){}))}},{key:"isMaps",value:function(t){return t!=this.location.prepareExternalUrl(this.location.path()).slice(1)}}]),t}(),Mt.\u0275fac=function(t){return new(t||Mt)(h.Qb(n.n),h.Qb(f.a),h.Qb(o.b),h.Qb(p.a),h.Qb(m.a),h.Qb(g.a))},Mt.\u0275cmp=h.Kb({type:Mt,selectors:[["tienda724"]],decls:7,vars:3,consts:[[1,"wrapper",2,"background-color","#eeeeee"],["data-color","red","data-image","",1,"sidebar",3,"ngClass"],[1,"main-panel",3,"ngClass"],["style","height: 56px;width: 100%",4,"ngIf"],[1,"main-content"],[2,"height","56px","width","100%"]],template:function(t,e){1&t&&(h.Wb(0,"div",0),h.Wb(1,"div",1),h.Rb(2,"app-sidebar"),h.Vb(),h.Wb(3,"div",2),h.Kc(4,Wt,2,0,"div",3),h.Wb(5,"div",4),h.Rb(6,"router-outlet"),h.Vb(),h.Vb(),h.Vb()),2&t&&(h.Db(1),h.qc("ngClass",e.isMobileMenuNav()?"":"AjusteNormalSidebar"),h.Db(2),h.qc("ngClass",e.isMobileMenuNav()?"":"AjusteNormalMainPanel"),h.Db(1),h.qc("ngIf",e.isMobileMenuNav()))},directives:[n.q,Vt,n.t,o.g,Ot],styles:['.wrap{display:table}.wrap>div{display:table-cell}.AjusteNormalSidebar{float:left;position:unset}.AjusteNormalSidebar:before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:-1;box-shadow:-5px 5px 20px 5px #000}.AjusteNormalMainPanel{float:unset;position:unset;width:auto}.ScrollBar::-webkit-scrollbar{width:8px;background-color:#e4e4e3}.ScrollBar::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#cacaca}'],encapsulation:2}),Mt),children:[{path:"",redirectTo:"business",pathMatch:"full"},{path:"business",loadChildren:function(){return i.e(8).then(i.bind(null,"EQSL")).then((function(t){return t.BusinessModule}))}},{path:"new-third",component:i("TbkF").a}]}],Et=((kt=function t(){_classCallCheck(this,t)}).\u0275mod=h.Ob({type:kt}),kt.\u0275inj=h.Nb({factory:function(t){return new(t||kt)},imports:[[o.f.forChild(It)],o.f]}),kt),Pt=((Tt=function t(){_classCallCheck(this,t)}).\u0275mod=h.Ob({type:Tt}),Tt.\u0275inj=h.Nb({factory:function(t){return new(t||Tt)},providers:[n.f],imports:[[n.c,o.f,r.B,Et,a.a,r.l,c.a]]}),Tt)},QzhR:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("LcAk"),o=i("MkNp"),r=i("fXoL"),a=i("tyNb"),c=i("tk/3"),s=i("A2Vd"),l=i("Xlwt"),u=i("Dcmo"),d=i("fDUG"),b=i("OL1i"),h=i("IRfi"),f=i("3Pt+"),p=i("TT0I"),m=function(){return{precision:0}},g=function(){var t=function(){function t(e,i,n,o,r,a,c){_classCallCheck(this,t),this.router=e,this.http2=i,this.dialogRef=n,this.locStorage=o,this.billingService=r,this.thirdService=a,this.flag=c,this.myBox=4,this.boxToPost={id_THIRD_EMPLOYEE:0,notes:"Base Inicial",starting_DATE:"2019-03-27",balance:0,status:"O",id_CAJA:this.locStorage.getIdCaja()},this.notes="Base Inicial ",this.money=0,this.initialMoney={valor:0,naturaleza:"D",movement_DATE:"2019-03-23",notes:"Base Inicial"}}return _createClass(t,[{key:"disabledButton",value:function(){return!(this.money>0||0==this.money)}},{key:"ngOnInit",value:function(){var t=this;this.http2.get(o.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe((function(e){t.nombreCaja=e.caja,t.nombreTienda2=e.store})),this.nombreEmpleado=this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,this.nombreTienda=this.locStorage.getThird().info.fullname,this.idEmployee=localStorage.getItem("id_employee")}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"openBox",value:function(){var t=this;this.boxToPost.id_THIRD_EMPLOYEE=this.idEmployee,this.boxToPost.notes=this.notes,this.billingService.postBox(this.boxToPost).subscribe((function(e){localStorage.setItem("currentBox",e),localStorage.setItem("movements","-"+t.money),localStorage.setItem("sells",""),t.locStorage.setBase(Number(t.money)),t.initialMoney.valor=Number(t.money),t.initialMoney.notes=t.notes;var i='[{"valor": '+String(t.initialMoney.valor)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "Base Incial"}]';t.billingService.postBoxDetail(JSON.parse(i),Number(e)).subscribe((function(e){t.closeDialog()}))}))}},{key:"gotoDashboard",value:function(){this.router.navigateByUrl("/dashboard/business/menu"),this.closeDialog()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(a.b),r.Qb(c.b),r.Qb(n.h),r.Qb(u.a),r.Qb(d.a),r.Qb(b.a),r.Qb(n.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-open-box"]],decls:22,vars:9,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],[1,"card-body"],[1,"row"],[1,"col"],["currencyMask","","matInput","","type","text","placeholder","Dinero Base","id","reader","autofocus","","type","text",1,"text-center",3,"options","ngModel","click","ngModelChange"],["matInput","","type","text","placeholder","Notas","id","reader","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["mat-stroked-button","","color","primary","type","button",3,"hidden","click"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"h4",2),r.Mc(3,"Abrir caja"),r.Vb(),r.Wb(4,"p",2),r.Mc(5),r.Vb(),r.Vb(),r.Wb(6,"div",3),r.Wb(7,"div",4),r.Wb(8,"div",5),r.Wb(9,"mat-form-field"),r.Wb(10,"input",6),r.fc("click",(function(t){return t.target.select()}))("ngModelChange",(function(t){return e.money=t})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(11,"div",4),r.Wb(12,"div",5),r.Wb(13,"mat-form-field"),r.Wb(14,"input",7),r.fc("ngModelChange",(function(t){return e.notes=t})),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(15,"div",4),r.Wb(16,"div",5),r.Wb(17,"button",8),r.fc("click",(function(){return e.openBox()})),r.Mc(18,"Abrir caja"),r.Vb(),r.Vb(),r.Wb(19,"div",5),r.Wb(20,"button",9),r.fc("click",(function(){return e.gotoDashboard()})),r.Mc(21,"Cancelar"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(5),r.Qc("Hola ",e.nombreEmpleado,", estas a punto de abrir la ",e.nombreCaja," en la tienda ",e.nombreTienda2,"."),r.Db(5),r.qc("options",r.tc(8,m))("ngModel",e.money),r.Db(4),r.qc("ngModel",e.notes),r.Db(3),r.qc("disabled",e.disabledButton()),r.Db(3),r.qc("hidden",!e.flag.flag))},directives:[h.b,s.b,f.c,p.a,f.r,f.u,l.b],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:800}mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.example-card[_ngcontent-%COMP%]{margin:15px}.img-table[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.row[_ngcontent-%COMP%]{padding-top:25px}.card2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.card2[_ngcontent-%COMP%]{width:100%;margin-top:5px;margin-bottom:5px}.img-card[_ngcontent-%COMP%]{width:100%;height:200px;border-top-left-radius:2px;border-top-right-radius:2px;display:block;overflow:hidden}.img-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;-o-object-fit:cover;object-fit:cover;transition:all .25s ease}.card2-content[_ngcontent-%COMP%]{padding:15px;text-align:left}.card2-title[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:1.65em}.card2-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important}.card2-read-more[_ngcontent-%COMP%]{border-top:1px solid #d4d4d4}.card2-read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;padding:5px;font-weight:600;text-transform:uppercase}"]}),t}()},TIGJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i){_classCallCheck(this,t)}},TbkF:function(t,e,i){"use strict";i.d(e,"a",(function(){return rt}));var n=i("mrSG"),o=i("fXoL"),r=i("hwtd"),a=i("3Pt+"),c=i("xeFw"),s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"MatchPassword",value:function(t){if(t.get("password").value==t.get("confirm").value)return null;t.get("confirm").setErrors({MatchPassword:!0})}}]),t}(),l=i("bP6M"),u=i("5kjY"),d=i("m0vS"),b=i("TIGJ"),h=i("fX4n"),f=i("Wt2f"),p=i("dAii"),m=i("tk/3"),g=i("EVdn"),v=(i("uejM"),i("MkNp")),_=i("tyNb"),y=i("OL1i"),S=i("ej43"),C=i("czqF"),x=i("Dcmo"),D=i("MSSf"),V=i("2+6u"),w=i("A2Vd"),j=i("TEMH"),O=i("Xlwt"),W=i("TY1r"),M=i("SSqQ"),T=i("ofXK"),k=i("IRfi"),I=i("3uU/"),E=i("j14s"),P=["myInput"];function R(t,e){if(1&t&&(o.Wb(0,"mat-option",27),o.Mc(1),o.Vb()),2&t){var i=e.$implicit;o.qc("value",i.id_document_type),o.Db(1),o.Oc(" ",i.name," ")}}function N(t,e){1&t&&(o.Wb(0,"mat-error"),o.Mc(1," Tipo de Doc. es "),o.Wb(2,"strong"),o.Mc(3,"requerido"),o.Vb(),o.Vb())}function B(t,e){if(1&t&&(o.Wb(0,"mat-error"),o.Kc(1,N,4,0,"mat-error",10),o.Vb()),2&t){var i=o.jc(2);o.Db(1),o.qc("ngIf",i.form_third.controls.document_type.errors.required)}}function A(t,e){if(1&t&&(o.Wb(0,"mat-card",12),o.Wb(1,"span"),o.Mc(2,"Informaci\xf3n b\xe1sica del nuevo tercero"),o.Vb(),o.Rb(3,"br"),o.Rb(4,"br"),o.Wb(5,"table",13),o.Wb(6,"tr",14),o.Wb(7,"td",15),o.Wb(8,"mat-form-field",16),o.Rb(9,"input",17),o.Vb(),o.Vb(),o.Wb(10,"td",15),o.Wb(11,"mat-form-field",16),o.Wb(12,"mat-select",18),o.Kc(13,R,2,2,"mat-option",8),o.Vb(),o.Kc(14,B,2,1,"mat-error",10),o.Vb(),o.Vb(),o.Wb(15,"td",15),o.Wb(16,"mat-form-field",16),o.Rb(17,"input",19),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"span"),o.Mc(19,"Directorio"),o.Vb(),o.Wb(20,"tr",20),o.Wb(21,"td",15),o.Wb(22,"mat-form-field",16),o.Rb(23,"input",21),o.Vb(),o.Vb(),o.Wb(24,"td",15),o.Wb(25,"span"),o.Mc(26,"Pais "),o.Wb(27,"h6"),o.Mc(28),o.Vb(),o.Vb(),o.Vb(),o.Wb(29,"td",15),o.Wb(30,"mat-form-field",16),o.Rb(31,"input",22),o.Vb(),o.Vb(),o.Wb(32,"td",0),o.Wb(33,"div",23),o.Wb(34,"mat-card",24),o.Wb(35,"mat-form-field",16),o.Rb(36,"input",25),o.Vb(),o.Vb(),o.Wb(37,"mat-card",24),o.Wb(38,"mat-form-field",16),o.Rb(39,"input",26),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t){var i=o.jc();o.Db(13),o.qc("ngForOf",i.documentTypes),o.Db(1),o.qc("ngIf",i.form_third.controls.document_type.errors&&i.form_third.controls.document_type.touched),o.Db(14),o.Nc(i.form_third.value.country_th)}}function F(t,e){if(1&t&&(o.Wb(0,"mat-option",27),o.Mc(1),o.Vb()),2&t){var i=e.$implicit;o.qc("value",i.id_CITY),o.Db(1),o.Oc(" ",i.city_NAME," ")}}function q(t,e){if(1&t&&(o.Wb(0,"mat-option",27),o.Mc(1),o.Vb()),2&t){var i=e.$implicit;o.qc("value",i.id_document_type),o.Db(1),o.Oc(" ",i.name," ")}}function L(t,e){1&t&&(o.Wb(0,"td",15),o.Wb(1,"mat-form-field",16),o.Rb(2,"input",39),o.Vb(),o.Vb())}function U(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," El Campo es requerido! "),o.Vb())}function z(t,e){if(1&t&&(o.Wb(0,"div"),o.Kc(1,U,2,0,"div",51),o.Vb()),2&t){var i=o.jc(5);o.Db(1),o.qc("ngIf",i.form_auth.controls.username.errors.required)}}function Q(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," El Campo es requerido! "),o.Vb())}function K(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," El Campo debe ser mayor a 7 caracteres! "),o.Vb())}function X(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," pattern! "),o.Vb())}function H(t,e){if(1&t&&(o.Wb(0,"div"),o.Kc(1,Q,2,0,"div",51),o.Kc(2,K,2,0,"div",51),o.Kc(3,X,2,0,"div",51),o.Vb()),2&t){var i=o.jc(5);o.Db(1),o.qc("ngIf",i.form_auth.controls.password.errors.required),o.Db(1),o.qc("ngIf",i.form_auth.controls.password.errors.minlength),o.Db(1),o.qc("ngIf",i.form_auth.controls.password.errors.pattern)}}function J(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," El campo es requerido! "),o.Vb())}function G(t,e){1&t&&(o.Wb(0,"div",52),o.Mc(1," La contrase\xf1a no coincide! "),o.Vb())}function $(t,e){if(1&t&&(o.Wb(0,"div"),o.Kc(1,J,2,0,"div",51),o.Kc(2,G,2,0,"div",51),o.Vb()),2&t){var i=o.jc(5);o.Db(1),o.qc("ngIf",i.form_auth.controls.confirm.errors.required),o.Db(1),o.qc("ngIf",i.form_auth.controls.confirm.errors.MatchPassword)}}function Y(t,e){if(1&t&&(o.Wb(0,"mat-card",46),o.Wb(1,"div",23),o.Wb(2,"mat-card",24),o.Wb(3,"mat-form-field",16),o.Rb(4,"input",47),o.Vb(),o.Kc(5,z,2,1,"div",10),o.Vb(),o.Wb(6,"div",48),o.Wb(7,"mat-card",14),o.Wb(8,"mat-form-field",16),o.Rb(9,"input",49),o.Vb(),o.Kc(10,H,4,3,"div",10),o.Vb(),o.Wb(11,"mat-card",14),o.Wb(12,"mat-form-field",16),o.Rb(13,"input",50),o.Vb(),o.Kc(14,$,3,2,"div",10),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t){var i=o.jc(4);o.Db(5),o.qc("ngIf",i.form_auth.controls.username.errors&&i.form_auth.controls.username.touched),o.Db(5),o.qc("ngIf",i.form_auth.controls.password.errors&&i.form_auth.controls.password.touched),o.Db(4),o.qc("ngIf",i.form_auth.controls.confirm.errors&&i.form_auth.controls.confirm.touched)}}function Z(t,e){if(1&t&&(o.Wb(0,"mat-card",12),o.Wb(1,"div",14),o.Wb(2,"mat-card",24),o.Wb(3,"mat-form-field",16),o.Rb(4,"input",41),o.Vb(),o.Vb(),o.Wb(5,"mat-card",24),o.Wb(6,"mat-form-field",16),o.Rb(7,"input",42),o.Vb(),o.Vb(),o.Wb(8,"form",1),o.Wb(9,"td",43),o.Wb(10,"div",23),o.Wb(11,"mat-checkbox",44),o.Wb(12,"span"),o.Mc(13,"Crear credenciales?"),o.Vb(),o.Vb(),o.Kc(14,Y,15,3,"mat-card",45),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t){var i=o.jc(3);o.Db(8),o.qc("formGroup",i.form_auth),o.Db(6),o.qc("ngIf",i.form_auth.value.isCredential)}}function tt(t,e){if(1&t&&(o.Wb(0,"td",0),o.Wb(1,"div",23),o.Wb(2,"mat-checkbox",40),o.Wb(3,"span"),o.Mc(4,"Es un empleado?"),o.Vb(),o.Vb(),o.Kc(5,Z,15,2,"mat-card",2),o.Vb(),o.Vb()),2&t){var i=o.jc(2);o.Db(5),o.qc("ngIf",i.form.value.isEmployee)}}function et(t,e){if(1&t&&(o.Wb(0,"mat-card",12),o.Wb(1,"span"),o.Mc(2,"Datos para registrar a la nueva persona natural"),o.Vb(),o.Rb(3,"br"),o.Rb(4,"br"),o.Wb(5,"table",13),o.Wb(6,"tr",14),o.Wb(7,"td",15),o.Wb(8,"mat-form-field",16),o.Rb(9,"input",28),o.Vb(),o.Vb(),o.Wb(10,"td",15),o.Wb(11,"mat-form-field",16),o.Rb(12,"input",29),o.Vb(),o.Vb(),o.Wb(13,"td",15),o.Wb(14,"mat-form-field",16),o.Rb(15,"input",30),o.Vb(),o.Vb(),o.Wb(16,"td",15),o.Wb(17,"mat-form-field",16),o.Rb(18,"input",31),o.Vb(),o.Vb(),o.Wb(19,"td",15),o.Wb(20,"mat-form-field",16),o.Wb(21,"mat-select",32),o.Kc(22,q,2,2,"mat-option",8),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"td",15),o.Wb(24,"mat-form-field",16),o.Rb(25,"input",33),o.Vb(),o.Vb(),o.Kc(26,L,3,0,"td",34),o.Vb(),o.Wb(27,"span"),o.Mc(28,"Directorio"),o.Vb(),o.Wb(29,"tr",20),o.Wb(30,"td",15),o.Wb(31,"mat-form-field",16),o.Rb(32,"input",35),o.Vb(),o.Vb(),o.Wb(33,"td",15),o.Wb(34,"mat-form-field",16),o.Rb(35,"input",36),o.Vb(),o.Vb(),o.Wb(36,"td",15),o.Wb(37,"span"),o.Mc(38,"Pais "),o.Wb(39,"h6"),o.Mc(40),o.Vb(),o.Vb(),o.Vb(),o.Wb(41,"td",15),o.Wb(42,"mat-form-field",16),o.Rb(43,"input",37),o.Vb(),o.Vb(),o.Kc(44,tt,6,1,"td",38),o.Vb(),o.Vb(),o.Vb()),2&t){var i=o.jc();o.Db(22),o.qc("ngForOf",i.documentTypes),o.Db(4),o.qc("ngIf","62"==i.form.get("id_document_type_prof").value),o.Db(14),o.Nc(i.form.value.country_prof),o.Db(4),o.qc("ngIf",i.flagRedirect)}}function it(t,e){if(1&t){var i=o.Xb();o.Wb(0,"span"),o.Wb(1,"div",53),o.Wb(2,"div",54),o.Wb(3,"mat-form-field"),o.Rb(4,"input",55),o.Vb(),o.Vb(),o.Wb(5,"div",54),o.Wb(6,"mat-form-field"),o.Rb(7,"input",56),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",14),o.Wb(9,"div",54),o.Wb(10,"mat-form-field"),o.Wb(11,"input",57),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.address=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",54),o.Wb(13,"mat-form-field"),o.Wb(14,"input",58),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.phone1=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(15,"div",14),o.Wb(16,"div",54),o.Wb(17,"mat-form-field"),o.Wb(18,"input",59),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.resolucion_dian=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(19,"div",54),o.Wb(20,"mat-form-field"),o.Wb(21,"input",60),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.regimen_tributario=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"div",14),o.Wb(23,"div",54),o.Wb(24,"mat-form-field"),o.Wb(25,"input",61),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.autoretenedor=t})),o.Vb(),o.Vb(),o.Vb(),o.Wb(26,"div",54),o.Wb(27,"mat-form-field"),o.Wb(28,"input",62),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.url_logo=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(29,"div",14),o.Wb(30,"div",54),o.Wb(31,"mat-form-field"),o.Wb(32,"input",63),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.prefix_bill=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(33,"div",14),o.Wb(34,"div",54),o.Wb(35,"mat-form-field"),o.Wb(36,"input",64),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.email=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(37,"div",14),o.Wb(38,"div",54),o.Wb(39,"mat-form-field"),o.Wb(40,"input",65),o.fc("ngModelChange",(function(t){return o.Bc(i),o.jc().legalData.notes=t})),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){var n=o.jc();o.Db(11),o.qc("ngModel",n.legalData.address),o.Db(3),o.qc("ngModel",n.legalData.phone1),o.Db(4),o.qc("ngModel",n.legalData.resolucion_dian),o.Db(3),o.qc("ngModel",n.legalData.regimen_tributario),o.Db(4),o.qc("ngModel",n.legalData.autoretenedor),o.Db(3),o.qc("ngModel",n.legalData.url_logo),o.Db(4),o.qc("ngModel",n.legalData.prefix_bill),o.Db(4),o.qc("ngModel",n.legalData.email),o.Db(4),o.qc("ngModel",n.legalData.notes)}}var nt,ot=g,rt=((nt=function(){function t(e,i,n,r,a,s,g,v){_classCallCheck(this,t),this.http=e,this.router=i,this.route=n,this.thirdService=r,this.authenticationService=a,this.docTypeService=s,this.fb=g,this.locStorage=v,this.saveThird=new o.n,this.flagRedirect=!0,this.cityList=[],this.citySelText="",this.citySel=String(this.locStorage.getIdCity()),this.headers=new m.d({"Content-Type":"application/json"}),this.CURRENT_ID_THIRD=0,this.CURRENT_ID_THIRD_PATHER=0,this.isEmployee=!0,this.isNaturalPerson=!1,this.isPersonThird=!0,this.isCredential=!0,this.checked=!0,this.disabledNatural=!1,this.isLegalData=!1,this.legalData={resolucion_dian:"",regimen_tributario:"",autoretenedor:"",url_logo:"!232",id_city:11001,id_country:169,address:"",phone1:null,email:"",prefix_bill:"",notes:""},this.cityList2=[],this.BirthDate=" ",this.idThirdResponse=0,this.headers=new m.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),localStorage.getItem("currentUser"),this.mails=[],this.phones=[],this.commonThird=new h.a(null,null,null),this.employee=new d.a(null,this.commonThird),this.userThirdDTO=new b.a(null,this.commonThird),this.commonBasicInfo=new f.a(null,null,null,null),this.directory=new u.a(null,null,null,null,this.commonThird,this.mails,this.phones),this.person=new l.a(null,null,null,null,null,this.commonBasicInfo,this.commonThird,this.directory,this.employee,this.userThirdDTO),this.thirdDTO=new c.a(null,null,this.commonBasicInfo,this.commonThird,this.person,this.directory),this.usuarioDTO=new p.a(null,null,null,[]),this.CURRENT_ID_THIRD=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.mainclassref=this.mainclassref_input,this.getGenderList(),this.createControls(),this.getCitylist(),this.locStorage.getSession()?(this.token=this.locStorage.getToken(),this.CURRENT_ID_THIRD_PATHER=this.token.id_third_father,this.route.queryParams.subscribe((function(e){t.getDocumentType(),t.CURRENT_ID_THIRD=e.father,null==t.CURRENT_ID_THIRD||t.CURRENT_ID_THIRD<=0||(t.isNaturalPerson=!0,t.disabledNatural=!0),t.loadData()}))):this.Login()}},{key:"getGenderList",value:function(){var t=this;this.http.get(v.a.tercero+"/thirds/genders",{headers:this.headers}).subscribe((function(e){console.log(e),t.GenderList=e,t.SelectedGen=e[0].id_GENERO}))}},{key:"getCitylist",value:function(){var t=this;this.http.get(v.a.tercero+"/thirds/cities",{headers:this.headers}).subscribe((function(e){t.cityList=e,t.cityList2=e}))}},{key:"setTextCity",value:function(t){var e=this;this.cityList.forEach((function(i){i.id_CITY==t&&(e.citySelText=i.city_NAME)}))}},{key:"search",value:function(t){console.log("query",t);var e=this.select(t);this.cityList2=e}},{key:"select",value:function(t){var e,i=[],n=_createForOfIteratorHelper(this.cityList);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.city_NAME.toLowerCase().indexOf(t)>-1&&i.push(o)}}catch(r){n.e(r)}finally{n.f()}return i}},{key:"getDocumentType",value:function(){var t=this;this.docTypeService.getDocumentTypeList().subscribe((function(e){return t.documentTypes=e}),(function(t){return Object(r.a)(t)}),(function(){}))}},{key:"createControls",value:function(){this.form=this.fb.group({first_name:["",a.F.compose([a.F.required])],second_name:["",a.F.compose([])],first_lastname:["",a.F.compose([a.F.required])],second_lastname:["",a.F.compose([])],birthday:["",a.F.compose([a.F.required])],fullname_prof:["",a.F.compose([a.F.required])],id_document_type_prof:["",a.F.compose([a.F.required])],verification_digit:["",a.F.compose([a.F.required])],document_number_prof:["",a.F.compose([a.F.required])],img_prof:["",a.F.compose([a.F.required])],state_prof:["",a.F.compose([a.F.required])],address_prof:["",a.F.compose([a.F.required])],country_prof:["",a.F.compose([a.F.required])],city_prof:["",a.F.compose([a.F.required])],webpage_prof:["",a.F.compose([a.F.required])],state_dir_prof:["",a.F.compose([a.F.required])],phone_prof:["",a.F.compose([a.F.required])],priority_pohe_prof:["",a.F.compose([a.F.required])],state_pohe_prof:["",a.F.compose([a.F.required])],mail_prof:["",a.F.compose([])],priority_mail_prof:["",a.F.compose([a.F.required])],state_mail_prof:["",a.F.compose([a.F.required])],salary:["",a.F.compose([a.F.required])],state_em:["",a.F.compose([a.F.required])],isNaturalPerson:[!1,a.F.compose([])],isEmployee:[!1,a.F.compose([])]}),this.form_auth=this.fb.group({id_rol:["",a.F.compose([])],username:[this.form.value.mail_prof,a.F.compose([a.F.required])],password:["",a.F.compose([a.F.required,a.F.minLength(8),a.F.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])([A-Za-z0-9]|[^ ]){8,15}$")])],confirm:["",a.F.compose([a.F.required])],isCredential:[!1,a.F.compose([])]},{validator:s.MatchPassword}),this.form_third=this.fb.group({fullname:["",a.F.compose([a.F.required])],document_type:["",a.F.compose([a.F.required])],document_number:["",a.F.compose([a.F.required])],img:["",a.F.compose([a.F.required])],state:["",a.F.compose([a.F.required])],address_th:["",a.F.compose([a.F.required])],country_th:["",a.F.compose([a.F.required])],city_th:["",a.F.compose([a.F.required])],webpage_th:["",a.F.compose([a.F.required])],state_dir_th:["",a.F.compose([a.F.required])],phone_th:["",a.F.compose([a.F.required])],priority_pohe_th:["",a.F.compose([a.F.required])],state_pohe_th:["",a.F.compose([a.F.required])],mail_th:["",a.F.compose([a.F.required])],priority_mail:["",a.F.compose([a.F.required])],state_mail:["",a.F.compose([a.F.required])]})}},{key:"loadData",value:function(){this.form_third.patchValue({country_th:"Colombia",city_th:"Bogota"}),this.form.patchValue({country_prof:"Colombia",city_prof:"Bogota"})}},{key:"resetForm",value:function(){this.showNotification("top","center",3,"<h3>Se ha creado la empresa <b>CORRECTAMENTE</b></h3> ","info"),this.form_third.reset(),this.form.reset(),this.form_auth.reset()}},{key:"createNewThird",value:function(){var t,e=this;if(this.isLegalData&&this.thirdService.postLegalData(this.legalData).subscribe((function(t){Object(r.a)(t)})),this.isNaturalPerson)if("true"!=localStorage.getItem("SesionExpirada")&&alert("PERSONA"),this.person.first_name=this.form.value.first_name,this.person.second_name=this.form.value.second_name,this.person.first_lastname=this.form.value.first_lastname,this.person.second_lastname=this.form.value.second_lastname,this.person.birthday=this.form.value.birthday,this.commonBasicInfo.fullname=this.person.first_name+" "+this.person.second_name+" "+this.person.first_lastname+" "+this.person.second_lastname,this.commonBasicInfo.id_document_type=this.form.value.id_document_type_prof,this.commonBasicInfo.document_number=this.form.value.document_number_prof,this.person.info=this.commonBasicInfo,this.commonThird.state=1,this.person.state=this.commonThird,Object(r.a)(this.person),this.directory.address=this.form.value.address_prof,this.directory.country=this.form.value.country_prof,this.directory.city=this.citySelText,this.directory.webpage=this.form.value.webpage_prof,this.phones.push({phone:this.form.value.phone_prof,priority:1,state:this.commonThird}),this.directory.phones=this.phones,Object(r.a)("isEmployee "+this.isEmployee),this.form.value.isEmployee)if(this.commonThird.state=1,this.employee.salary=this.form.value.salary,this.employee.state=this.commonThird,this.person.employee=this.employee,this.form_auth.value.isCredential){var i=this.form_auth.value.username,n=this.form_auth.value.password;this.usuarioDTO.id_aplicacion=this.locStorage.getIdApplication(),this.usuarioDTO.usuario=i,this.usuarioDTO.clave=n,this.usuarioDTO.id_roles=[21],this.authenticationService.postUserAUTH(this.usuarioDTO).subscribe((function(n){n?(e.mails=[{mail:i,priority:1,state:e.commonThird}],e.directory.mails=e.mails,t=n+"",e.userThirdDTO.UUID=t,e.userThirdDTO.state=e.commonThird,e.person.UUID=e.userThirdDTO,e.thirdDTO.id_third_father=e.CURRENT_ID_THIRD>0?e.CURRENT_ID_THIRD:e.CURRENT_ID_THIRD_PATHER,e.thirdDTO.id_third_type=23,e.thirdDTO.state=e.commonThird,e.person.directory=e.directory,e.thirdDTO.profile=e.person,Object(r.a)("this is dto",JSON.stringify(e.thirdDTO)),e.thirdService.postThird(e.thirdDTO).subscribe((function(t){return t.hasOwnProperty("third_id")?(e.saveThird.emit({id:t.third_id,data:e.thirdDTO}),void(e.flagRedirect&&(e.resetForm(),e.mainclassref.closeThird(),e.http.put(v.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+e.citySel," ",{headers:e.headers}).subscribe((function(t){Object(r.a)("1: ",t),e.mainclassref.closeThird()}))))):void 0}))):"true"!=localStorage.getItem("SesionExpirada")&&alert("Usuario no creado")}))}else this.thirdService.postThird(this.thirdDTO).subscribe((function(t){return e.idThirdResponse=t.third_id,t.hasOwnProperty("third_id")?(e.saveThird.emit({id:t.third_id,data:e.thirdDTO}),void(e.flagRedirect&&(e.resetForm(),e.goBack(),e.http.put(v.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+e.citySel," ",{headers:e.headers}).subscribe((function(t){Object(r.a)("2: ",t)}))))):void 0}));else Object(r.a)("ENTRO POR AQUI:::"),this.thirdDTO.id_third_father=this.CURRENT_ID_THIRD>0?this.CURRENT_ID_THIRD:this.CURRENT_ID_THIRD_PATHER,this.thirdDTO.id_third_type=23,this.thirdDTO.state=this.commonThird,this.person.directory=this.directory,this.thirdDTO.profile=this.person,Object(r.a)(this.thirdDTO),this.thirdService.postThird(this.thirdDTO).subscribe((function(t){return t.hasOwnProperty("third_id")?(e.saveThird.emit({id:t.third_id,data:e.thirdDTO}),void(e.flagRedirect&&(e.resetForm(),e.goBack(),e.http.put(v.a.tercero+"/thirds/city?id_third="+t.third_id+"&id_city="+e.citySel," ",{headers:e.headers}).subscribe((function(t){Object(r.a)("3: ",t)}))))):void 0}));this.isNaturalPerson||(this.commonThird.state=1,this.commonBasicInfo.fullname=this.form_third.value.fullname,this.commonBasicInfo.id_document_type=this.form_third.value.document_type,this.commonBasicInfo.document_number=this.form_third.value.document_number,this.directory.address=this.form_third.value.address_th,this.directory.country=this.form_third.value.country_th,this.directory.city=this.citySelText,this.directory.webpage=this.form_third.value.webpage_th,this.directory.state=this.commonThird,this.phones.push({phone:this.form_third.value.phone_th,priority:1,state:this.commonThird}),this.mails.push({mail:this.form_third.value.mail_th,priority:1,state:this.commonThird}),this.directory.phones=this.phones,this.directory.mails=this.mails,this.thirdDTO.directory=this.directory,this.thirdDTO.id_third_type=23,this.thirdDTO.info=this.commonBasicInfo,this.thirdDTO.state=this.commonThird,Object(r.a)("THIS IS THIRD DTO: ",JSON.stringify(this.thirdDTO)),"62"==this.form.get("id_document_type_prof").value?(console.log("DOCUMENT NUMBER IS: "+this.thirdDTO.profile.info.document_number+"-"+this.form.get("verification_digit").value),Object(r.a)(v.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"-"+this.form.get("verification_digit").value+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date),this.http.post(v.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"-"+this.form.get("verification_digit").value+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date,{},{headers:this.headers}).subscribe((function(t){Object(r.a)("city: ",e.citySel),"0"==t||0==t?e.showNotification("top","center",3,"<h3>Se presento un error al crear la Empresa</h3> ","danger"):(e.idThirdResponse=t,e.showNotification("top","center",3,"<h3>Empresa creada exitosamente</h3> ","info"),e.mainclassref.closeThird())}))):(Object(r.a)(v.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date),this.http.post(v.a.tercero+"/thirds/newThird?typesa=E&nombre1="+this.thirdDTO.info.fullname+"&nombre2=&nombre3=&nombre4=&doctype="+this.thirdDTO.info.id_document_type+"&docnumber="+this.thirdDTO.info.document_number+"&addres="+this.thirdDTO.directory.address.split("#").join("_")+"&id_city="+this.citySel+"&telefono="+this.thirdDTO.directory.phones[0].phone+"&correo="+this.thirdDTO.directory.mails[0].mail+"&idgenero="+this.SelectedGen+"&fechanacimiento="+new Date,{},{headers:this.headers}).subscribe((function(t){Object(r.a)("city: ",e.citySel),"0"==t?e.showNotification("top","center",3,"<h3>Se presento un error al crear la Empresa</h3> ","danger"):(e.idThirdResponse=t,e.showNotification("top","center",3,"<h3>Empresa creada exitosamente</h3> ","info"),e.mainclassref.closeThird())}))))}},{key:"showNotification",value:function(t,e,i,n,o){Math.floor(4*Math.random()+1),ot.notify({icon:"notifications",message:n||"<b>Noficaci\xf3n automatica </b>"},{type:o||["","info","success","warning","danger"][i||2],timer:200,placement:{from:t,align:e}})}},{key:"goBack",value:function(){this.router.navigate(["/dashboard/business/third/list"])}},{key:"Login",value:function(){this.router.navigate(["/auth"])}},{key:"Logout",value:function(){this.locStorage.cleanSession(),this.goIndex()}},{key:"goIndex",value:function(){this.router.navigate(["/"])}},{key:"goDashboard",value:function(){this.router.navigate(["/dashboard"])}},{key:"function1",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.elementRef.nativeElement.focus();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"function2",value:function(){this.elementRef.nativeElement.select()}},{key:"clickOnCitySel",value:function(){var t=this;this.function1().then((function(e){setTimeout((function(){t.elementRef.nativeElement.select()}),25)}))}}]),t}()).\u0275fac=function(t){return new(t||nt)(o.Qb(m.b),o.Qb(_.b),o.Qb(_.a),o.Qb(y.a),o.Qb(S.a),o.Qb(C.a),o.Qb(a.f),o.Qb(x.a))},nt.\u0275cmp=o.Kb({type:nt,selectors:[["app-new-third"]],viewQuery:function(t,e){var i;1&t&&o.Tc(P,!0),2&t&&o.xc(i=o.gc())&&(e.elementRef=i.first)},inputs:{flagRedirect:"flagRedirect",mainclassref_input:"mainclassref_input"},outputs:{saveThird:"saveThird"},decls:24,vars:10,consts:[[1,"col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["novalidate","",3,"formGroup"],["class","field-full-width ",4,"ngIf"],[1,"col",3,"click"],[3,"click"],["placeholder","Ciudad","name","first",3,"ngModel","ngModelChange","selectionChange","click"],["matInput","","focused","'true'","type","text","autocomplete","off","placeholder","search",1,"myInput",3,"keyup"],["myInput",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","hidden","ngModelChange"],[4,"ngIf"],["mat-fab","","color","primary",1,"tky-right",3,"disabled","click"],[1,"field-full-width"],["cellspacing","0",1,"field-full-width","center-text","text-center"],[1,"row"],[1,"col-sm-12","col-mat-4","col-lg-3","col-xl-3"],[1,"example-full-width"],["matInput","","placeholder","Nombre","formControlName","fullname"],["placeholder","Tipo de Documento","formControlName","document_type"],["matInput","","placeholder","Numero de Documento","formControlName","document_number"],[1,"field-full-width","row"],["matInput","","placeholder","Direcci\xf3n","formControlName","address_th"],["matInput","","placeholder","Pagina Web","formControlName","webpage_th"],[1,"example-full-width","row"],[1,"col-sm-12","col-mat-6","col-lg-6","col-xl-6"],["matInput","","placeholder","Telefono","formControlName","phone_th"],["matInput","","placeholder","Mail","formControlName","mail_th"],[3,"value"],["matInput","","placeholder","Primer Nombre","formControlName","first_name"],["matInput","","placeholder","Segundo Nombre","formControlName","second_name"],["matInput","","placeholder","Primer apellido","formControlName","first_lastname"],["matInput","","placeholder","Segundo Apellido","formControlName","second_lastname"],["placeholder","Tipo de Documento","formControlName","id_document_type_prof"],["matInput","","placeholder","N\xfamero de documento","formControlName","document_number_prof"],["class"," col-sm-12\tcol-mat-4\tcol-lg-3 col-xl-3 ",4,"ngIf"],["matInput","","placeholder","Direcci\xf3n","formControlName","address_prof"],["matInput","","placeholder","telefono","formControlName","phone_prof"],["matInput","","placeholder","Ciudad","formControlName","city_prof"],["class"," col-sm-12\tcol-mat-12\tcol-lg-12 col-xl-12 ",4,"ngIf"],["matInput","","placeholder","Digito de Verificacion","formControlName","verification_digit"],["formControlName","isEmployee","checked","true",1,"tky-right","example-margin"],["matInput","","placeholder","Email (opcional)","formControlName","mail_prof"],["matInput","","placeholder","Salario","formControlName","salary"],[1,"example-full-width","col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["formControlName","isCredential",1,"tky-right","example-margin"],["class","field-full-width col-sm-12\tcol-mat-12\tcol-lg-12 col-xl-12",4,"ngIf"],[1,"field-full-width","col-sm-12","col-mat-12","col-lg-12","col-xl-12"],["matInput","","placeholder","Email","formControlName","username"],[1,"example-full-width","col-sm-12","col-mat-6","col-lg-6","col-xl-6"],["matInput","","placeholder","Contrase\xf1a","formControlName","password"],["matInput","","placeholder","Confirmar contrase\xf1a","formControlName","confirm"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[1,"row",2,"margin-top","10px"],[1,"col"],["matInput","","placeholder","Ciudad",2,"font-size","1.5em"],["matInput","","placeholder","Pa\xeds",2,"font-size","1.5em"],["matInput","","placeholder","Direcci\xf3n",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Tel\xe9fono",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Resoluci\xf3n DIAN",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","R\xe9gimen Tributario",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Autoretenedor",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","URL del logo",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Prefijo de factura",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Correo electronico",2,"font-size","1.5em",3,"ngModel","ngModelChange"],["matInput","","placeholder","Notas",2,"font-size","1.5em",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"mat-card-title"),o.Mc(2,"Registrar una nueva Empresa"),o.Vb(),o.Wb(3,"mat-card-content"),o.Wb(4,"form"),o.Wb(5,"form",1),o.Kc(6,A,40,3,"mat-card",2),o.Vb(),o.Wb(7,"div",3),o.fc("click",(function(){return e.clickOnCitySel()})),o.Wb(8,"mat-form-field",4),o.fc("click",(function(){return e.clickOnCitySel()})),o.Wb(9,"mat-select",5),o.fc("ngModelChange",(function(t){return e.citySel=t}))("selectionChange",(function(){return e.setTextCity(e.citySel)}))("click",(function(){return e.clickOnCitySel()})),o.Wb(10,"input",6,7),o.fc("keyup",(function(t){return e.search(t.target.value)})),o.Vb(),o.Rb(12,"mat-divider"),o.Kc(13,F,2,2,"mat-option",8),o.Vb(),o.Vb(),o.Vb(),o.Rb(14,"h1"),o.Wb(15,"form",1),o.Kc(16,et,45,4,"mat-card",2),o.Vb(),o.Rb(17,"h1"),o.Vb(),o.Vb(),o.Wb(18,"mat-slide-toggle",9),o.fc("ngModelChange",(function(t){return e.isLegalData=t})),o.Mc(19," Crear Datos Legales "),o.Vb(),o.Kc(20,it,41,9,"span",10),o.Wb(21,"button",11),o.fc("click",(function(){return e.createNewThird()})),o.Wb(22,"mat-icon"),o.Mc(23,"save"),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(5),o.qc("formGroup",e.form_third),o.Db(1),o.qc("ngIf",!e.isNaturalPerson),o.Db(3),o.qc("ngModel",e.citySel),o.Db(4),o.qc("ngForOf",e.cityList2),o.Db(2),o.qc("formGroup",e.form),o.Db(1),o.qc("ngIf",e.isNaturalPerson),o.Db(2),o.qc("ngModel",e.isLegalData)("hidden",!0),o.Db(2),o.qc("ngIf",e.isLegalData),o.Db(1),o.qc("disabled",!e.form_auth.valid&&e.isNaturalPerson&&e.form_auth.value.isCredential&&e.form.value.isEmployee))},directives:[D.a,D.m,D.d,a.H,a.s,a.t,a.j,T.t,k.b,V.a,a.r,a.u,w.b,I.a,T.s,j.a,O.b,W.a,a.c,a.i,E.p,k.a,M.a],styles:[".example-form[_ngcontent-%COMP%]{mn-width:150px;max-width:500px;width:100%}.fill-space[_ngcontent-%COMP%]{flex:1 1 auto}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.mat-card[_ngcontent-%COMP%]{box-shadow:none!important}.myInput[_ngcontent-%COMP%]{height:50px!important;padding:10px!important}"]}),nt)},Wt2f:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n,o){_classCallCheck(this,t)}},a9bD:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i("LcAk"),o=i("hwtd"),r=i("EHX2"),a=i("MkNp"),c=i("fXoL"),s=i("tk/3"),l=i("Dcmo"),u=i("MSSf"),d=i("Xlwt"),b=i("ofXK");function h(t,e){if(1&t){var i=c.Xb();c.Wb(0,"tr"),c.Wb(1,"td"),c.Mc(2),c.Vb(),c.Wb(3,"td"),c.Mc(4),c.Vb(),c.Wb(5,"td"),c.Mc(6),c.Vb(),c.Wb(7,"td"),c.Mc(8),c.Vb(),c.Wb(9,"td"),c.Wb(10,"button",9),c.fc("click",(function(){c.Bc(i);var t=e.$implicit;return c.jc().closePlanilla(t)})),c.Mc(11,"Cerrar"),c.Vb(),c.Vb(),c.Vb()}if(2&t){var n=e.$implicit;c.Db(2),c.Nc(n.fecha_INICIO),c.Db(2),c.Nc(n.domiciliario),c.Db(2),c.Nc(n.num_PLANILLA),c.Db(2),c.Nc(n.status)}}var f=function(){var t=function(){function t(e,i,n,o,r){_classCallCheck(this,t),this.data=e,this.httpClient=i,this.locStorage=n,this.dialogRef=o,this.dialog=r}return _createClass(t,[{key:"ngOnInit",value:function(){Object(o.a)("I NEED THIS: ITS DATAAAS:"),Object(o.a)(this.data.resp),this.list=this.data.resp}},{key:"closePlanilla",value:function(t){var e=this;this.dialog.open(r.a,{width:"120vw",height:"80vh",data:{idPlanilla:t.id_PLANILLA,blockedObs:!1,myStateId:809}}).afterClosed().subscribe((function(t){e.httpClient.get(a.a.facturacion+"/pedidos/getPlanillasData/cierreCaja?id_cierre_caja="+e.data.id_cierre_caja+"&status=C").subscribe((function(t){Object(o.a)("IM IN"),e.list=t,t.length<=0&&e.dialogRef.close()}))}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Qb(n.a),c.Qb(s.b),c.Qb(l.a),c.Qb(n.h),c.Qb(n.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-cerrar-planillas-caja"]],decls:21,vars:1,consts:[[2,"height","100%","width","100%","padding","0"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","20px"],[2,"display","flex"],[1,"card-content","table-responsive"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],["mat-dialog-close","","mat-stroked-button","","color","primary","type","submit",2,"width","100%",3,"click"],["mat-stroked-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(c.Wb(0,"mat-card",0),c.Wb(1,"mat-card-header",1),c.Wb(2,"mat-card-title",2),c.Mc(3,"Planilla"),c.Vb(),c.Vb(),c.Wb(4,"mat-card-content",3),c.Wb(5,"div",4),c.Wb(6,"div",5),c.Wb(7,"table",6),c.Wb(8,"tr"),c.Wb(9,"th"),c.Mc(10,"Fecha de Inicio"),c.Vb(),c.Wb(11,"th"),c.Mc(12,"Domiciliario"),c.Vb(),c.Wb(13,"th"),c.Mc(14,"Numero de Planilla"),c.Vb(),c.Wb(15,"th"),c.Mc(16,"Estado"),c.Vb(),c.Rb(17,"th"),c.Vb(),c.Kc(18,h,12,4,"tr",7),c.Vb(),c.Vb(),c.Vb(),c.Wb(19,"button",8),c.fc("click",(function(){return e.close()})),c.Mc(20,"Cerrar Ventana"),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Db(18),c.qc("ngForOf",e.list))},directives:[u.a,u.f,u.m,u.d,b.s,d.b,n.d],styles:[""]}),t}()},bP6M:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n,o,r,a,c,s,l,u){_classCallCheck(this,t)}},cUZ2:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("MkNp"),o=i("fXoL"),r=i("ktqI"),a=i("Dcmo"),c=i("tk/3"),s=i("LcAk"),l=i("2+6u"),u=i("Xlwt"),d=i("IRfi"),b=i("3Pt+"),h=i("ofXK"),f=i("j14s");function p(t,e){if(1&t&&(o.Wb(0,"mat-option",10),o.Mc(1),o.Vb()),2&t){var i=e.$implicit;o.qc("value",i.id_CAJA),o.Db(1),o.Pc(" ",i.store," - ",i.caja," ")}}function m(t,e){if(1&t){var i=o.Xb();o.Wb(0,"button",11),o.fc("click",(function(){return o.Bc(i),o.jc().cancel()})),o.Mc(1,"Salir sin abrir Caja"),o.Vb()}}var g=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.service=e,this.locStorage=i,this.httpClient=n,this.dialogRef=o,this.stores=[],this.doubleclick=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.rol=this.locStorage.getRol()[0].id_rol,this.httpClient.get(n.a.cierreCaja+"/close/myboxes?id_person="+this.locStorage.getPerson().id_person).subscribe((function(e){e.forEach((function(e){t.httpClient.get(n.a.cierreCaja+"/close/isopen?idcaja="+e.id_CAJA).subscribe((function(i){i>0||(t.stores.push(e),t.SelectedStore=e.id_CAJA)}))}))}))}},{key:"open",value:function(){this.dialogRef.close({logout:!1,open:!0,idcaja:this.SelectedStore})}},{key:"cancel",value:function(){this.dialogRef.close({logout:!1,open:!1,idcaja:this.SelectedStore})}},{key:"logout",value:function(){this.doubleclick=!0,this.dialogRef.close({logout:!0,open:!1,idcaja:this.SelectedStore})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.a),o.Qb(a.a),o.Qb(c.b),o.Qb(s.h))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-selectbox"]],decls:20,vars:5,consts:[[1,"card","card-nav-tabs"],[1,"card-header","card-header-danger",2,"background-color","rgb(5, 53, 107)"],[1,"title"],[1,"row",2,"text-align","center","margin-top","20px","margin-bottom","20px"],[1,"col-12"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["mat-stroked-button","","color","primary","type","button",3,"click",4,"ngIf"],[3,"value"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"h4",2),o.Mc(3,"Selecciona la caja que quieres abrir"),o.Vb(),o.Vb(),o.Wb(4,"div",3),o.Wb(5,"div",4),o.Wb(6,"mat-form-field"),o.Wb(7,"mat-label"),o.Mc(8,"Seleccione la Caja a abrir"),o.Vb(),o.Wb(9,"mat-select",5),o.fc("ngModelChange",(function(t){return e.SelectedStore=t})),o.Kc(10,p,2,3,"mat-option",6),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div",3),o.Wb(12,"div",7),o.Wb(13,"button",8),o.fc("click",(function(){return e.open()})),o.Mc(14,"Abrir esta caja"),o.Vb(),o.Vb(),o.Wb(15,"div",7),o.Kc(16,m,2,0,"button",9),o.Vb(),o.Wb(17,"div",7),o.Wb(18,"button",8),o.fc("click",(function(){return e.logout()})),o.Mc(19,"Cerrar sesion"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(9),o.qc("ngModel",e.SelectedStore),o.Db(1),o.qc("ngForOf",e.stores),o.Db(3),o.qc("disabled",!(e.stores.length>0)),o.Db(3),o.qc("ngIf",e.locStorage.getMenu().length>2),o.Db(2),o.qc("disabled",e.doubleclick))},directives:[d.b,d.f,l.a,b.r,b.u,h.s,u.b,h.t,f.p],styles:[""]}),t}()},czqF:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("Cfvw"),o=i("HDdC"),r=i("MkNp"),a=i("tk/3"),c=i("fXoL"),s=i("Dcmo"),l=function(){var t=function(){function t(e,i){var o=this;_classCallCheck(this,t),this.http=e,this.locStorage=i,this.api_uri=r.a.tercero+"/documents-types",this.headers=new a.d({"Content-Type":"application/json"}),this.getDocumentTypeList=function(){var t=new Promise((function(t,e){o.http.get(o.api_uri,o.options).subscribe((function(e){t(e)}),(function(t){o.handleError(t),e(t)}))}));return Object(n.a)(t)},this.headers=new a.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()}),this.options={headers:this.headers}}return _createClass(t,[{key:"handleError",value:function(t){var e;if(t instanceof Response){var i=t.json()||"",n=i.error||JSON.stringify(i);e="".concat(t.status," - ").concat(t.statusText||""," ").concat(n)}else e=t.message?t.message:t.toString();return"true"!=localStorage.getItem("SesionExpirada")&&alert(e),o.a.throw(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(a.b),c.bc(s.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},dAii:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n,o){_classCallCheck(this,t)}},fDUG:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),o=i("hwtd"),r=i("tk/3"),a=i("Cfvw"),c=i("MkNp"),s=i("Dcmo"),l=function(){var t=function(){function t(e,i){var s=this;_classCallCheck(this,t),this.http=e,this.locStorage=i,this.api_uri_bill=c.a.facturacion+"/billing",this.api_uri_caja=c.a.cierreCaja+"/close",this.api_uri_caja_detail=c.a.cierreCaja+"/detail-close",this.api_uri_inv=c.a.tienda+"/categories2",this.api_uri_products=c.a.tienda+"/products2",this.api_uri_brand=c.a.tienda+"/mun",this.api_uri_store=c.a.tienda+"/store",this.invokeFirstComponentFunction=new n.n,this.headers=new r.d({"Content-Type":"application/json"}),this.getBillResource=function(e,i,n,o,c,l,u,d,b,h,f,p,m,g,v,_,y){var S=new r.e,C=[];C.push(["id_bill",i?""+i:null]),C.push(["id_bill_father",n?""+n:null]),C.push(["id_third_employee",o?""+o:null]),C.push(["id_third",c?""+c:null]),C.push(["id_payment_state",l?""+l:null]),C.push(["id_bill_state",u?""+u:null]),C.push(["id_bill_type",d?""+d:null]),C.push(["consecutive",b?""+b:null]),C.push(["purchase_date",h?""+h:null]),C.push(["subtotal",f?""+f:null]),C.push(["tax",p?""+p:null]),C.push(["discount",m?""+m:null]),C.push(["totalprice",g?""+g:null]),C.push(["id_state_bill",v?""+v:null]),C.push(["state_bill",e?""+e:null]),C.push(["creation_bill",_?""+_:null]),C.push(["update_bill",y?""+y:null]);for(var x=0;x<C.length;x++)null!=C[x][1]&&(S=S.append(C[x][0],C[x][1]));var D=new Promise((function(e,i){s.http.get(s.api_uri_bill+"/details",{headers:s.headers,params:S}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(D)},this.getBillDetailsResource=function(e,i,n,o,c,l,u,d,b,h,f,p,m,g,v,_,y){var S=new r.e,C=[];C.push(["id_bill",i?""+i:null]),C.push(["id_bill_father",n?""+n:null]),C.push(["id_third_employee",o?""+o:null]),C.push(["id_third",c?""+c:null]),C.push(["id_payment_state",l?""+l:null]),C.push(["id_bill_state",u?""+u:null]),C.push(["id_bill_type",d?""+d:null]),C.push(["consecutive",b?""+b:null]),C.push(["purchase_date",h?""+h:null]),C.push(["subtotal",f?""+f:null]),C.push(["tax",p?""+p:null]),C.push(["discount",m?""+m:null]),C.push(["totalprice",g?""+g:null]),C.push(["id_state_bill",v?""+v:null]),C.push(["state_bill",e?""+e:null]),C.push(["creation_bill",_?""+_:null]),C.push(["update_bill",y?""+y:null]);for(var x=0;x<C.length;x++)null!=C[x][1]&&(S=S.append(C[x][0],C[x][1]));var D=new Promise((function(e,i){s.http.get(s.api_uri_bill,{headers:s.headers,params:S}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(D)},this.getBillCompleteResource=function(e,i,n,o,c,l,u,d,b,h,f,p,m,g,v,_,y){var S=new r.e,C=[];C.push(["id_bill",i?""+i:null]),C.push(["id_bill_father",n?""+n:null]),C.push(["id_third_employee",o?""+o:null]),C.push(["id_third",c?""+c:null]),C.push(["id_payment_state",l?""+l:null]),C.push(["id_bill_state",u?""+u:null]),C.push(["id_bill_type",d?""+d:null]),C.push(["consecutive",b?""+b:null]),C.push(["purchase_date",h?""+h:null]),C.push(["subtotal",f?""+f:null]),C.push(["tax",p?""+p:null]),C.push(["discount",m?""+m:null]),C.push(["totalprice",g?""+g:null]),C.push(["id_state_bill",v?""+v:null]),C.push(["state_bill",e?""+e:null]),C.push(["creation_bill",_?""+_:null]),C.push(["update_bill",y?""+y:null]);for(var x=0;x<C.length;x++)null!=C[x][1]&&(S=S.append(C[x][0],C[x][1]));var D=new Promise((function(e,i){s.http.get(s.api_uri_bill+"/completes",{headers:s.headers,params:S}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(D)},this.getBillCompleteDeatilsResource=function(e,i,n,o,c,l,u,d,b,h,f,p,m,g,v,_,y){var S=new r.e,C=[];C.push(["id_bill",i?""+i:null]),C.push(["id_bill_father",n?""+n:null]),C.push(["id_third_employee",o?""+o:null]),C.push(["id_third",c?""+c:null]),C.push(["id_payment_state",l?""+l:null]),C.push(["id_bill_state",u?""+u:null]),C.push(["id_bill_type",d?""+d:null]),C.push(["consecutive",b?""+b:null]),C.push(["purchase_date",h?""+h:null]),C.push(["subtotal",f?""+f:null]),C.push(["tax",p?""+p:null]),C.push(["discount",m?""+m:null]),C.push(["totalprice",g?""+g:null]),C.push(["id_state_bill",v?""+v:null]),C.push(["state_bill",e?""+e:null]),C.push(["creation_bill",_?""+_:null]),C.push(["update_bill",y?""+y:null]);for(var x=0;x<C.length;x++)null!=C[x][1]&&(S=S.append(C[x][0],C[x][1]));var D=new Promise((function(e,i){s.http.get(s.api_uri_bill+"/completes/details",{headers:s.headers,params:S}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(D)},this.getDetailsById=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_caja_detail+"?id_cierre_caja="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postPaymentDetail=function(e,i){var n=new r.e;null!=i&&(n=n.append("id_bill",i));var o=new Promise((function(i,o){s.http.post(c.a.facturacion+"/payments-details",e,{headers:s.headers,params:n}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),o(null)}))}));return Object(a.a)(o)},this.getDirectoryById=function(e){var i=new r.e;null!=e&&(i=i.append("id_directory",e));var n=new Promise((function(e,n){s.http.get(c.a.tercero+"/directories",{headers:s.headers,params:i}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(n)},this.postBillResource=function(e,i){Object(o.a)("this is my body: ",e);var n=new r.e;1==i&&null!=String(s.locStorage.getIdCaja())&&(n=n.append("id_caja",String(s.locStorage.getIdCaja())));var l=new Promise((function(i,o){s.http.post(c.a.facturacion+"/billing",e,{headers:s.headers,params:n}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),o(null)}))}));return Object(a.a)(l)},this.putInventoryDetail=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_bill+"/"+e,i,{headers:s.headers}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(null)}))}));return Object(a.a)(n)},this.deleteInventoryDetail=function(e,i){var n=new Promise((function(i,n){s.http.delete(s.api_uri_bill+"/"+e,{headers:s.headers}).subscribe((function(t){i(!0)}),(function(e){t.handleError(e),n(!1)}))}));return Object(a.a)(n)},this.getCajaByIdStatus=function(e){var i=new Promise((function(i,n){s.http.get(c.a.cierreCaja+"/close/boxes?id_third_employee="+e+"&status=O",{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getCajaByIdStatus2=function(e){var i=new Promise((function(i,n){s.http.get(c.a.cierreCaja+"/close/boxes2?id_third_employee="+e+"&status=O",{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postBox=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_caja,e,{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postBoxDetail=function(e,i){var n=new r.e;null!=i&&(n=n.append("id_cierre_caja",i));var o=new Promise((function(i,o){s.http.post(s.api_uri_caja_detail,e,{headers:s.headers,params:n}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(o)},this.closeBox=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_caja+"/state/"+e,i,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getSalesSum=function(e){var i=new Promise((function(i,n){s.http.get(c.a.cierreCaja+"/close/ventasCaja?id_cierre_caja="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getGeneralCategories=function(){var e={listaTipos:s.locStorage.getTipo()},i=new Promise((function(i,n){s.http.post(s.api_uri_inv+"/get",e).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getCategoryByThird=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_inv+"/byThird?id_third="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getCategoryByThirdCategory=function(e,i){var n=new Promise((function(n,o){s.http.get(s.api_uri_inv+"/children/byThird?id_category_father="+String(i)+"&id_third="+String(e),{headers:s.headers}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getCategoryByFather=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_inv+"/children?id_category_father="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getProductsByCategory=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_products+"?id_category="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getSubproductsByCategory=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_products+"/code?id_product="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getGenericMeassureUnits=function(){var e=new Promise((function(e,i){s.http.get(s.api_uri_brand,{headers:s.headers}).subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(e)},this.getMeassureUnitsByFather=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_brand+"/bymu?id_measure_unit_father="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getMeassureByThird=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_brand+"/bythird?id_third="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getMeassureByThirdAndFater=function(e,i){var n=new Promise((function(n,o){s.http.get(s.api_uri_brand+"/bythirdAndmu?id_measure_unit_father="+String(i)+"&id_third"+String(e)).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getBrands=function(){var e=new Promise((function(e,i){s.http.get(s.api_uri_brand+"/brand").subscribe((function(t){e(t)}),(function(e){t.handleError(e),i(e)}))}));return Object(a.a)(e)},this.getBrandsByFather=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_brand+"/brand/bybrand?id_brand_father="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getBrandByThirdAndFater=function(e,i){var n=new Promise((function(n,o){s.http.get(s.api_uri_brand+"/brand/bybrandbythird?id_brand_father="+String(i)+"&id_third="+String(e)).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getBrandByThird=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_brand+"/brand/bythird?id_third="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postMeasureUnit=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_brand,e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postBrand=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_brand+"/brand",e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putBrand=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_brand+"/brand?id_brand="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.putMeasureUnit=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_brand+"?id_measure_unit="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.postCategory=function(e){var i=new Promise((function(i,n){s.http.post(c.a.tienda+"/categories2",e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putCategory=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_inv+"?id_category="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.postProduct=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_products,e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putProduct=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_products+"?id_product="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.postCode=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_products+"/code",e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putCode=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_products+"/code/update?id_code="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getStoresByThird=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_store+"?id_third="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getStoragesByStore=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_store+"/s?id_store="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getProductsByStorage=function(e){var i=new Promise((function(i,n){s.http.get(c.a.tienda+"/products2/productxstorage?id_storage="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getCategoriesByThird=function(e){var i=new Promise((function(i,n){s.http.get(c.a.tienda+"/store/s/categories?id_third="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getBoxByStore=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_store+"/b?id_store="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.postStore=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_store,e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putStore=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_store+"?id_store="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.postBoxStore=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_store+"/b",e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putBox=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_store+"/b?id_caja="+String(i),e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.postStorage=function(e){var i=new Promise((function(i,n){s.http.post(s.api_uri_store+"/s",e,{headers:s.headers,responseType:"text"}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.putStorage=function(e,i){var n=new Promise((function(n,o){s.http.put(s.api_uri_store+"/s?id_store="+i,e,{headers:s.headers,responseType:"text"}).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.getBoxDetail=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_caja+"/boxdetail?id_cierre_caja="+String(e),{headers:s.headers}).subscribe((function(t){i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getBoxMaster=function(e){var i=new Promise((function(i,n){s.http.get(s.api_uri_caja+"/boxmaster?id_cierre_caja="+String(e),{headers:s.headers}).subscribe((function(t){Object(o.a)("STUFF TO TEST,",t),i(t)}),(function(e){t.handleError(e),n(e)}))}));return Object(a.a)(i)},this.getProductsByCategoryThird=function(e,i){var n=new Promise((function(n,o){console.log(c.a.tienda+"/categories2/productsOnStore?id_third="+String(i)+"&id_category="+e+"&id_store="+s.locStorage.getIdStore()),s.http.get(c.a.tienda+"/categories2/productsOnStore?id_third="+String(i)+"&id_category="+e+"&id_store="+s.locStorage.getIdStore()).subscribe((function(t){n(t)}),(function(e){t.handleError(e),o(e)}))}));return Object(a.a)(n)},this.headers=new r.d({"Content-Type":"application/json",Authorization:this.locStorage.getTokenValue()})}return _createClass(t,[{key:"onClick",value:function(){this.invokeFirstComponentFunction.emit()}}],[{key:"handleError",value:function(t){if(t instanceof Response){var e=t.json()||"",i=e.error||JSON.stringify(e);"".concat(t.status," - ").concat(t.statusText||""," ").concat(i)}else t.message?t.message:t.toString();return localStorage.getItem("SesionExpirada"),null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.bc(r.b),n.bc(s.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},fX4n:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n){_classCallCheck(this,t)}},m0vS:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i){_classCallCheck(this,t)}},pQyV:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n=i("mrSG"),o=i("hwtd"),r=i("LcAk"),a=i("sPm0"),c=i("HErj"),s=i("MkNp"),l=i("a9bD"),u=i("fXoL"),d=i("ofXK"),b=i("MSSf"),h=i("cCzN"),f=i("2+6u"),p=i("A2Vd"),m=i("Xlwt"),g=i("tk/3"),v=i("tyNb"),_=i("Dcmo"),y=i("fDUG"),S=i("IRfi"),C=i("j14s"),x=i("3Pt+"),D=i("TT0I"),V=function(){return{precision:0}},w=function(){var t=function(){function t(e,i,n,o,r,a,c,s){_classCallCheck(this,t),this.datePipe=e,this.dialogRef=i,this.http2=n,this.router=o,this.dialog=r,this.locStorage=a,this.billingService=c,this.flag=s,this.boxDisabled=!1,this.currentDate=new Date,this.movementType="d",this.movementMoney=0,this.movementNotes="",this.balance=0,this.total=0,this.caja=localStorage.getItem("currentBox"),this.movementBill=0,this.movementCoin=0,this.movementTrans=0,this.movementNotas="",this.total2=0,this.closeboxinfo={balance:0,caja:"",cajero:"",notes:null,starting_DATE:"",store:""},this.devoluciones=0,this.devolucionesCred=0,this.devolucionesDebt=0,this.currentBalance=0,this.devolucionesTransf=0,this.balances=0,this.efectivo=0,this.tarjCred=0,this.transferencias=0,this.tarjDeb=0,this.consecutive=0,this.base=0,this.credits=0,this.debts=0,this.buttonoff=!1}return _createClass(t,[{key:"getCreds",value:function(t){for(var e=0;e<t.length;e++)"C"==t[e].naturaleza&&(this.credits+=t[e].valor)}},{key:"getDevoluciones",value:function(t){for(var e=0;e<t.length;e++)t[e].notes.includes("Efectivo - Devoluci\xf3n factura")&&(this.devoluciones+=t[e].valor),t[e].notes.includes("TD - Devoluci\xf3n factura")&&(this.devolucionesDebt+=t[e].valor),t[e].notes.includes("TC - Devoluci\xf3n factura")&&(this.devolucionesCred+=t[e].valor),t[e].notes.includes("TR - Devoluci\xf3n factura")&&(this.devolucionesTransf+=t[e].valor)}},{key:"getDebts",value:function(t){for(var e=0;e<t.length;e++)"D"==t[e].naturaleza&&(this.debts+=t[e].valor)}},{key:"ngOnInit",value:function(){var t=this;this.currentBalance=0,this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(e){t.http2.get(s.a.facturacion+"/pedidos/getPlanillasData/cierreCaja?id_cierre_caja="+e[0]+"&status=C").subscribe((function(i){i.length>0&&t.dialog.open(l.a,{width:"60vw",height:"80vh",data:{resp:i,id_cierre_caja:e[0]},disableClose:!0}).afterClosed().subscribe((function(t){}))})),t.billingService.getDetailsById(e[0]).subscribe((function(e){Object(o.a)(e,"los detallitos"),t.myDetails=e,t.base=e[0].valor,t.getCreds(e),t.getDebts(e),t.getDevoluciones(e)}))})),this.nombreEmployee=this.locStorage.getPerson().first_name+" "+this.locStorage.getPerson().first_lastname,this.calculateBalance(),this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(e){t.idOfOpenBox=e,t.http2.get(s.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+e+"&id_payment=1").subscribe((function(e){t.efectivo=e})),t.http2.get(s.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+e+"&id_payment=3").subscribe((function(e){t.tarjCred=e})),t.http2.get(s.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+e+"&id_payment=2").subscribe((function(e){t.tarjDeb=e})),t.http2.get(s.a.cierreCaja+"/close/ventasPayment?id_cierre_caja="+e+"&id_payment=4").subscribe((function(e){t.transferencias=e})),t.billingService.getSalesSum(e[0]).subscribe((function(i){t.total2=i,t.billingService.getBoxDetail(e).subscribe((function(i){t.billingService.getBoxMaster(e).subscribe((function(e){t.closeboxinfo=e,t.currentBalance=e.balance,t.balances=t.currentBalance,t.closeboxinfo.cajero=t.locStorage.getPerson().first_name+" "+t.locStorage.getPerson().first_lastname,t.closeboxinfo.caja=String(t.locStorage.getIdCaja()),t.closeboxinfo.store=String(t.locStorage.getIdStore()),Object(o.a)(e)}))}))}))})),this.http2.get(s.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe((function(e){Object(o.a)("THIS IS DATA FOR ME: ",e),t.nombreCaja=e.caja,t.nombreTienda=e.store}))}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"openBox",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.buttonoff=!0,this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(t){var i=localStorage.getItem("movements");if("d"===e.movementType)var n='[{"valor": '+String(e.movementMoney)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "'+e.movementNotes+'"}]',r="-"+String(e.movementMoney);"c"===e.movementType&&(n='[{"valor": '+String(e.movementMoney)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "'+e.movementNotes+'"}]',r=String(e.movementMoney)),e.billingService.postBoxDetail(n,t[0]).subscribe((function(t){localStorage.setItem("movements",i+","+r),Object(o.a)(localStorage.getItem("movements")),e.movementMoney=0,e.movementNotes="",e.movementType="",e.closeDialog()}))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"calculateaux1",value:function(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementBill)}},{key:"calculateaux2",value:function(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementCoin)}},{key:"calculateBalance",value:function(){this.currentBalance=this.closeboxinfo.balance+Number(this.movementTrans)}},{key:"openDetailsDialog",value:function(){this.dialog.open(a.a,{width:"60vw",data:{}})}},{key:"printPdf",value:function(t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.a)("THIS IS ID, ",t),Object(o.a)("CAJA NOMBRE: ",this.nombreCaja),Object(o.a)("CAJA TIENDA: ",this.nombreTienda),Object(o.a)("/----BANDERA 1----/"),this.http2.get(s.a.cierreCaja+"/close/consecutive?id_cierre_caja="+t).subscribe((function(e){Object(o.a)("/----BANDERA 2----/"),Object(o.a)(e),i.http2.get(s.a.cierreCaja+"/close/consecutive2?id="+t,{responseType:"text"}).subscribe((function(n){Object(o.a)("/----BANDERA 3----/"),Object(o.a)(n),i.http2.post(s.a.cierreCaja+"/close/pdf",{codigo:"-"+i.locStorage.getIdStore()+"-"+i.locStorage.getIdCaja()+"-",nombre_empresa:i.locStorage.getThird().info.fullname,nit:i.locStorage.getThird().info.type_document+" "+i.locStorage.getThird().info.document_number,numero_documento:(i.locStorage.getThird().info.fullname+"_cc_"+e).split(" ").join("_"),nombre_cajero:i.locStorage.getPerson().first_name+" "+i.locStorage.getPerson().first_lastname,nombre_caja:i.nombreCaja,nombre_tienda:i.nombreTienda,fecha_inicio:i.datePipe.transform(new Date(i.closeboxinfo.starting_DATE),"dd/MM/yyyy HH:mm"),fecha_finalizacion:i.datePipe.transform(new Date(n),"dd/MM/yyyy HH:mm"),balance:Number(i.pdfJson),detalles:i.detailList},{responseType:"text"}).subscribe((function(r){Object(o.a)("/----BANDERA 4----/"),Object(o.a)(r),Object(o.a)("THE PDF TO BOX IS: ",JSON.stringify({codigo:"-"+i.locStorage.getIdStore()+"-"+i.locStorage.getIdCaja()+"-",nombre_empresa:i.locStorage.getThird().info.fullname,nit:i.locStorage.getThird().info.type_document+" "+i.locStorage.getThird().info.document_number,numero_documento:(i.locStorage.getThird().info.fullname+"_cc_"+e).split(" ").join("_"),nombre_cajero:i.locStorage.getPerson().first_name+" "+i.locStorage.getPerson().first_lastname,nombre_caja:i.nombreCaja,nombre_tienda:i.nombreTienda,fecha_inicio:i.datePipe.transform(new Date(i.closeboxinfo.starting_DATE),"dd/MM/yyyy HH:mm"),fecha_finalizacion:i.datePipe.transform(new Date(n),"dd/MM/yyyy HH:mm"),balance:Number(i.pdfJson),detalles:i.detailList})),i.http2.post(s.a.cierreCaja+"/close/url",{iddoc:t,url:s.a.root+"docscaja/"+r}).subscribe((function(t){Object(o.a)("/----BANDERA 5----/"),Object(o.a)(t)})),window.open(s.a.root+"docscaja/"+r,"_blank")}))}))}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"convertTime12to24",value:function(t){var e=_slicedToArray(t.split(" "),2),i=e[0],n=e[1],o=_slicedToArray(i.split(":"),2),r=o[0],a=o[1];return"12"===r&&(r="00"),"PM"===n&&(r=parseInt(r,10)+12),"".concat(r,":").concat(a)}},{key:"generateDetailList",value:function(t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,n,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],n=[],o=0,t.forEach((function(e){o++,(n=[]).push(String(e.movement_DATE)),n.push(e.naturaleza),n.push(e.notes),n.push(e.valor),i.push(n),o===t.length&&(r.detailList=i)}));case 2:case"end":return e.stop()}}),e)})))}},{key:"saveCloseBox",value:function(t){var e=this;this.http2.get(s.a.cierreCaja+"/close/details?id_caja="+this.locStorage.getIdCaja()).subscribe((function(i){Object(o.a)("THIS IS DATA FOR ME: ",i),e.nombreCaja=i.caja,e.nombreTienda=i.store,e.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(i){var n='[{"valor": '+String(e.tarjDeb-e.devolucionesDebt)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Tarjeta Debito"}]';e.billingService.postBoxDetail(n,i[0]).subscribe((function(n){var o='[{"valor": '+String(e.movementBill)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Billetes"}]';e.billingService.postBoxDetail(o,i[0]).subscribe((function(n){o='[{"valor": '+String(e.movementCoin)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Monedas"}]',e.billingService.postBoxDetail(o,i[0]).subscribe((function(n){o='[{"valor": '+String(e.tarjCred-e.devolucionesCred)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Tarjeta Credito"}]',e.billingService.postBoxDetail(o,i[0]).subscribe((function(n){o='[{"valor": '+String(e.transferencias-e.devolucionesTransf)+', "naturaleza": "C", "movement_DATE": "2019-03-23", "notes": "Transferencia"}]',e.billingService.postBoxDetail(o,i[0]).subscribe((function(n){o='[{"valor": '+String(e.efectivo+e.tarjCred+e.tarjDeb+e.transferencias)+', "naturaleza": "D", "movement_DATE": "2019-03-23", "notes": "Total de ventas"}]',e.billingService.postBoxDetail(o,i[0]).subscribe((function(i){e.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(i){e.billingService.getBoxMaster(i).subscribe((function(n){e.pdfJson=n,e.billingService.closeBox(i,{status:"C",notes:t}).subscribe((function(t){e.billingService.getDetailsById(e.idOfOpenBox).subscribe((function(t){e.generateDetailList(t).then((function(t){e.printPdf(e.idOfOpenBox[0]).then((function(t){e.locStorage.setBoxStatus(!1),e.boxDisabled=!1}))}))})),e.router.navigateByUrl("/dashboard/business/menu"),e.closeDialog()}))}))}))}))}))}))}))}))}))}))}))}},{key:"closeBoxOG",value:function(){var t,e=this;this.boxDisabled=!0;var i=this.dialog.open(c.a,{height:"450px",width:"600px",data:{},disableClose:!0});Object(o.a)("ID_CIERRE_CAJA: "),Object(o.a)(this.idOfOpenBox[0]),this.http2.post(s.a.facturacion+"/pedidos/cierreCajaPlanilla?IDCIERRECAJA="+this.idOfOpenBox[0],{}).subscribe((function(n){i.afterClosed().subscribe((function(i){e.locStorage.setBoxStatus(!1),Object(o.a)(i),null!==i&&(t=i,e.saveCloseBox(t))}))}))}},{key:"closeBox",value:function(){var t,e=this;this.boxDisabled=!0,this.dialog.open(c.a,{height:"450px",width:"600px",data:{},disableClose:!0}).afterClosed().subscribe((function(i){e.locStorage.setBoxStatus(!1),null!==i&&e.http2.post(s.a.cierreCaja+"/close/cierre_de_caja?idCaja="+e.locStorage.getIdCaja()+"&billetes="+e.movementBill+"&monedas="+e.movementCoin+"&notas="+t,{}).subscribe((function(n){t=i,e.http2.get(s.a.cierreCaja+"/close/details?id_caja="+e.locStorage.getIdCaja()).subscribe((function(t){e.nombreCaja=t.caja,e.nombreTienda=t.store,e.http2.get(s.a.cierreCaja+"/close/balance/v2?id_cierre_caja="+e.idOfOpenBox[0]).subscribe((function(t){e.pdfJson=t,console.log("E: "+n),1==n&&e.billingService.getDetailsById(e.idOfOpenBox).subscribe((function(t){e.generateDetailList(t).then((function(t){e.printPdf(e.idOfOpenBox[0]).then((function(t){e.locStorage.setBoxStatus(!1),e.boxDisabled=!1})),e.router.navigateByUrl("/dashboard/business/menu"),e.closeDialog()}))}))}))}))}))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Qb(d.f),u.Qb(r.h),u.Qb(g.b),u.Qb(v.b),u.Qb(r.b),u.Qb(_.a),u.Qb(y.a),u.Qb(r.a))},t.\u0275cmp=u.Kb({type:t,selectors:[["app-close-box"]],decls:136,vars:99,consts:[[2,"max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","25px"],["label","Movimientos de caja"],[3,"value","valueChange"],["value","c"],["value","d"],["currencyMask","","matInput","","type","text","placeholder","Cantidad","id","reader","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],["matInput","","type","text","placeholder","Notas","id","reader","autofocus","","type","text",1,"text-center",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary","type","button",3,"hidden","click"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-stroked-button","","color","primary","type","button",3,"disabled","click"],["label","Cierre de caja"],[1,"row"],[1,"col-12"],[1,"table","table-hover"],[1,"text-center"],[1,"col-6",3,"hidden"],[1,"col-6"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en Billetes","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en Monedas","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange","click"],[3,"hidden"],["currencyMask","","matInput","","type","number","placeholder","Cantidad en transacciones","autofocus","","type","text",1,"text-center",3,"options","ngModel","ngModelChange"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"mat-card"),u.Wb(2,"mat-card-header",1),u.Wb(3,"mat-card-title",2),u.Mc(4," Opciones de Caja"),u.Vb(),u.Vb(),u.Wb(5,"mat-card-content",3),u.Wb(6,"mat-tab-group"),u.Wb(7,"mat-tab",4),u.Wb(8,"h4"),u.Mc(9,"Estas a punto de hacer un nuevo movimiento de caja."),u.Vb(),u.Wb(10,"mat-form-field"),u.Wb(11,"mat-label"),u.Mc(12,"Select an option"),u.Vb(),u.Wb(13,"mat-select",5),u.fc("valueChange",(function(t){return e.movementType=t})),u.Wb(14,"mat-option",6),u.Mc(15,"Egreso"),u.Vb(),u.Wb(16,"mat-option",7),u.Mc(17,"Ingreso"),u.Vb(),u.Vb(),u.Vb(),u.Wb(18,"mat-form-field"),u.Wb(19,"input",8),u.fc("ngModelChange",(function(t){return e.movementMoney=t}))("click",(function(t){return t.target.select()})),u.Vb(),u.Vb(),u.Wb(20,"mat-form-field"),u.Wb(21,"input",9),u.fc("ngModelChange",(function(t){return e.movementNotes=t})),u.Vb(),u.Vb(),u.Wb(22,"button",10),u.fc("click",(function(){return e.closeDialog()})),u.Mc(23,"Volver"),u.Vb(),u.Wb(24,"button",11),u.fc("click",(function(){return e.openDetailsDialog()})),u.Mc(25,"Ver Otros Movimientos"),u.Vb(),u.Wb(26,"button",12),u.fc("click",(function(){return e.openBox()})),u.Mc(27,"A\xf1adir Movimiento"),u.Vb(),u.Vb(),u.Wb(28,"mat-tab",13),u.Wb(29,"div",14),u.Wb(30,"div",15),u.Wb(31,"table",16),u.Wb(32,"thead"),u.Wb(33,"tr"),u.Wb(34,"th",17),u.Wb(35,"b"),u.Mc(36),u.Vb(),u.Vb(),u.Vb(),u.Wb(37,"tr"),u.Wb(38,"th",17),u.Wb(39,"b"),u.Mc(40),u.Vb(),u.Vb(),u.Vb(),u.Wb(41,"tr"),u.Wb(42,"th",17),u.Wb(43,"b"),u.Mc(44),u.Vb(),u.Vb(),u.Vb(),u.Wb(45,"tr"),u.Wb(46,"th",17),u.Wb(47,"b"),u.Mc(48),u.kc(49,"date"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Rb(50,"tbody"),u.Vb(),u.Vb(),u.Wb(51,"div",18),u.Wb(52,"table",16),u.Wb(53,"thead"),u.Wb(54,"tr"),u.Wb(55,"th",17),u.Rb(56,"b"),u.Vb(),u.Wb(57,"th",17),u.Wb(58,"b"),u.Mc(59,"Ventas"),u.Vb(),u.Vb(),u.Wb(60,"th",17),u.Wb(61,"b"),u.Mc(62,"Devoluciones"),u.Vb(),u.Vb(),u.Wb(63,"th",17),u.Rb(64,"b"),u.Vb(),u.Vb(),u.Wb(65,"tr"),u.Wb(66,"th",17),u.Wb(67,"b"),u.Mc(68,"Efectivo: "),u.Vb(),u.Vb(),u.Wb(69,"th",17),u.Mc(70),u.kc(71,"currency"),u.Vb(),u.Wb(72,"th",17),u.Mc(73),u.kc(74,"currency"),u.Vb(),u.Wb(75,"th",17),u.Mc(76),u.kc(77,"currency"),u.Vb(),u.Vb(),u.Wb(78,"tr"),u.Wb(79,"th",17),u.Wb(80,"b"),u.Mc(81,"Tarjeta Debito: "),u.Vb(),u.Vb(),u.Wb(82,"th",17),u.Mc(83),u.kc(84,"currency"),u.Vb(),u.Wb(85,"th",17),u.Mc(86),u.kc(87,"currency"),u.Vb(),u.Wb(88,"th",17),u.Mc(89),u.kc(90,"currency"),u.Vb(),u.Vb(),u.Wb(91,"tr"),u.Wb(92,"th",17),u.Wb(93,"b"),u.Mc(94,"Tarjeta Credito: "),u.Vb(),u.Vb(),u.Wb(95,"th",17),u.Mc(96),u.kc(97,"currency"),u.Vb(),u.Wb(98,"th",17),u.Mc(99),u.kc(100,"currency"),u.Vb(),u.Wb(101,"th",17),u.Mc(102),u.kc(103,"currency"),u.Vb(),u.Vb(),u.Wb(104,"tr"),u.Wb(105,"th",17),u.Rb(106,"b"),u.Vb(),u.Wb(107,"th",17),u.Wb(108,"h4"),u.Wb(109,"b"),u.Mc(110),u.kc(111,"currency"),u.Vb(),u.Vb(),u.Vb(),u.Wb(112,"th",17),u.Wb(113,"h4"),u.Wb(114,"b"),u.Mc(115),u.kc(116,"currency"),u.Vb(),u.Vb(),u.Vb(),u.Wb(117,"th",17),u.Wb(118,"h4"),u.Wb(119,"b"),u.Mc(120),u.kc(121,"currency"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Rb(122,"tbody"),u.Vb(),u.Vb(),u.Vb(),u.Wb(123,"div",14),u.Wb(124,"div",19),u.Wb(125,"mat-form-field"),u.Wb(126,"input",20),u.fc("ngModelChange",(function(t){return e.movementBill=t}))("ngModelChange",(function(){return e.calculateaux1()}))("click",(function(t){return t.target.select()})),u.Vb(),u.Vb(),u.Vb(),u.Wb(127,"div",19),u.Wb(128,"mat-form-field"),u.Wb(129,"input",21),u.fc("ngModelChange",(function(t){return e.movementCoin=t}))("ngModelChange",(function(){return e.calculateaux2()}))("click",(function(t){return t.target.select()})),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Wb(130,"mat-form-field",22),u.Wb(131,"input",23),u.fc("ngModelChange",(function(t){return e.movementTrans=t}))("ngModelChange",(function(){return e.calculateBalance()})),u.Vb(),u.Vb(),u.Wb(132,"button",10),u.fc("click",(function(){return e.closeDialog()})),u.Mc(133,"Volver"),u.Vb(),u.Wb(134,"button",10),u.fc("click",(function(){return e.closeBox()})),u.Mc(135,"Cerrar Caja"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Db(13),u.qc("value",e.movementType),u.Db(6),u.qc("options",u.tc(95,V))("ngModel",e.movementMoney),u.Db(2),u.qc("ngModel",e.movementNotes),u.Db(1),u.qc("hidden",!e.flag.flag),u.Db(4),u.qc("disabled",!(e.movementMoney>0&&e.movementNotes.length>0)||e.buttonoff),u.Db(10),u.Oc("Tienda: ",e.nombreTienda,""),u.Db(4),u.Oc("Caja: ",e.nombreCaja,""),u.Db(4),u.Oc("Cajero: ",e.closeboxinfo.cajero.replace("null"," "),""),u.Db(4),u.Oc("Fecha apertura: ",u.mc(49,32,e.closeboxinfo.starting_DATE,"dd/MM/yyyy H:mm"),""),u.Db(3),u.qc("hidden",!0),u.Db(19),u.Oc(" ",u.nc(71,35,e.efectivo,"USD","symbol","1.0"),""),u.Db(3),u.Oc(" ",u.nc(74,40,e.devoluciones,"USD","symbol","1.0")," "),u.Db(3),u.Oc(" ",u.nc(77,45,e.efectivo-e.devoluciones,"USD","symbol","1.0")," "),u.Db(7),u.Oc(" ",u.nc(84,50,e.tarjDeb,"USD","symbol","1.0"),""),u.Db(3),u.Oc(" ",u.nc(87,55,e.devolucionesDebt,"USD","symbol","1.0")," "),u.Db(3),u.Oc(" ",u.nc(90,60,e.tarjDeb-e.devolucionesDebt,"USD","symbol","1.0")," "),u.Db(7),u.Oc(" ",u.nc(97,65,e.tarjCred,"USD","symbol","1.0"),""),u.Db(3),u.Oc(" ",u.nc(100,70,e.devolucionesCred,"USD","symbol","1.0")," "),u.Db(3),u.Oc(" ",u.nc(103,75,e.tarjCred-e.devolucionesCred,"USD","symbol","1.0")," "),u.Db(8),u.Nc(u.nc(111,80,e.tarjCred+e.tarjDeb+e.efectivo,"USD","symbol","1.0")),u.Db(5),u.Nc(u.nc(116,85,e.devoluciones+e.devolucionesDebt+e.devolucionesCred,"USD","symbol","1.0")),u.Db(5),u.Nc(u.nc(121,90,e.tarjCred+e.tarjDeb+e.efectivo-(e.devoluciones+e.devolucionesDebt+e.devolucionesCred),"USD","symbol","1.0")),u.Db(6),u.qc("options",u.tc(96,V))("ngModel",e.movementBill),u.Db(3),u.qc("options",u.tc(97,V))("ngModel",e.movementCoin),u.Db(1),u.qc("hidden",!0),u.Db(1),u.qc("options",u.tc(98,V))("ngModel",e.movementTrans),u.Db(1),u.qc("hidden",!e.flag.flag),u.Db(2),u.qc("hidden",e.boxDisabled))},directives:[b.a,b.f,b.m,b.d,h.c,h.a,S.b,S.f,f.a,C.p,p.b,x.c,D.a,x.r,x.u,m.b],pipes:[d.f,d.d],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:800}mat-form-field[_ngcontent-%COMP%]{width:100%;font-size:1.2em}.example-card[_ngcontent-%COMP%]{margin:15px}.img-table[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}.row[_ngcontent-%COMP%]{padding-top:25px}.card2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 17px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.card2[_ngcontent-%COMP%]{width:100%;margin-top:5px;margin-bottom:5px}.img-card[_ngcontent-%COMP%]{width:100%;height:200px;border-top-left-radius:2px;border-top-right-radius:2px;display:block;overflow:hidden}.img-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;-o-object-fit:cover;object-fit:cover;transition:all .25s ease}.card2-content[_ngcontent-%COMP%]{padding:15px;text-align:left}.card2-title[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:1.65em}.card2-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important}.card2-read-more[_ngcontent-%COMP%]{border-top:1px solid #d4d4d4}.card2-read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;padding:5px;font-weight:600;text-transform:uppercase}"]}),t}()},sPm0:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("hwtd"),o=i("fXoL"),r=i("LcAk"),a=i("MSSf"),c=i("Xlwt"),s=i("fDUG"),l=i("ofXK");function u(t,e){if(1&t&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Mc(2),o.Vb(),o.Wb(3,"td"),o.Mc(4),o.Vb(),o.Wb(5,"td"),o.Mc(6),o.Vb(),o.Wb(7,"td"),o.Mc(8),o.kc(9,"currency"),o.Vb(),o.Vb()),2&t){var i=e.$implicit;o.Db(2),o.Nc(i.movement_DATE),o.Db(2),o.Nc("D"===i.naturaleza?"D\xe9bito":"Cr\xe9dito"),o.Db(2),o.Nc(i.notes),o.Db(2),o.Nc(o.lc(9,4,i.valor))}}var d=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.dialogRef=e,this.billingService=i}return _createClass(t,[{key:"ngOnInit",value:function(){this.openMovementDetailModal()}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"openMovementDetailModal",value:function(){var t=this;this.billingService.getCajaByIdStatus(localStorage.getItem("id_employee")).subscribe((function(e){t.billingService.getDetailsById(e[0]).subscribe((function(e){Object(n.a)(e,"los detallitos"),t.myDetails=e}))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.h),o.Qb(s.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-view-details-box"]],decls:18,vars:1,consts:[[2,"height","100%","width","100%","padding","0","max-height","85vh"],[2,"background-color","rgb(5, 53, 107)","margin","0","padding","20px"],[2,"font-family","Roboto","font-size","1.3em","font-weight","700","margin-bottom","15px","color","white"],[2,"padding","25px"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"mat-card",0),o.Wb(1,"mat-card-header",1),o.Wb(2,"mat-card-title",2),o.Mc(3," Movimientos de Caja "),o.Vb(),o.Vb(),o.Wb(4,"mat-card-content",3),o.Wb(5,"table",4),o.Wb(6,"tr"),o.Wb(7,"th"),o.Mc(8,"Fecha"),o.Vb(),o.Wb(9,"th"),o.Mc(10,"Tipo"),o.Vb(),o.Wb(11,"th"),o.Mc(12,"Notas"),o.Vb(),o.Wb(13,"th"),o.Mc(14,"Valor"),o.Vb(),o.Vb(),o.Kc(15,u,10,6,"tr",5),o.Vb(),o.Wb(16,"button",6),o.fc("click",(function(){return e.closeDialog()})),o.Mc(17,"Volver"),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(15),o.qc("ngForOf",e.myDetails))},directives:[a.a,a.f,a.m,a.d,l.s,c.b],pipes:[l.d],styles:[""]}),t}()},xeFw:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function t(e,i,n,o,r,a){_classCallCheck(this,t)}}}]);